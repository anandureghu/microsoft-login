/*! For license information please see main.11ef2775.js.LICENSE.txt */
!function(){"use strict";var e={110:function(e,t,n){var r=n(309),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var o=p(n);o&&o!==f&&e(t,o,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=c(t),g=c(n),m=0;m<a.length;++m){var v=a[m];if(!i[v]&&(!r||!r[v])&&(!g||!g[v])&&(!s||!s[v])){var y=h(n,v);try{u(t,v,y)}catch(b){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case i:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case u:case h:case m:case g:case c:return e;default:return t}}case o:return t}}}function C(e){return E(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=h,t.Fragment=i,t.Lazy=m,t.Memo=g,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return C(e)||E(e)===l},t.isConcurrentMode=C,t.isContextConsumer=function(e){return E(e)===u},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===h},t.isFragment=function(e){return E(e)===i},t.isLazy=function(e){return E(e)===m},t.isMemo=function(e){return E(e)===g},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===s},t.isStrictMode=function(e){return E(e)===a},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===s||e===a||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=E},309:function(e,t,n){e.exports=n(746)},157:function(e,t,n){n.r(t),n.d(t,{Account:function(){return Ue},AuthError:function(){return A},Authority:function(){return Ie},ClientAuthError:function(){return J},ClientConfigurationError:function(){return me},Constants:function(){return d},CryptoUtils:function(){return l},InteractionRequiredAuthError:function(){return Je},LogLevel:function(){return Te},Logger:function(){return He},ServerError:function(){return We},ServerHashParamKeys:function(){return u},UrlUtils:function(){return ye},UserAgentApplication:function(){return jt},WindowUtils:function(){return Le},version:function(){return Ee}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function c(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var u,l=function(){function e(){}return e.createNewGuid=function(){var t=window.crypto;if(t&&t.getRandomValues){var n=new Uint8Array(16);return t.getRandomValues(n),n[6]|=64,n[6]&=79,n[8]|=128,n[8]&=191,e.decimalToHex(n[0])+e.decimalToHex(n[1])+e.decimalToHex(n[2])+e.decimalToHex(n[3])+"-"+e.decimalToHex(n[4])+e.decimalToHex(n[5])+"-"+e.decimalToHex(n[6])+e.decimalToHex(n[7])+"-"+e.decimalToHex(n[8])+e.decimalToHex(n[9])+"-"+e.decimalToHex(n[10])+e.decimalToHex(n[11])+e.decimalToHex(n[12])+e.decimalToHex(n[13])+e.decimalToHex(n[14])+e.decimalToHex(n[15])}for(var r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",o="0123456789abcdef",i=0,a="",s=0;s<36;s++)"-"!==r[s]&&"4"!==r[s]&&(i=16*Math.random()|0),"x"===r[s]?a+=o[i]:"y"===r[s]?(i&=3,a+=o[i|=8]):a+=r[s];return a},e.isGuid=function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},e.decimalToHex=function(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t},e.base64Encode=function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))})))},e.base64Decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Invalid base64 string")}return decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))},e.deserialize=function(e){var t,n=/\+/g,r=/([^&=]+)=([^&]*)/g,o=function(e){return decodeURIComponent(e.replace(n," "))},i={};for(t=r.exec(e);t;)i[o(t[1])]=o(t[2]),t=r.exec(e);return i},e}(),d=function(){function e(){}return Object.defineProperty(e,"libraryName",{get:function(){return"Msal.js"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"claims",{get:function(){return"claims"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"clientId",{get:function(){return"clientId"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"adalIdToken",{get:function(){return"adal.idtoken"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cachePrefix",{get:function(){return"msal"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scopes",{get:function(){return"scopes"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"no_account",{get:function(){return"NO_ACCOUNT"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"upn",{get:function(){return"upn"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"domain_hint",{get:function(){return"domain_hint"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"prompt_select_account",{get:function(){return"&prompt=select_account"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"prompt_none",{get:function(){return"&prompt=none"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"prompt",{get:function(){return"prompt"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"response_mode_fragment",{get:function(){return"&response_mode=fragment"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"resourceDelimiter",{get:function(){return"|"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cacheDelimiter",{get:function(){return"."},enumerable:!1,configurable:!0}),Object.defineProperty(e,"popUpWidth",{get:function(){return this._popUpWidth},set:function(e){this._popUpWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"popUpHeight",{get:function(){return this._popUpHeight},set:function(e){this._popUpHeight=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"login",{get:function(){return"LOGIN"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"renewToken",{get:function(){return"RENEW_TOKEN"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"unknown",{get:function(){return"UNKNOWN"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ADFS",{get:function(){return"adfs"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"homeAccountIdentifier",{get:function(){return"homeAccountIdentifier"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"common",{get:function(){return"common"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"openidScope",{get:function(){return"openid"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"profileScope",{get:function(){return"profile"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"oidcScopes",{get:function(){return[this.openidScope,this.profileScope]},enumerable:!1,configurable:!0}),Object.defineProperty(e,"interactionTypeRedirect",{get:function(){return"redirectInteraction"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"interactionTypePopup",{get:function(){return"popupInteraction"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"interactionTypeSilent",{get:function(){return"silentInteraction"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"inProgress",{get:function(){return"inProgress"},enumerable:!1,configurable:!0}),e._popUpWidth=483,e._popUpHeight=600,e}();!function(e){e.SCOPE="scope",e.STATE="state",e.ERROR="error",e.ERROR_DESCRIPTION="error_description",e.ACCESS_TOKEN="access_token",e.ID_TOKEN="id_token",e.EXPIRES_IN="expires_in",e.SESSION_STATE="session_state",e.CLIENT_INFO="client_info"}(u||(u={}));var h,p,f,g="id_token",m="token",v="id_token token";!function(e){e.AUTHORITY="authority",e.ACQUIRE_TOKEN_ACCOUNT="acquireTokenAccount",e.SESSION_STATE="session.state",e.STATE_LOGIN="state.login",e.STATE_ACQ_TOKEN="state.acquireToken",e.STATE_RENEW="state.renew",e.NONCE_IDTOKEN="nonce.idtoken",e.LOGIN_REQUEST="login.request",e.RENEW_STATUS="token.renew.status",e.URL_HASH="urlHash",e.INTERACTION_STATUS="interaction.status",e.REDIRECT_REQUEST="redirect_request"}(h||(h={})),function(e){e.IDTOKEN="idtoken",e.CLIENT_INFO="client.info"}(p||(p={})),function(e){e.LOGIN_ERROR="login.error",e.ERROR="error",e.ERROR_DESC="error.description"}(f||(f={}));var y,b=".well-known/openid-configuration";!function(e){e.ACCOUNT="account",e.SID="sid",e.LOGIN_HINT="login_hint",e.ORGANIZATIONS="organizations",e.CONSUMERS="consumers",e.ID_TOKEN="id_token",e.ACCOUNT_ID="accountIdentifier",e.HOMEACCOUNT_ID="homeAccountIdentifier"}(y||(y={}));var w,E=[y.SID,y.LOGIN_HINT],C="GET",_={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none"},S="msalIdTokenFrame",T="msalRenewFrame",I={code:"unexpected_error",desc:"Unexpected error in authentication."},k={code:"no_window_object",desc:"No window object available. Details:"},A=function(e){function t(n,r){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.errorCode=n,o.errorMessage=r,o.name="AuthError",o}return o(t,e),t.createUnexpectedError=function(e){return new t(I.code,I.desc+": "+e)},t.createNoWindowObjectError=function(e){return new t(k.code,k.desc+" "+e)},t}(Error),R=function(){function e(){}return e.isEmpty=function(e){return"undefined"===typeof e||!e||0===e.length},e.validateAndParseJsonCacheKey=function(e){try{var t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(n){return null}},e}(),P={code:"endpoints_resolution_error",desc:"Error: could not resolve endpoints. Please check network and try again."},N={code:"popup_window_error",desc:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser."},O={code:"token_renewal_error",desc:"Token renewal operation failed due to timeout."},M={code:"invalid_id_token",desc:"Invalid ID token format."},x={code:"invalid_state_error",desc:"Invalid state."},U={code:"nonce_mismatch_error",desc:"Nonce is not matching, Nonce received: "},L={code:"login_progress_error",desc:"Login_In_Progress: Error during login call - login is already in progress."},D={code:"acquiretoken_progress_error",desc:"AcquireToken_In_Progress: Error during login call - login is already in progress."},q={code:"user_cancelled",desc:"User cancelled the flow."},H={code:"callback_error",desc:"Error occurred in token received callback function."},F={code:"user_login_error",desc:"User login is required. For silent calls, request must contain either sid or login_hint"},z={code:"user_non_existent",desc:"User object does not exist. Please call a login API."},j={code:"client_info_decoding_error",desc:"The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause."},K={code:"client_info_not_populated_error",desc:"The service did not populate client_info in the response, Please verify with the service team"},B={code:"null_or_empty_id_token",desc:"The idToken is null or empty. Please review the trace to determine the root cause."},G={code:"id_token_parsing_error",desc:"ID token cannot be parsed. Please review stack trace to determine root cause."},W={code:"token_encoding_error",desc:"The token to be decoded is not encoded correctly."},V={code:"invalid_interaction_type",desc:"The interaction type passed to the handler was incorrect or unknown"},Y={code:"cannot_parse_cache",desc:"The cached token key is not a valid JSON and cannot be parsed"},Q={code:"block_token_requests",desc:"Token calls are blocked in hidden iframes"},J=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.name="ClientAuthError",Object.setPrototypeOf(o,t.prototype),o}return o(t,e),t.createEndpointResolutionError=function(e){var n=P.desc;return e&&!R.isEmpty(e)&&(n+=" Details: "+e),new t(P.code,n)},t.createPopupWindowError=function(e){var n=N.desc;return e&&!R.isEmpty(e)&&(n+=" Details: "+e),new t(N.code,n)},t.createTokenRenewalTimeoutError=function(){return new t(O.code,O.desc)},t.createInvalidIdTokenError=function(e){return new t(M.code,M.desc+" Given token: "+e)},t.createInvalidStateError=function(e,n){return new t(x.code,x.desc+" "+e+", state expected : "+n+".")},t.createNonceMismatchError=function(e,n){return new t(U.code,U.desc+" "+e+", nonce expected : "+n+".")},t.createLoginInProgressError=function(){return new t(L.code,L.desc)},t.createAcquireTokenInProgressError=function(){return new t(D.code,D.desc)},t.createUserCancelledError=function(){return new t(q.code,q.desc)},t.createErrorInCallbackFunction=function(e){return new t(H.code,H.desc+" "+e+".")},t.createUserLoginRequiredError=function(){return new t(F.code,F.desc)},t.createUserDoesNotExistError=function(){return new t(z.code,z.desc)},t.createClientInfoDecodingError=function(e){return new t(j.code,j.desc+" Failed with error: "+e)},t.createClientInfoNotPopulatedError=function(e){return new t(K.code,K.desc+" Failed with error: "+e)},t.createIdTokenNullOrEmptyError=function(e){return new t(B.code,B.desc+" Raw ID Token Value: "+e)},t.createIdTokenParsingError=function(e){return new t(G.code,G.desc+" Failed with error: "+e)},t.createTokenEncodingError=function(e){return new t(W.code,W.desc+" Attempted to decode: "+e)},t.createInvalidInteractionTypeError=function(){return new t(V.code,V.desc)},t.createCacheParseError=function(e){var n="invalid key: "+e+", "+Y.desc;return new t(Y.code,n)},t.createBlockTokenRequestsInHiddenIframeError=function(){return new t(Q.code,Q.desc)},t}(A),$={code:"no_config_set",desc:"Configuration has not been set. Please call the UserAgentApplication constructor with a valid Configuration object."},X={code:"storage_not_supported",desc:"The value for the cacheLocation is not supported."},Z={code:"no_redirect_callbacks",desc:"No redirect callbacks have been set. Please call handleRedirectCallback() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},ee={code:"invalid_callback_object",desc:"The object passed for the callback was invalid. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},te={code:"scopes_required",desc:"Scopes are required to obtain an access token."},ne={code:"empty_input_scopes_error",desc:"Scopes cannot be passed as empty array."},re={code:"nonarray_input_scopes_error",desc:"Scopes cannot be passed as non-array."},oe={code:"invalid_prompt_value",desc:"Supported prompt values are 'login', 'select_account', 'consent' and 'none'"},ie={code:"invalid_authority_type",desc:"The given authority is not a valid type of authority supported by MSAL. Please see here for valid authorities: <insert URL here>."},ae={code:"authority_uri_insecure",desc:"Authority URIs must use https."},se={code:"authority_uri_invalid_path",desc:"Given authority URI is invalid."},ce={code:"untrusted_authority",desc:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter or set validateAuthority=false."},ue={code:"b2c_known_authorities_not_set",desc:"Must set known authorities when validateAuthority is set to True and using B2C"},le={code:"claims_request_parsing_error",desc:"Could not parse the given claims request object."},de={code:"empty_request_error",desc:"Request object is required."},he={code:"invalid_guid_sent_as_correlationId",desc:"Please set the correlationId as a valid guid"},pe={code:"telemetry_config_error",desc:"Telemetry config is not configured with required values"},fe={code:"sso_silent_error",desc:"request must contain either sid or login_hint"},ge={code:"authority_metadata_error",desc:"Invalid authorityMetadata. Must be a JSON object containing authorization_endpoint, end_session_endpoint, and issuer fields."},me=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.name="ClientConfigurationError",Object.setPrototypeOf(o,t.prototype),o}return o(t,e),t.createNoSetConfigurationError=function(){return new t($.code,""+$.desc)},t.createStorageNotSupportedError=function(e){return new t(X.code,X.desc+" Given location: "+e)},t.createRedirectCallbacksNotSetError=function(){return new t(Z.code,Z.desc)},t.createInvalidCallbackObjectError=function(e){return new t(ee.code,ee.desc+" Given value for callback function: "+e)},t.createEmptyScopesArrayError=function(e){return new t(ne.code,ne.desc+" Given value: "+e+".")},t.createScopesNonArrayError=function(e){return new t(re.code,re.desc+" Given value: "+e+".")},t.createScopesRequiredError=function(e){return new t(te.code,te.desc+" Given value: "+e)},t.createInvalidPromptError=function(e){return new t(oe.code,oe.desc+" Given value: "+e)},t.createClaimsRequestParsingError=function(e){return new t(le.code,le.desc+" Given value: "+e)},t.createEmptyRequestError=function(){var e=de;return new t(e.code,e.desc)},t.createInvalidCorrelationIdError=function(){return new t(he.code,he.desc)},t.createKnownAuthoritiesNotSetError=function(){return new t(ue.code,ue.desc)},t.createInvalidAuthorityTypeError=function(){return new t(ie.code,ie.desc)},t.createUntrustedAuthorityError=function(e){return new t(ce.code,ce.desc+" Provided Authority: "+e)},t.createTelemetryConfigError=function(e){var n=pe,r=n.code,o=n.desc,i={applicationName:"string",applicationVersion:"string",telemetryEmitter:"function"};return new t(r,o+" mising values: "+Object.keys(i).reduce((function(t,n){return e[n]?t:t.concat([n+" ("+i[n]+")"])}),[]).join(","))},t.createSsoSilentError=function(){return new t(fe.code,fe.desc)},t.createInvalidAuthorityMetadataError=function(){return new t(ge.code,ge.desc)},t}(J),ve=function(){function e(){}return e.isIntersectingScopes=function(e,t){for(var n=this.trimAndConvertArrayToLowerCase(c(e)),r=this.trimAndConvertArrayToLowerCase(c(t)),o=0;o<r.length;o++)if(n.indexOf(r[o].toLowerCase())>-1)return!0;return!1},e.containsScope=function(e,t){var n=this.trimAndConvertArrayToLowerCase(c(e));return this.trimAndConvertArrayToLowerCase(c(t)).every((function(e){return n.indexOf(e.toString().toLowerCase())>=0}))},e.trimAndConvertToLowerCase=function(e){return e.trim().toLowerCase()},e.trimAndConvertArrayToLowerCase=function(e){var t=this;return e.map((function(e){return t.trimAndConvertToLowerCase(e)}))},e.trimScopes=function(e){return e.map((function(e){return e.trim()}))},e.removeElement=function(e,t){var n=this.trimAndConvertToLowerCase(t);return e.filter((function(e){return e!==n}))},e.parseScope=function(e){var t="";if(e)for(var n=0;n<e.length;++n)t+=n!==e.length-1?e[n]+" ":e[n];return t},e.validateInputScope=function(e,t){if(e){if(!Array.isArray(e))throw me.createScopesNonArrayError(e);if(e.length<1&&t)throw me.createEmptyScopesArrayError(e.toString())}else if(t)throw me.createScopesRequiredError(e)},e.getScopeFromState=function(e){if(e){var t=e.indexOf(d.resourceDelimiter);if(t>-1&&t+1<e.length)return e.substring(t+1)}return""},e.appendScopes=function(e,t){if(e){var n=t?this.trimAndConvertArrayToLowerCase(c(t)):null,r=this.trimAndConvertArrayToLowerCase(c(e));return n?c(r,n):r}return null},e.onlyContainsOidcScopes=function(e){var t=e.length,n=0;return e.indexOf(d.openidScope)>-1&&(n+=1),e.indexOf(d.profileScope)>-1&&(n+=1),t>0&&t===n},e.containsAnyOidcScopes=function(e){var t=e.indexOf(d.openidScope)>-1,n=e.indexOf(d.profileScope)>-1;return t||n},e.onlyContainsClientId=function(e,t){return!!e&&e.indexOf(t)>-1&&1===e.length},e.appendDefaultScopes=function(e){var t=e;return-1===t.indexOf(d.openidScope)&&t.push(d.openidScope),-1===t.indexOf(d.profileScope)&&t.push(d.profileScope),t},e.removeDefaultScopes=function(e){return e.filter((function(e){return e!==d.openidScope&&e!==d.profileScope}))},e.translateClientIdIfSingleScope=function(e,t){return this.onlyContainsClientId(e,t)?d.oidcScopes:e},e}(),ye=function(){function e(){}return e.createNavigateUrl=function(e){var t=this.createNavigationUrlString(e),n=e.authorityInstance.AuthorizationEndpoint;return n.indexOf("?")<0?n+="?":n+="&",""+n+t.join("&")},e.createNavigationUrlString=function(e){var t=ve.appendDefaultScopes(e.scopes),n=[];return n.push("response_type="+e.responseType),n.push("scope="+encodeURIComponent(ve.parseScope(t))),n.push("client_id="+encodeURIComponent(e.clientId)),n.push("redirect_uri="+encodeURIComponent(e.redirectUri)),n.push("state="+encodeURIComponent(e.state)),n.push("nonce="+encodeURIComponent(e.nonce)),n.push("client_info=1"),n.push("x-client-SKU="+e.xClientSku),n.push("x-client-Ver="+e.xClientVer),e.promptValue&&n.push("prompt="+encodeURIComponent(e.promptValue)),e.claimsValue&&n.push("claims="+encodeURIComponent(e.claimsValue)),e.queryParameters&&n.push(e.queryParameters),e.extraQueryParameters&&n.push(e.extraQueryParameters),n.push("client-request-id="+encodeURIComponent(e.correlationId)),n},e.getCurrentUrl=function(){return window.location.href.split("?")[0].split("#")[0]},e.removeHashFromUrl=function(e){return e.split("#")[0]},e.replaceTenantPath=function(e,t){var n=e.toLowerCase(),r=this.GetUrlComponents(n),o=r.PathSegments;return!t||0===o.length||o[0]!==d.common&&o[0]!==y.ORGANIZATIONS&&o[0]!==y.CONSUMERS||(o[0]=t),this.constructAuthorityUriFromObject(r,o)},e.constructAuthorityUriFromObject=function(e,t){return this.CanonicalizeUri(e.Protocol+"//"+e.HostNameAndPort+"/"+t.join("/"))},e.isCommonAuthority=function(e){var t=this.CanonicalizeUri(e),n=this.GetUrlComponents(t).PathSegments;return 0!==n.length&&n[0]===d.common},e.isOrganizationsAuthority=function(e){var t=this.CanonicalizeUri(e),n=this.GetUrlComponents(t).PathSegments;return 0!==n.length&&n[0]===y.ORGANIZATIONS},e.isConsumersAuthority=function(e){var t=this.CanonicalizeUri(e),n=this.GetUrlComponents(t).PathSegments;return 0!==n.length&&n[0]===y.CONSUMERS},e.GetUrlComponents=function(e){if(!e)throw"Url required";var t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=e.match(t);if(!n||n.length<6)throw"Valid url required";var r={Protocol:n[1],HostNameAndPort:n[4],AbsolutePath:n[5]},o=r.AbsolutePath.split("/");return o=o.filter((function(e){return e&&e.length>0})),r.PathSegments=o,n[6]&&(r.Search=n[6]),n[8]&&(r.Hash=n[8]),r},e.CanonicalizeUri=function(t){if(t){var n=t.toLowerCase();return e.endsWith(n,"/")||(n+="/"),n}return t},e.endsWith=function(e,t){return!(!e||!t)&&-1!==e.indexOf(t,e.length-t.length)},e.urlRemoveQueryStringParameter=function(e,t){if(R.isEmpty(e))return e;var n=new RegExp("(\\&"+t+"=)[^&]+");return e.replace(n,""),n=new RegExp("("+t+"=)[^&]+&"),e.replace(n,""),n=new RegExp("("+t+"=)[^&]+"),e.replace(n,"")},e.getHashFromUrl=function(e){var t=e.indexOf("#"),n=e.indexOf("#/");return n>-1?e.substring(n+2):t>-1?e.substring(t+1):e},e.urlContainsHash=function(t){var n=e.deserializeHash(t);return n.hasOwnProperty(u.ERROR_DESCRIPTION)||n.hasOwnProperty(u.ERROR)||n.hasOwnProperty(u.ACCESS_TOKEN)||n.hasOwnProperty(u.ID_TOKEN)},e.deserializeHash=function(t){var n=e.getHashFromUrl(t);return l.deserialize(n)},e.getHostFromUri=function(e){var t=String(e).replace(/^(https?:)\/\//,"");return t=t.split("/")[0]},e}(),be=function(e,t,n,r,o){this.authority=ye.CanonicalizeUri(e),this.clientId=t,this.scopes=n,this.homeAccountIdentifier=l.base64Encode(r)+"."+l.base64Encode(o)},we=function(e,t,n,r){this.accessToken=e,this.idToken=t,this.expiresIn=n,this.homeAccountIdentifier=r},Ee="1.4.17",Ce=function(){function e(e,t,n,r,o,i,a){this.authorityInstance=e,this.clientId=t,this.nonce=l.createNewGuid(),this.scopes=o?c(o):d.oidcScopes,this.scopes=ve.trimScopes(this.scopes),this.state=i,this.correlationId=a,this.xClientSku="MSAL.JS",this.xClientVer=Ee,this.responseType=n,this.redirectUri=r}return Object.defineProperty(e.prototype,"authority",{get:function(){return this.authorityInstance?this.authorityInstance.CanonicalAuthority:null},enumerable:!1,configurable:!0}),e.prototype.populateQueryParams=function(t,n,r,o){var i={};n&&(n.prompt&&(this.promptValue=n.prompt),n.claimsRequest&&(this.claimsValue=n.claimsRequest),e.isSSOParam(n)&&(i=this.constructUnifiedCacheQueryParameter(n,null))),r&&(i=this.constructUnifiedCacheQueryParameter(null,r)),i=this.addHintParameters(t,i);var a=n?n.extraQueryParameters:null;this.queryParameters=e.generateQueryParametersString(i),this.extraQueryParameters=e.generateQueryParametersString(a,o)},e.prototype.constructUnifiedCacheQueryParameter=function(e,t){var n,r,o;if(e)if(e.account){var i=e.account;(null===(n=i.idTokenClaims)||void 0===n?void 0:n.login_hint)?(r=y.LOGIN_HINT,o=i.idTokenClaims.login_hint):i.sid?(r=y.SID,o=i.sid):i.userName&&(r=y.LOGIN_HINT,o=i.userName)}else e.sid?(r=y.SID,o=e.sid):e.loginHint&&(r=y.LOGIN_HINT,o=e.loginHint);else t&&t.hasOwnProperty(d.upn)&&(r=y.ID_TOKEN,o=t.upn);return this.addSSOParameter(r,o)},e.prototype.addHintParameters=function(e,t){var n,r,o=t;return e&&(o[y.SID]||o[y.LOGIN_HINT]||((null===(n=e.idTokenClaims)||void 0===n?void 0:n.login_hint)?o=this.addSSOParameter(y.LOGIN_HINT,null===(r=e.idTokenClaims)||void 0===r?void 0:r.login_hint,o):e.sid&&this.promptValue===_.NONE?o=this.addSSOParameter(y.SID,e.sid,o):e.userName&&(o=this.addSSOParameter(y.LOGIN_HINT,e.userName,o)))),o},e.prototype.addSSOParameter=function(e,t,n){var r=n||{};if(!t)return r;switch(e){case y.SID:r[y.SID]=t;break;case y.ID_TOKEN:case y.LOGIN_HINT:r[y.LOGIN_HINT]=t}return r},e.generateQueryParametersString=function(e,t){var n=null;return e&&Object.keys(e).forEach((function(r){r===d.domain_hint&&(t||e[y.SID])||(n?n+="&"+r+"="+encodeURIComponent(e[r]):n=r+"="+encodeURIComponent(e[r]))})),n},e.isSSOParam=function(e){return!(!e||!(e.account||e.sid||e.loginHint))},e.determineResponseType=function(e,t){return ve.onlyContainsOidcScopes(t)?g:e?this.responseTypeForMatchingAccounts(t):v},e.responseTypeForMatchingAccounts=function(e){return ve.containsAnyOidcScopes(e)?v:m},e}(),_e=function(){function e(){}return e.prototype.sendRequestAsync=function(e,t,n){var r=this;return new Promise((function(n,o){var i=new XMLHttpRequest;if(i.open(t,e,!0),i.onload=function(){var e;(i.status<200||i.status>=300)&&o(r.handleError(i.responseText));try{e=JSON.parse(i.responseText)}catch(a){o(r.handleError(i.responseText))}var t={statusCode:i.status,body:e};n(t)},i.onerror=function(){o(i.status)},t!==C)throw"not implemented";i.send()}))},e.prototype.handleError=function(e){var t;try{if((t=JSON.parse(e)).error)return t.error;throw e}catch(n){return e}},e}(),Se=function(){function e(){}return e.setTrustedAuthoritiesFromConfig=function(t,n){t&&!this.getTrustedHostList().length&&n.forEach((function(t){e.TrustedHostList.push(t.toLowerCase())}))},e.getAliases=function(e,t,n){return a(this,void 0,void 0,(function(){var r,o,i,a;return s(this,(function(s){return r=new _e,o=C,i="https://login.microsoftonline.com/common//discovery/instance?api-version=1.1&authorization_endpoint="+e+"oauth2/v2.0/authorize",a=t.createAndStartHttpEvent(n,o,i,"getAliases"),[2,r.sendRequestAsync(i,o,!0).then((function(e){return a.httpResponseStatus=e.statusCode,t.stopEvent(a),e.body.metadata})).catch((function(e){throw a.serverErrorCode=e,t.stopEvent(a),e}))]}))}))},e.setTrustedAuthoritiesFromNetwork=function(t,n,r){return a(this,void 0,void 0,(function(){var o;return s(this,(function(i){switch(i.label){case 0:return[4,this.getAliases(t,n,r)];case 1:return i.sent().forEach((function(t){t.aliases.forEach((function(t){e.TrustedHostList.push(t.toLowerCase())}))})),o=ye.GetUrlComponents(t).HostNameAndPort,e.getTrustedHostList().length&&!e.IsInTrustedHostList(o)&&e.TrustedHostList.push(o.toLowerCase()),[2]}}))}))},e.getTrustedHostList=function(){return this.TrustedHostList},e.IsInTrustedHostList=function(e){return this.TrustedHostList.indexOf(e.toLowerCase())>-1},e.TrustedHostList=[],e}();!function(e){e[e.Default=0]="Default",e[e.Adfs=1]="Adfs"}(w||(w={}));var Te,Ie=function(){function e(e,t,n){this.IsValidationEnabled=t,this.CanonicalAuthority=e,this.validateAsUri(),this.tenantDiscoveryResponse=n}return e.isAdfs=function(e){var t=ye.GetUrlComponents(e).PathSegments;return t.length&&t[0].toLowerCase()===d.ADFS},Object.defineProperty(e.prototype,"AuthorityType",{get:function(){return e.isAdfs(this.canonicalAuthority)?w.Adfs:w.Default},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Tenant",{get:function(){return this.CanonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"AuthorizationEndpoint",{get:function(){return this.validateResolved(),this.tenantDiscoveryResponse.AuthorizationEndpoint.replace(/{tenant}|{tenantid}/g,this.Tenant)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"EndSessionEndpoint",{get:function(){return this.validateResolved(),this.tenantDiscoveryResponse.EndSessionEndpoint.replace(/{tenant}|{tenantid}/g,this.Tenant)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SelfSignedJwtAudience",{get:function(){return this.validateResolved(),this.tenantDiscoveryResponse.Issuer.replace(/{tenant}|{tenantid}/g,this.Tenant)},enumerable:!1,configurable:!0}),e.prototype.validateResolved=function(){if(!this.hasCachedMetadata())throw"Please call ResolveEndpointsAsync first"},Object.defineProperty(e.prototype,"CanonicalAuthority",{get:function(){return this.canonicalAuthority},set:function(e){this.canonicalAuthority=ye.CanonicalizeUri(e),this.canonicalAuthorityUrlComponents=null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CanonicalAuthorityUrlComponents",{get:function(){return this.canonicalAuthorityUrlComponents||(this.canonicalAuthorityUrlComponents=ye.GetUrlComponents(this.CanonicalAuthority)),this.canonicalAuthorityUrlComponents},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DefaultOpenIdConfigurationEndpoint",{get:function(){return this.AuthorityType===w.Adfs?""+this.CanonicalAuthority+b:this.CanonicalAuthority+"v2.0/"+b},enumerable:!1,configurable:!0}),e.prototype.validateAsUri=function(){var e;try{e=this.CanonicalAuthorityUrlComponents}catch(t){throw ie}if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw ae;if(!e.PathSegments||e.PathSegments.length<1)throw se},e.prototype.DiscoverEndpoints=function(e,t,n){var r=new _e,o=C,i=t.createAndStartHttpEvent(n,o,e,"openIdConfigurationEndpoint");return r.sendRequestAsync(e,o,!0).then((function(e){return i.httpResponseStatus=e.statusCode,t.stopEvent(i),{AuthorizationEndpoint:e.body.authorization_endpoint,EndSessionEndpoint:e.body.end_session_endpoint,Issuer:e.body.issuer}})).catch((function(e){throw i.serverErrorCode=e,t.stopEvent(i),e}))},e.prototype.resolveEndpointsAsync=function(e,t){return a(this,void 0,void 0,(function(){var n,r,o;return s(this,(function(i){switch(i.label){case 0:return this.IsValidationEnabled?(n=this.canonicalAuthorityUrlComponents.HostNameAndPort,0!==Se.getTrustedHostList().length?[3,2]:[4,Se.setTrustedAuthoritiesFromNetwork(this.canonicalAuthority,e,t)]):[3,3];case 1:i.sent(),i.label=2;case 2:if(!Se.IsInTrustedHostList(n))throw me.createUntrustedAuthorityError(n);i.label=3;case 3:return r=this.GetOpenIdConfigurationEndpoint(),o=this,[4,this.DiscoverEndpoints(r,e,t)];case 4:return o.tenantDiscoveryResponse=i.sent(),[2,this.tenantDiscoveryResponse]}}))}))},e.prototype.hasCachedMetadata=function(){return!!(this.tenantDiscoveryResponse&&this.tenantDiscoveryResponse.AuthorizationEndpoint&&this.tenantDiscoveryResponse.EndSessionEndpoint&&this.tenantDiscoveryResponse.Issuer)},e.prototype.GetOpenIdConfigurationEndpoint=function(){return this.DefaultOpenIdConfigurationEndpoint},e}(),ke=function(){function e(t,n){if(!t||R.isEmpty(t))return this.uid="",void(this.utid="");try{var r=l.base64Decode(t),o=JSON.parse(r);o&&(o.hasOwnProperty("uid")&&(this.uid=n?e.stripPolicyFromUid(o.uid,n):o.uid),o.hasOwnProperty("utid")&&(this.utid=o.utid))}catch(i){throw J.createClientInfoDecodingError(i)}}return Object.defineProperty(e.prototype,"uid",{get:function(){return this._uid?this._uid:""},set:function(e){this._uid=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"utid",{get:function(){return this._utid?this._utid:""},set:function(e){this._utid=e},enumerable:!1,configurable:!0}),e.createClientInfoFromIdToken=function(t,n){var r={uid:t.subject,utid:""};return new e(l.base64Encode(JSON.stringify(r)),n)},e.stripPolicyFromUid=function(e,t){var n=e.split("-"),r=t.split("/").reverse(),o="";return R.isEmpty(r[0])?r.length>1&&(o=r[1]):o=r[0],n[n.length-1]===o?n.slice(0,n.length-1).join("-"):e},e.prototype.encodeClientInfo=function(){var e=JSON.stringify({uid:this.uid,utid:this.utid});return l.base64Encode(e)},e}(),Ae=function(){function e(){}return e.parseExpiresIn=function(e){return parseInt(e||"3599",10)},e.now=function(){return Math.round((new Date).getTime()/1e3)},e.relativeNowMs=function(){return window.performance.now()},e}(),Re=function(){function e(){}return e.decodeJwt=function(e){if(R.isEmpty(e))return null;var t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);return!t||t.length<4?null:{header:t[1],JWSPayload:t[2],JWSSig:t[3]}},e.validateExpirationIsWithinOffset=function(e,t){var n=t||300;return e&&e>Ae.now()+n},e.extractIdToken=function(e){var t=this.decodeJwt(e);if(!t)return null;try{var n=t.JWSPayload,r=l.base64Decode(n);return r?JSON.parse(r):null}catch(o){}return null},e}(),Pe=function(e){if(R.isEmpty(e))throw J.createIdTokenNullOrEmptyError(e);try{this.rawIdToken=e,this.claims=Re.extractIdToken(e),this.claims&&(this.claims.hasOwnProperty("iss")&&(this.issuer=this.claims.iss),this.claims.hasOwnProperty("oid")&&(this.objectId=this.claims.oid),this.claims.hasOwnProperty("sub")&&(this.subject=this.claims.sub),this.claims.hasOwnProperty("tid")&&(this.tenantId=this.claims.tid),this.claims.hasOwnProperty("ver")&&(this.version=this.claims.ver),this.claims.hasOwnProperty("preferred_username")?this.preferredName=this.claims.preferred_username:this.claims.hasOwnProperty("upn")&&(this.preferredName=this.claims.upn),this.claims.hasOwnProperty("name")&&(this.name=this.claims.name),this.claims.hasOwnProperty("nonce")&&(this.nonce=this.claims.nonce),this.claims.hasOwnProperty("exp")&&(this.expiration=this.claims.exp),this.claims.hasOwnProperty("home_oid")&&(this.homeObjectId=this.claims.home_oid),this.claims.hasOwnProperty("sid")&&(this.sid=this.claims.sid),this.claims.hasOwnProperty("cloud_instance_host_name")&&(this.cloudInstance=this.claims.cloud_instance_host_name))}catch(t){throw J.createIdTokenParsingError(t)}},Ne=function(e,t){this.key=e,this.value=t},Oe=function(){function e(e){if(!window)throw A.createNoWindowObjectError("Browser storage class could not find window object");if(!("undefined"!==typeof window[e]&&null!==window[e]))throw me.createStorageNotSupportedError(e);this.cacheLocation=e}return e.prototype.setItem=function(e,t,n){window[this.cacheLocation].setItem(e,t),n&&this.setItemCookie(e,t)},e.prototype.getItem=function(e,t){return t&&this.getItemCookie(e)?this.getItemCookie(e):window[this.cacheLocation].getItem(e)},e.prototype.removeItem=function(e){return window[this.cacheLocation].removeItem(e)},e.prototype.clear=function(){return window[this.cacheLocation].clear()},e.prototype.setItemCookie=function(e,t,n){var r=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/;";n&&(r+="expires="+this.getCookieExpirationTime(n)+";");document.cookie=r},e.prototype.getItemCookie=function(e){for(var t=encodeURIComponent(e)+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return decodeURIComponent(o.substring(t.length,o.length))}return""},e.prototype.clearItemCookie=function(e){this.setItemCookie(e,"",-1)},e.prototype.getCookieExpirationTime=function(e){var t=new Date;return new Date(t.getTime()+24*e*60*60*1e3).toUTCString()},e}(),Me=function(){function e(){}return e.validateRequest=function(e,t,n,r){if(!t&&!e)throw me.createEmptyRequestError();var o,a;e&&(o=t?ve.appendScopes(e.scopes,e.extraScopesToConsent):e.scopes,ve.validateInputScope(o,!t),o=ve.translateClientIdIfSingleScope(o,n),this.validatePromptParameter(e.prompt),a=this.validateEQParameters(e.extraQueryParameters,e.claimsRequest),this.validateClaimsRequest(e.claimsRequest));var s=this.validateAndGenerateState(e&&e.state,r),c=this.validateAndGenerateCorrelationId(e&&e.correlationId);return i(i({},e),{extraQueryParameters:a,scopes:o,state:s,correlationId:c})},e.validatePromptParameter=function(e){if(e&&[_.LOGIN,_.SELECT_ACCOUNT,_.CONSENT,_.NONE].indexOf(e)<0)throw me.createInvalidPromptError(e)},e.validateEQParameters=function(e,t){var n=i({},e);return n?(t&&delete n[d.claims],E.forEach((function(e){n[e]&&delete n[e]})),n):null},e.validateClaimsRequest=function(e){if(e)try{JSON.parse(e)}catch(t){throw me.createClaimsRequestParsingError(t)}},e.validateAndGenerateState=function(t,n){return R.isEmpty(t)?e.generateLibraryState(n):""+e.generateLibraryState(n)+d.resourceDelimiter+t},e.generateLibraryState=function(e){var t={id:l.createNewGuid(),ts:Ae.now(),method:e},n=JSON.stringify(t);return l.base64Encode(n)},e.parseLibraryState=function(e){var t=decodeURIComponent(e).split(d.resourceDelimiter)[0];if(l.isGuid(t))return{id:t,ts:Ae.now(),method:d.interactionTypeRedirect};try{var n=l.base64Decode(t);return JSON.parse(n)}catch(r){throw J.createInvalidStateError(e,null)}},e.validateAndGenerateCorrelationId=function(e){if(e&&!l.isGuid(e))throw me.createInvalidCorrelationIdError();return l.isGuid(e)?e:l.createNewGuid()},e.createRequestSignature=function(e){return""+e.scopes.join(" ").toLowerCase()+d.resourceDelimiter+e.authority},e}(),xe=function(e){function t(t,n,r){var o=e.call(this,n)||this;return o.temporaryCache=new Oe("sessionStorage"),o.clientId=t,o.rollbackEnabled=!0,o.migrateCacheEntries(r),o}return o(t,e),t.prototype.migrateCacheEntries=function(t){var n,r=this,o=d.cachePrefix+"."+p.IDTOKEN,i=d.cachePrefix+"."+p.CLIENT_INFO,a=d.cachePrefix+"."+f.ERROR,s=d.cachePrefix+"."+f.ERROR_DESC,c=e.prototype.getItem.call(this,o);if(c)try{n=new Pe(c)}catch(l){return}if(n&&n.claims&&n.claims.aud===this.clientId){var u=[c,e.prototype.getItem.call(this,i),e.prototype.getItem.call(this,a),e.prototype.getItem.call(this,s)];[p.IDTOKEN,p.CLIENT_INFO,f.ERROR,f.ERROR_DESC].forEach((function(e,n){return r.duplicateCacheEntry(e,u[n],t)}))}},t.prototype.duplicateCacheEntry=function(e,t,n){t&&this.setItem(e,t,n)},t.prototype.generateCacheKey=function(e,t){try{return JSON.parse(e),e}catch(n){return 0===e.indexOf(""+d.cachePrefix)||0===e.indexOf(d.adalIdToken)?e:t?d.cachePrefix+"."+this.clientId+"."+e:d.cachePrefix+"."+e}},t.prototype.matchKeyForType=function(e,t,n,r){var o=R.validateAndParseJsonCacheKey(e);if(!o)return null;var i=e.match(t)&&e.match(n),a=!1;switch(r){case u.ACCESS_TOKEN:a=!!e.match(d.scopes);break;case u.ID_TOKEN:a=!e.match(d.scopes)}return i&&a?o:null},t.prototype.setItem=function(t,n,r){e.prototype.setItem.call(this,this.generateCacheKey(t,!0),n,r),this.rollbackEnabled&&!r&&e.prototype.setItem.call(this,this.generateCacheKey(t,!1),n,r)},t.prototype.getItem=function(t,n){return e.prototype.getItem.call(this,this.generateCacheKey(t,!0),n)},t.prototype.removeItem=function(t){this.temporaryCache.removeItem(this.generateCacheKey(t,!0)),e.prototype.removeItem.call(this,this.generateCacheKey(t,!0)),this.rollbackEnabled&&e.prototype.removeItem.call(this,this.generateCacheKey(t,!1))},t.prototype.setTemporaryItem=function(e,t,n){this.temporaryCache.setItem(this.generateCacheKey(e,!0),t,n)},t.prototype.getTemporaryItem=function(e,t){return this.temporaryCache.getItem(this.generateCacheKey(e,!0),t)},t.prototype.resetCacheItems=function(){var t,n=window[this.cacheLocation];for(t in n)n.hasOwnProperty(t)&&-1!==t.indexOf(d.cachePrefix)&&e.prototype.removeItem.call(this,t)},t.prototype.resetTempCacheItems=function(t){var n=this,r=t&&Me.parseLibraryState(t).id,o=this.tokenRenewalInProgress(t),i=window[this.cacheLocation];r&&!o&&Object.keys(i).forEach((function(t){-1!==t.indexOf(r)&&(n.removeItem(t),e.prototype.clearItemCookie.call(n,t))})),this.setInteractionInProgress(!1),this.removeItem(h.REDIRECT_REQUEST)},t.prototype.setItemCookie=function(t,n,r){e.prototype.setItemCookie.call(this,this.generateCacheKey(t,!0),n,r),this.rollbackEnabled&&e.prototype.setItemCookie.call(this,this.generateCacheKey(t,!1),n,r)},t.prototype.clearItemCookie=function(t){e.prototype.clearItemCookie.call(this,this.generateCacheKey(t,!0)),this.rollbackEnabled&&e.prototype.clearItemCookie.call(this,this.generateCacheKey(t,!1))},t.prototype.getItemCookie=function(t){return e.prototype.getItemCookie.call(this,this.generateCacheKey(t,!0))},t.prototype.getAllTokensByType=function(e,t,n){var r=this;return Object.keys(window[this.cacheLocation]).reduce((function(o,i){var a=r.matchKeyForType(i,e,t,n);if(a){var s=r.getItem(i);if(s)try{var c=new Ne(a,JSON.parse(s));return o.concat([c])}catch(u){return o}}return o}),[])},t.prototype.getAllAccessTokens=function(e,t){return this.getAllTokensByType(e,t,u.ACCESS_TOKEN)},t.prototype.getAllIdTokens=function(e,t){return this.getAllTokensByType(e,t,u.ID_TOKEN)},t.prototype.getAllTokens=function(e,t){return c(this.getAllAccessTokens(e,t),this.getAllIdTokens(e,t))},t.prototype.isInteractionInProgress=function(e){var t=this.getInteractionInProgress();return e?t===this.clientId:!!t},t.prototype.getInteractionInProgress=function(){return this.getTemporaryItem(this.generateCacheKey(h.INTERACTION_STATUS,!1))},t.prototype.setInteractionInProgress=function(e){if(e){if(this.isInteractionInProgress(!1))throw J.createAcquireTokenInProgressError();this.setTemporaryItem(this.generateCacheKey(h.INTERACTION_STATUS,!1),this.clientId)}else!e&&this.isInteractionInProgress(!0)&&this.removeItem(this.generateCacheKey(h.INTERACTION_STATUS,!1))},t.prototype.tokenRenewalInProgress=function(e){var n=this.getItem(t.generateTemporaryCacheKey(h.RENEW_STATUS,e));return!(!n||n!==d.inProgress)},t.prototype.clearMsalCookie=function(n){var r=this;n?(this.clearItemCookie(t.generateTemporaryCacheKey(h.NONCE_IDTOKEN,n)),this.clearItemCookie(t.generateTemporaryCacheKey(h.STATE_LOGIN,n)),this.clearItemCookie(t.generateTemporaryCacheKey(h.LOGIN_REQUEST,n)),this.clearItemCookie(t.generateTemporaryCacheKey(h.STATE_ACQ_TOKEN,n))):document.cookie.split(";").forEach((function(t){var n=t.trim().split("=")[0];n.indexOf(d.cachePrefix)>-1&&e.prototype.clearItemCookie.call(r,n)}))},t.generateAcquireTokenAccountKey=function(e,t){var n=Me.parseLibraryState(t).id;return""+h.ACQUIRE_TOKEN_ACCOUNT+d.resourceDelimiter+e+d.resourceDelimiter+n},t.generateAuthorityKey=function(e){return t.generateTemporaryCacheKey(h.AUTHORITY,e)},t.generateTemporaryCacheKey=function(e,t){var n=Me.parseLibraryState(t).id;return""+e+d.resourceDelimiter+n},t}(Oe),Ue=function(){function e(e,t,n,r,o,i,a){this.accountIdentifier=e,this.homeAccountIdentifier=t,this.userName=n,this.name=r,this.idToken=o,this.idTokenClaims=o,this.sid=i,this.environment=a}return e.createAccount=function(t,n){var r,o=t.objectId||t.subject,i=n?n.uid:"",a=n?n.utid:"";return R.isEmpty(i)||(r=R.isEmpty(a)?l.base64Encode(i):l.base64Encode(i)+"."+l.base64Encode(a)),new e(o,r,t.preferredName,t.name,t.claims,t.sid,t.issuer)},e.compareAccounts=function(e,t){return!(!e||!t)&&!(!e.homeAccountIdentifier||!t.homeAccountIdentifier||e.homeAccountIdentifier!==t.homeAccountIdentifier)},e}(),Le=function(){function e(){}return e.isInIframe=function(){return window.parent!==window},e.isInPopup=function(){return!(!window.opener||window.opener===window)},e.generateFrameName=function(e,t){return""+e+d.resourceDelimiter+t},e.monitorIframeForHash=function(t,n,r,o){return new Promise((function(i,a){var s=Ae.relativeNowMs()+n;o.verbose("monitorWindowForIframe polling started");var c=setInterval((function(){if(Ae.relativeNowMs()>s)return o.error("monitorIframeForHash unable to find hash in url, timing out"),o.errorPii("monitorIframeForHash polling timed out for url: "+r),clearInterval(c),void a(J.createTokenRenewalTimeoutError());var e;try{e=t.location.href}catch(n){}e&&ye.urlContainsHash(e)&&(o.verbose("monitorIframeForHash found url in hash"),clearInterval(c),i(t.location.hash))}),e.POLLING_INTERVAL_MS)}))},e.monitorPopupForHash=function(t,n,r,o){return new Promise((function(i,a){var s=n/e.POLLING_INTERVAL_MS,c=0;o.verbose("monitorWindowForHash polling started");var u=setInterval((function(){if(t.closed)return o.error("monitorWindowForHash window closed"),clearInterval(u),void a(J.createUserCancelledError());var n;try{n=t.location.href}catch(d){}if(n&&"about:blank"!==n)if(c++,n&&ye.urlContainsHash(n)){o.verbose("monitorPopupForHash found url in hash"),clearInterval(u);var l=t.location.hash;e.clearUrlFragment(t),i(l)}else c>s&&(o.error("monitorPopupForHash unable to find hash in url, timing out"),o.errorPii("monitorPopupForHash polling timed out for url: "+r),clearInterval(u),a(J.createTokenRenewalTimeoutError()))}),e.POLLING_INTERVAL_MS)}))},e.loadFrame=function(e,t,n,r){var o=this;return r.infoPii("LoadFrame: "+t),new Promise((function(i,a){setTimeout((function(){var n=o.loadFrameSync(e,t,r);n?i(n):a("Unable to load iframe with name: "+t)}),n)}))},e.loadFrameSync=function(t,n,r){var o=e.addHiddenIFrame(n,r);return o?(""!==o.src&&"about:blank"!==o.src||(o.src=t,r.infoPii("Frame Name : "+n+" Navigated to: "+t)),o):null},e.addHiddenIFrame=function(e,t){if("undefined"===typeof e)return null;t.info("Add msal iframe to document"),t.infoPii("Add msal frame to document:"+e);var n=document.getElementById(e);if(n)t.verbose("Add msal iframe already exists");else{t.verbose("Add msal iframe does not exist");var r=document.createElement("iframe");r.setAttribute("id",e),r.setAttribute("aria-hidden","true"),r.style.visibility="hidden",r.style.position="absolute",r.style.width=r.style.height="0",r.style.border="0",r.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),n=document.getElementsByTagName("body")[0].appendChild(r)}return n},e.removeHiddenIframe=function(e){document.body===e.parentNode&&document.body.removeChild(e)},e.getIframeWithHash=function(e){var t=document.getElementsByTagName("iframe");return Array.apply(null,Array(t.length)).map((function(e,n){return t.item(n)})).filter((function(t){try{return t.contentWindow.location.hash===e}catch(n){return!1}}))[0]},e.getPopups=function(){return window.openedWindows||(window.openedWindows=[]),window.openedWindows},e.getPopUpWithHash=function(t){return e.getPopups().filter((function(e){try{return e.location.hash===t}catch(n){return!1}}))[0]},e.trackPopup=function(t){e.getPopups().push(t)},e.closePopups=function(){e.getPopups().forEach((function(e){return e.close()}))},e.blockReloadInHiddenIframes=function(){if(ye.urlContainsHash(window.location.hash)&&e.isInIframe())throw J.createBlockTokenRequestsInHiddenIframeError()},e.checkIfBackButtonIsPressed=function(e){var t=e.getItem(h.REDIRECT_REQUEST);if(t&&!ye.urlContainsHash(window.location.hash)){var n=t.split(d.resourceDelimiter);n.shift();var r=n.length>0?n.join(d.resourceDelimiter):null;e.resetTempCacheItems(r)}},e.clearUrlFragment=function(e){e.location.hash="","function"===typeof e.history.replaceState&&e.history.replaceState(null,null,""+e.location.pathname+e.location.search)},e.POLLING_INTERVAL_MS=50,e}(),De=function(){function e(){}return e.setResponseIdToken=function(e,t){if(!e)return null;if(!t)return e;var n=Number(t.expiration);return n&&!e.expiresOn&&(e.expiresOn=new Date(1e3*n)),i(i({},e),{idToken:t,idTokenClaims:t.claims,uniqueId:t.objectId||t.subject,tenantId:t.tenantId})},e.buildAuthResponse=function(t,n,r,o,a,s){switch(r.responseType){case g:var c=i(i({},n),{tokenType:u.ID_TOKEN,account:o,scopes:a,accountState:s});return(c=e.setResponseIdToken(c,t)).idToken?c:null;case v:var l=e.setResponseIdToken(n,t);return l&&l.accessToken&&l.idToken?l:null;case m:return e.setResponseIdToken(n,t);default:return null}},e}(),qe=function(){function e(){}return e.saveMetadataFromNetwork=function(e,t,n){return a(this,void 0,void 0,(function(){var r;return s(this,(function(o){switch(o.label){case 0:return[4,e.resolveEndpointsAsync(t,n)];case 1:return r=o.sent(),this.metadataMap.set(e.CanonicalAuthority,r),[2,r]}}))}))},e.getMetadata=function(e){return this.metadataMap.get(e)},e.saveMetadataFromConfig=function(e,t){try{if(t){var n=JSON.parse(t);if(!n.authorization_endpoint||!n.end_session_endpoint||!n.issuer)throw me.createInvalidAuthorityMetadataError();this.metadataMap.set(e,{AuthorizationEndpoint:n.authorization_endpoint,EndSessionEndpoint:n.end_session_endpoint,Issuer:n.issuer})}}catch(r){throw me.createInvalidAuthorityMetadataError()}},e.CreateInstance=function(e,t,n){return R.isEmpty(e)?null:(n&&this.saveMetadataFromConfig(e,n),new Ie(e,t,this.metadataMap.get(e)))},e.metadataMap=new Map,e}();!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose"}(Te||(Te={}));var He=function(){function e(e,t){void 0===t&&(t={}),this.level=Te.Info;var n=t.correlationId,r=void 0===n?"":n,o=t.level,i=void 0===o?Te.Info:o,a=t.piiLoggingEnabled,s=void 0!==a&&a;this.localCallback=e,this.correlationId=r,this.level=i,this.piiLoggingEnabled=s}return e.prototype.logMessage=function(e,t,n){if(!(e>this.level||!this.piiLoggingEnabled&&n)){var r,o=(new Date).toUTCString();r=R.isEmpty(this.correlationId)?o+":"+Ee+"-"+Te[e]+(n?"-pii":"")+" "+t:o+":"+this.correlationId+"-"+Ee+"-"+Te[e]+(n?"-pii":"")+" "+t,this.executeCallback(e,r,n)}},e.prototype.executeCallback=function(e,t,n){this.localCallback&&this.localCallback(e,t,n)},e.prototype.error=function(e){this.logMessage(Te.Error,e,!1)},e.prototype.errorPii=function(e){this.logMessage(Te.Error,e,!0)},e.prototype.warning=function(e){this.logMessage(Te.Warning,e,!1)},e.prototype.warningPii=function(e){this.logMessage(Te.Warning,e,!0)},e.prototype.info=function(e){this.logMessage(Te.Info,e,!1)},e.prototype.infoPii=function(e){this.logMessage(Te.Info,e,!0)},e.prototype.verbose=function(e){this.logMessage(Te.Verbose,e,!1)},e.prototype.verbosePii=function(e){this.logMessage(Te.Verbose,e,!0)},e.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled},e}(),Fe={clientId:"",authority:null,validateAuthority:!0,authorityMetadata:"",knownAuthorities:[],redirectUri:function(){return ye.getCurrentUrl()},postLogoutRedirectUri:function(){return ye.getCurrentUrl()},navigateToLoginRequestUrl:!0},ze={cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},je={logger:new He(null),loadFrameTimeout:6e3,tokenRenewalOffsetSeconds:300,navigateFrameWait:500},Ke={isAngular:!1,unprotectedResources:new Array,protectedResourceMap:new Map};var Be={code:"server_unavailable",desc:"Server is temporarily unavailable."},Ge={code:"unknown_server_error"},We=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.name="ServerError",Object.setPrototypeOf(o,t.prototype),o}return o(t,e),t.createServerUnavailableError=function(){return new t(Be.code,Be.desc)},t.createUnknownServerError=function(e){return new t(Ge.code,e)},t}(A),Ve={code:"interaction_required"},Ye={code:"consent_required"},Qe={code:"login_required"},Je=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.name="InteractionRequiredAuthError",Object.setPrototypeOf(o,t.prototype),o}return o(t,e),t.isInteractionRequiredError=function(e){var t=[Ve.code,Ye.code,Qe.code];return e&&t.indexOf(e)>-1},t.createLoginRequiredAuthError=function(e){return new t(Qe.code,e)},t.createInteractionRequiredAuthError=function(e){return new t(Ve.code,e)},t.createConsentRequiredAuthError=function(e){return new t(Ye.code,e)},t}(We);function $e(e){return{uniqueId:"",tenantId:"",tokenType:"",idToken:null,idTokenClaims:null,accessToken:"",scopes:null,expiresOn:null,account:null,accountState:e,fromCache:!1}}var Xe,Ze,et,tt="event_name",nt="elapsed_time",rt="Microsoft.MSAL.correlation_id",ot="msal.api_telem_id",it="msal.api_id",at="Microsoft_MSAL_cache_event_count",st="Microsoft_MSAL_http_event_count",ct="Microsoft_MSAL_ui_event_count",ut=function(e){var t=ye.GetUrlComponents(e);if(Ie.isAdfs(e))return e;var n=t.PathSegments;if(n&&n.length>=2){var r="tfp"===n[1]?2:1;r<n.length&&(n[r]="<tenant>")}return t.Protocol+"//"+t.HostNameAndPort+"/"+n.join("/")},lt=function(e){return l.base64Encode(e)},dt=function(e){return"msal."+(e||"")},ht=function(){return!!("undefined"!==typeof window&&"performance"in window&&window.performance.mark&&window.performance.measure)},pt=function(){function e(e,t,n){var r;this.eventId=l.createNewGuid(),this.label=n,this.event=((r={})[dt(tt)]=e,r[dt(nt)]=-1,r[""+rt]=t,r)}return e.prototype.setElapsedTime=function(e){this.event[dt(nt)]=e},e.prototype.stop=function(){var e,t,n;this.setElapsedTime(+Date.now()-+this.startTimestamp),e=this.displayName,t=this.perfStartMark,n=this.perfEndMark,ht()&&(window.performance.mark(n),window.performance.measure(e,t,n),window.performance.clearMeasures(e),window.performance.clearMarks(t),window.performance.clearMarks(n))},e.prototype.start=function(){var e;this.startTimestamp=Date.now(),this.event[dt("start_time")]=this.startTimestamp,e=this.perfStartMark,ht()&&window.performance.mark(e)},Object.defineProperty(e.prototype,"telemetryCorrelationId",{get:function(){return this.event[""+rt]},set:function(e){this.event[""+rt]=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"eventName",{get:function(){return this.event[dt(tt)]},enumerable:!1,configurable:!0}),e.prototype.get=function(){return i(i({},this.event),{eventId:this.eventId})},Object.defineProperty(e.prototype,"key",{get:function(){return this.telemetryCorrelationId+"_"+this.eventId+"-"+this.eventName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"displayName",{get:function(){return"Msal-"+this.label+"-"+this.telemetryCorrelationId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"perfStartMark",{get:function(){return"start-"+this.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"perfEndMark",{get:function(){return"end-"+this.key},enumerable:!1,configurable:!0}),e}(),ft=pt,gt=function(e){function t(t,n,r,o){var i=e.call(this,dt("default_event"),n,"DefaultEvent")||this;return i.event[dt("client_id")]=r,i.event[dt("sdk_plaform")]=t.sdk,i.event[dt("sdk_version")]=t.sdkVersion,i.event[dt("application_name")]=t.applicationName,i.event[dt("application_version")]=t.applicationVersion,i.event[dt("effective_connection_speed")]=t.networkInformation&&t.networkInformation.connectionSpeed,i.event[""+ct]=i.getEventCount(dt("ui_event"),o),i.event[""+st]=i.getEventCount(dt("http_event"),o),i.event[""+at]=i.getEventCount(dt("cache_event"),o),i}return o(t,e),t.prototype.getEventCount=function(e,t){return t[e]?t[e]:0},t}(ft),mt=dt("authority"),vt=dt("authority_type"),yt=dt("ui_behavior"),bt=dt("tenant_id"),wt=dt("user_id"),Et=dt("was_successful"),Ct=dt("api_error_code"),_t=dt("login_hint");!function(e){e[e.AcquireTokenRedirect=2001]="AcquireTokenRedirect",e[e.AcquireTokenSilent=2002]="AcquireTokenSilent",e[e.AcquireTokenPopup=2003]="AcquireTokenPopup",e[e.LoginRedirect=2004]="LoginRedirect",e[e.LoginPopup=2005]="LoginPopup",e[e.Logout=2006]="Logout"}(Ze||(Ze={})),function(e){e.AcquireTokenRedirect="AcquireTokenRedirect",e.AcquireTokenSilent="AcquireTokenSilent",e.AcquireTokenPopup="AcquireTokenPopup",e.LoginRedirect="LoginRedirect",e.LoginPopup="LoginPopup",e.Logout="Logout"}(et||(et={}));var St=((Xe={})[et.AcquireTokenSilent]=Ze.AcquireTokenSilent,Xe[et.AcquireTokenPopup]=Ze.AcquireTokenPopup,Xe[et.AcquireTokenRedirect]=Ze.AcquireTokenRedirect,Xe[et.LoginPopup]=Ze.LoginPopup,Xe[et.LoginRedirect]=Ze.LoginRedirect,Xe[et.Logout]=Ze.Logout,Xe),Tt=function(e){function t(t,n,r){var o=e.call(this,dt("api_event"),t,r)||this;return r&&(o.apiCode=St[r],o.apiEventIdentifier=r),o.piiEnabled=n,o}return o(t,e),Object.defineProperty(t.prototype,"apiEventIdentifier",{set:function(e){this.event[ot]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"apiCode",{set:function(e){this.event[it]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"authority",{set:function(e){this.event[mt]=ut(e).toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"apiErrorCode",{set:function(e){this.event[Ct]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tenantId",{set:function(e){this.event[bt]=this.piiEnabled&&e?lt(e):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"accountId",{set:function(e){this.event[wt]=this.piiEnabled&&e?lt(e):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wasSuccessful",{get:function(){return!0===this.event[Et]},set:function(e){this.event[Et]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loginHint",{set:function(e){this.event[_t]=this.piiEnabled&&e?lt(e):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"authorityType",{set:function(e){this.event[vt]=e.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"promptType",{set:function(e){this.event[yt]=e.toLowerCase()},enumerable:!1,configurable:!0}),t}(ft),It=dt("http_path"),kt=dt("user_agent"),At=dt("query_parameters"),Rt=dt("api_version"),Pt=dt("response_code"),Nt=dt("oauth_error_code"),Ot=dt("http_method"),Mt=dt("request_id_header"),xt=dt("spe_info"),Ut=dt("server_error_code"),Lt=dt("server_sub_error_code"),Dt=dt("url"),qt=function(e){function t(t,n){return e.call(this,dt("http_event"),t,n)||this}return o(t,e),Object.defineProperty(t.prototype,"url",{set:function(e){var t=ut(e);this.event[Dt]=t&&t.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"httpPath",{set:function(e){this.event[It]=ut(e).toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userAgent",{set:function(e){this.event[kt]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"queryParams",{set:function(e){this.event[At]=Ce.generateQueryParametersString(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"apiVersion",{set:function(e){this.event[Rt]=e.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"httpResponseStatus",{set:function(e){this.event[Pt]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oAuthErrorCode",{set:function(e){this.event[Nt]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"httpMethod",{set:function(e){this.event[Ot]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requestIdHeader",{set:function(e){this.event[Mt]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"speInfo",{set:function(e){this.event[xt]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverErrorCode",{set:function(e){this.event[Ut]=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverSubErrorCode",{set:function(e){this.event[Lt]=e},enumerable:!1,configurable:!0}),t}(ft),Ht=function(){function e(e,t,n){this.completedEvents={},this.inProgressEvents={},this.eventCountByCorrelationId={},this.onlySendFailureTelemetry=!1,this.telemetryPlatform=i({sdk:d.libraryName,sdkVersion:Ee,networkInformation:{connectionSpeed:"undefined"!==typeof navigator&&navigator.connection&&navigator.connection.effectiveType}},e.platform),this.clientId=e.clientId,this.onlySendFailureTelemetry=e.onlySendFailureTelemetry,this.telemetryEmitter=t,this.logger=n}return e.getTelemetrymanagerStub=function(e,t){return new this({platform:{applicationName:"UnSetStub",applicationVersion:"0.0"},clientId:e},(function(){}),t)},e.prototype.startEvent=function(e){this.logger.verbose("Telemetry Event started: "+e.key),this.telemetryEmitter&&(e.start(),this.inProgressEvents[e.key]=e)},e.prototype.stopEvent=function(e){if(this.logger.verbose("Telemetry Event stopped: "+e.key),this.telemetryEmitter&&this.inProgressEvents[e.key]){e.stop(),this.incrementEventCount(e);var t=this.completedEvents[e.telemetryCorrelationId];this.completedEvents[e.telemetryCorrelationId]=c(t||[],[e]),delete this.inProgressEvents[e.key]}},e.prototype.flush=function(e){var t=this;if(this.logger.verbose("Flushing telemetry events: "+e),this.telemetryEmitter&&this.completedEvents[e]){var n=this.getOrphanedEvents(e);n.forEach((function(e){return t.incrementEventCount(e)}));var r=c(this.completedEvents[e],n);delete this.completedEvents[e];var o=this.eventCountByCorrelationId[e];if(delete this.eventCountByCorrelationId[e],r&&r.length){var i=c(r,[new gt(this.telemetryPlatform,e,this.clientId,o)]);this.telemetryEmitter(i.map((function(e){return e.get()})))}}},e.prototype.createAndStartApiEvent=function(e,t){var n=new Tt(e,this.logger.isPiiLoggingEnabled(),t);return this.startEvent(n),n},e.prototype.stopAndFlushApiEvent=function(e,t,n,r){t.wasSuccessful=n,r&&(t.apiErrorCode=r),this.stopEvent(t),this.flush(e)},e.prototype.createAndStartHttpEvent=function(e,t,n,r){var o=new qt(e,r);return o.url=n,o.httpMethod=t,this.startEvent(o),o},e.prototype.incrementEventCount=function(e){var t,n=e.eventName,r=this.eventCountByCorrelationId[e.telemetryCorrelationId];r?r[n]=r[n]?r[n]+1:1:this.eventCountByCorrelationId[e.telemetryCorrelationId]=((t={})[n]=1,t)},e.prototype.getOrphanedEvents=function(e){var t=this;return Object.keys(this.inProgressEvents).reduce((function(n,r){if(-1!==r.indexOf(e)){var o=t.inProgressEvents[r];return delete t.inProgressEvents[r],c(n,[o])}return n}),[])},e}(),Ft=Ht,zt=function(){function e(){}return e.filterTokenCacheItemsByScope=function(e,t){return e.filter((function(e){var n=e.key.scopes.split(" "),r=ve.removeDefaultScopes(t);return 0===r.length?ve.containsScope(n,t):ve.containsScope(n,r)}))},e.filterTokenCacheItemsByAuthority=function(e,t){return e.filter((function(e){return ye.CanonicalizeUri(e.key.authority)===t}))},e.filterTokenCacheItemsByDomain=function(e,t){return e.filter((function(e){return ye.GetUrlComponents(e.key.authority).HostNameAndPort===t}))},e}(),jt=function(){function e(e){this.authResponseCallback=null,this.tokenReceivedCallback=null,this.errorReceivedCallback=null,this.config=function(e){var t=e.auth,n=e.cache,r=void 0===n?{}:n,o=e.system,a=void 0===o?{}:o,s=e.framework,c=void 0===s?{}:s;return{auth:i(i({},Fe),t),cache:i(i({},ze),r),system:i(i({},je),a),framework:i(i({},Ke),c)}}(e),this.logger=this.config.system.logger,this.clientId=this.config.auth.clientId,this.inCookie=this.config.cache.storeAuthStateInCookie,this.telemetryManager=this.getTelemetryManagerFromConfig(this.config.system.telemetry,this.clientId),Se.setTrustedAuthoritiesFromConfig(this.config.auth.validateAuthority,this.config.auth.knownAuthorities),qe.saveMetadataFromConfig(this.config.auth.authority,this.config.auth.authorityMetadata),this.authority=this.config.auth.authority||"https://login.microsoftonline.com/common",this.cacheStorage=new xe(this.clientId,this.config.cache.cacheLocation,this.inCookie),window.activeRenewals||(window.activeRenewals={}),window.renewStates||(window.renewStates=[]),window.callbackMappedToRenewStates||(window.callbackMappedToRenewStates={}),window.promiseMappedToRenewStates||(window.promiseMappedToRenewStates={}),window.msal=this;var t=window.location.hash,n=ye.urlContainsHash(t);(Le.checkIfBackButtonIsPressed(this.cacheStorage),n&&this.cacheStorage.isInteractionInProgress(!0))&&(this.getResponseState(t).method===d.interactionTypeRedirect&&this.handleRedirectAuthenticationResponse(t))}return Object.defineProperty(e.prototype,"authority",{get:function(){return this.authorityInstance.CanonicalAuthority},set:function(e){this.authorityInstance=qe.CreateInstance(e,this.config.auth.validateAuthority)},enumerable:!1,configurable:!0}),e.prototype.getAuthorityInstance=function(){return this.authorityInstance},e.prototype.handleRedirectCallback=function(e,t){if(!e)throw me.createInvalidCallbackObjectError(e);t?(this.tokenReceivedCallback=e,this.errorReceivedCallback=t,this.logger.warning("This overload for callback is deprecated - please change the format of the callbacks to a single callback as shown: (err: AuthError, response: AuthResponse).")):this.authResponseCallback=e,this.redirectError?this.authErrorHandler(d.interactionTypeRedirect,this.redirectError,this.redirectResponse):this.redirectResponse&&this.authResponseHandler(d.interactionTypeRedirect,this.redirectResponse)},e.prototype.urlContainsHash=function(e){return this.logger.verbose("UrlContainsHash has been called"),ye.urlContainsHash(e)},e.prototype.authResponseHandler=function(e,t,n){if(this.logger.verbose("AuthResponseHandler has been called"),this.cacheStorage.setInteractionInProgress(!1),e===d.interactionTypeRedirect)this.logger.verbose("Interaction type is redirect"),this.errorReceivedCallback?(this.logger.verbose("Two callbacks were provided to handleRedirectCallback, calling success callback with response"),this.tokenReceivedCallback(t)):this.authResponseCallback&&(this.logger.verbose("One callback was provided to handleRedirectCallback, calling authResponseCallback with response"),this.authResponseCallback(null,t));else{if(e!==d.interactionTypePopup)throw J.createInvalidInteractionTypeError();this.logger.verbose("Interaction type is popup, resolving"),n(t)}},e.prototype.authErrorHandler=function(e,t,n,r){if(this.logger.verbose("AuthErrorHandler has been called"),this.cacheStorage.setInteractionInProgress(!1),e===d.interactionTypeRedirect)if(this.logger.verbose("Interaction type is redirect"),this.errorReceivedCallback)this.logger.verbose("Two callbacks were provided to handleRedirectCallback, calling error callback"),this.errorReceivedCallback(t,n.accountState);else{if(!this.authResponseCallback)throw this.logger.verbose("handleRedirectCallback has not been called and no callbacks are registered, throwing error"),t;this.logger.verbose("One callback was provided to handleRedirectCallback, calling authResponseCallback with error"),this.authResponseCallback(t,n)}else{if(e!==d.interactionTypePopup)throw J.createInvalidInteractionTypeError();this.logger.verbose("Interaction type is popup, rejecting"),r(t)}},e.prototype.loginRedirect=function(e){this.logger.verbose("LoginRedirect has been called");var t=Me.validateRequest(e,!0,this.clientId,d.interactionTypeRedirect);this.acquireTokenInteractive(d.interactionTypeRedirect,!0,t,null,null)},e.prototype.acquireTokenRedirect=function(e){this.logger.verbose("AcquireTokenRedirect has been called");var t=Me.validateRequest(e,!1,this.clientId,d.interactionTypeRedirect);this.acquireTokenInteractive(d.interactionTypeRedirect,!1,t,null,null)},e.prototype.loginPopup=function(e){var t=this;this.logger.verbose("LoginPopup has been called");var n=Me.validateRequest(e,!0,this.clientId,d.interactionTypePopup),r=this.telemetryManager.createAndStartApiEvent(n.correlationId,et.LoginPopup);return new Promise((function(e,r){t.acquireTokenInteractive(d.interactionTypePopup,!0,n,e,r)})).then((function(e){return t.logger.verbose("Successfully logged in"),t.telemetryManager.stopAndFlushApiEvent(n.correlationId,r,!0),e})).catch((function(e){throw t.cacheStorage.resetTempCacheItems(n.state),t.telemetryManager.stopAndFlushApiEvent(n.correlationId,r,!1,e.errorCode),e}))},e.prototype.acquireTokenPopup=function(e){var t=this;this.logger.verbose("AcquireTokenPopup has been called");var n=Me.validateRequest(e,!1,this.clientId,d.interactionTypePopup),r=this.telemetryManager.createAndStartApiEvent(n.correlationId,et.AcquireTokenPopup);return new Promise((function(e,r){t.acquireTokenInteractive(d.interactionTypePopup,!1,n,e,r)})).then((function(e){return t.logger.verbose("Successfully acquired token"),t.telemetryManager.stopAndFlushApiEvent(n.correlationId,r,!0),e})).catch((function(e){throw t.cacheStorage.resetTempCacheItems(n.state),t.telemetryManager.stopAndFlushApiEvent(n.correlationId,r,!1,e.errorCode),e}))},e.prototype.acquireTokenInteractive=function(e,t,n,r,o){var i,a=this;this.logger.verbose("AcquireTokenInteractive has been called"),Le.blockReloadInHiddenIframes();try{this.cacheStorage.setInteractionInProgress(!0)}catch(l){var s=t?J.createLoginInProgressError():J.createAcquireTokenInProgressError(),c=$e(this.getAccountState(n.state));return this.cacheStorage.resetTempCacheItems(n.state),void this.authErrorHandler(e,s,c,o)}if(e===d.interactionTypeRedirect&&this.cacheStorage.setItem(h.REDIRECT_REQUEST,""+d.inProgress+d.resourceDelimiter+n.state),n&&n.account&&!t?(i=n.account,this.logger.verbose("Account set from request")):(i=this.getAccount(),this.logger.verbose("Account set from MSAL Cache")),i||Ce.isSSOParam(n))this.logger.verbose("User session exists, login not required"),this.acquireTokenHelper(i,e,t,n,r,o);else{if(!t){this.logger.verbose("AcquireToken call, no context or account given"),this.logger.info("User login is required");c=$e(this.getAccountState(n.state));return this.cacheStorage.resetTempCacheItems(n.state),void this.authErrorHandler(e,J.createUserLoginRequiredError(),c,o)}if(this.extractADALIdToken()&&!n.scopes){this.logger.info("ADAL's idToken exists. Extracting login information from ADAL's idToken");var u=this.buildIDTokenRequest(n);this.silentLogin=!0,this.acquireTokenSilent(u).then((function(t){a.silentLogin=!1,a.logger.info("Unified cache call is successful"),a.authResponseHandler(e,t,r)}),(function(i){a.silentLogin=!1,a.logger.error("Error occurred during unified cache ATS: "+i),a.acquireTokenHelper(null,e,t,n,r,o)}))}else this.logger.verbose("Login call but no token found, proceed to login"),this.acquireTokenHelper(null,e,t,n,r,o)}},e.prototype.acquireTokenHelper=function(e,t,n,r,o,i){return a(this,void 0,void 0,(function(){var a,c,u,l,p,m,v,y,b,w;return s(this,(function(s){switch(s.label){case 0:this.logger.verbose("AcquireTokenHelper has been called"),this.logger.verbose("Interaction type: "+t+". isLoginCall: "+n),a=r.scopes?r.scopes.join(" ").toLowerCase():d.oidcScopes.join(" "),this.logger.verbosePii("Request signature: "+a),u=r&&r.authority?qe.CreateInstance(r.authority,this.config.auth.validateAuthority,r.authorityMetadata):this.authorityInstance,s.label=1;case 1:return s.trys.push([1,11,,12]),u.hasCachedMetadata()?[3,3]:(this.logger.verbose("No cached metadata for authority"),[4,qe.saveMetadataFromNetwork(u,this.telemetryManager,r.correlationId)]);case 2:return s.sent(),[3,4];case 3:this.logger.verbose("Cached metadata found for authority"),s.label=4;case 4:if(p=n?g:this.getTokenType(e,r.scopes),m=r.redirectStartPage||window.location.href,c=new Ce(u,this.clientId,p,this.getRedirectUri(r&&r.redirectUri),r.scopes,r.state,r.correlationId),this.logger.verbose("Finished building server authentication request"),this.updateCacheEntries(c,e,n,m),this.logger.verbose("Updating cache entries"),c.populateQueryParams(e,r),this.logger.verbose("Query parameters populated from account"),v=ye.createNavigateUrl(c)+d.response_mode_fragment,t===d.interactionTypeRedirect)n?this.logger.verbose("Interaction type redirect but login call is true. State not cached"):(this.cacheStorage.setItem(xe.generateTemporaryCacheKey(h.STATE_ACQ_TOKEN,r.state),c.state,this.inCookie),this.logger.verbose("State cached for redirect"),this.logger.verbosePii("State cached: "+c.state));else{if(t!==d.interactionTypePopup)throw this.logger.verbose("Invalid interaction error. State not cached"),J.createInvalidInteractionTypeError();window.renewStates.push(c.state),window.requestType=n?d.login:d.renewToken,this.logger.verbose("State saved to window"),this.logger.verbosePii("State saved: "+c.state),this.registerCallback(c.state,a,o,i)}if(t!==d.interactionTypePopup)return[3,9];this.logger.verbose("Interaction type is popup. Generating popup window");try{l=this.openPopup(v,"msal",d.popUpWidth,d.popUpHeight),Le.trackPopup(l)}catch(E){if(this.logger.info(N.code+":"+N.desc),this.cacheStorage.setItem(f.ERROR,N.code),this.cacheStorage.setItem(f.ERROR_DESC,N.desc),i)return i(J.createPopupWindowError()),[2]}if(!l)return[3,8];s.label=5;case 5:return s.trys.push([5,7,,8]),[4,Le.monitorPopupForHash(l,this.config.system.loadFrameTimeout,v,this.logger)];case 6:return y=s.sent(),this.handleAuthenticationResponse(y),this.cacheStorage.setInteractionInProgress(!1),this.logger.info("Closing popup window"),this.config.framework.isAngular&&this.broadcast("msal:popUpHashChanged",y),Le.closePopups(),[3,8];case 7:return b=s.sent(),i&&i(b),this.config.framework.isAngular?this.broadcast("msal:popUpClosed",b.errorCode+d.resourceDelimiter+b.errorMessage):(this.cacheStorage.setInteractionInProgress(!1),l.close()),[3,8];case 8:return[3,10];case 9:r.onRedirectNavigate?(this.logger.verbose("Invoking onRedirectNavigate callback"),!1!==r.onRedirectNavigate(v)?(this.logger.verbose("onRedirectNavigate did not return false, navigating"),this.navigateWindow(v)):this.logger.verbose("onRedirectNavigate returned false, stopping navigation")):(this.logger.verbose("Navigating window to urlNavigate"),this.navigateWindow(v)),s.label=10;case 10:return[3,12];case 11:return w=s.sent(),this.logger.error(w),this.cacheStorage.resetTempCacheItems(r.state),this.authErrorHandler(t,J.createEndpointResolutionError(w.toString),$e(r.state),i),l&&l.close(),[3,12];case 12:return[2]}}))}))},e.prototype.ssoSilent=function(e){if(this.logger.verbose("ssoSilent has been called"),!e)throw me.createEmptyRequestError();if(!e.sid&&!e.loginHint)throw me.createSsoSilentError();return this.acquireTokenSilent(i(i({},e),{scopes:d.oidcScopes}))},e.prototype.acquireTokenSilent=function(e){var t=this;this.logger.verbose("AcquireTokenSilent has been called");var n=Me.validateRequest(e,!1,this.clientId,d.interactionTypeSilent),r=this.telemetryManager.createAndStartApiEvent(n.correlationId,et.AcquireTokenSilent),o=Me.createRequestSignature(n);return new Promise((function(e,r){return a(t,void 0,void 0,(function(){var t,i,a,c,u,l,h,p,f,g,m;return s(this,(function(s){switch(s.label){case 0:if(Le.blockReloadInHiddenIframes(),t=n.scopes.join(" ").toLowerCase(),this.logger.verbosePii("Serialized scopes: "+t),n.account?(i=n.account,this.logger.verbose("Account set from request")):(i=this.getAccount(),this.logger.verbose("Account set from MSAL Cache")),a=this.cacheStorage.getItem(d.adalIdToken),!i&&!n.sid&&!n.loginHint&&R.isEmpty(a))return this.logger.info("User login is required"),[2,r(J.createUserLoginRequiredError())];if(c=this.getTokenType(i,n.scopes),this.logger.verbose("Response type: "+c),u=new Ce(qe.CreateInstance(n.authority,this.config.auth.validateAuthority,n.authorityMetadata),this.clientId,c,this.getRedirectUri(n.redirectUri),n.scopes,n.state,n.correlationId),this.logger.verbose("Finished building server authentication request"),Ce.isSSOParam(n)||i?(u.populateQueryParams(i,n,null,!0),this.logger.verbose("Query parameters populated from existing SSO or account")):i||R.isEmpty(a)?this.logger.verbose("No additional query parameters added"):(l=Re.extractIdToken(a),this.logger.verbose("ADAL's idToken exists. Extracting login information from ADAL's idToken to populate query parameters"),u.populateQueryParams(i,null,l,!0)),!(h=n.claimsRequest||u.claimsValue)&&!n.forceRefresh)try{f=this.getCachedToken(u,i)}catch(v){p=v}return f?(this.logger.verbose("Token found in cache lookup"),this.logger.verbosePii("Scopes found: "+JSON.stringify(f.scopes)),e(f),[2,null]):[3,1];case 1:return p?(this.logger.infoPii(p.errorCode+":"+p.errorMessage),r(p),[2,null]):[3,2];case 2:g=void 0,g=h?"Skipped cache lookup since claims were given":n.forceRefresh?"Skipped cache lookup since request.forceRefresh option was set to true":"No valid token found in cache lookup",this.logger.verbose(g),u.authorityInstance||(u.authorityInstance=n.authority?qe.CreateInstance(n.authority,this.config.auth.validateAuthority,n.authorityMetadata):this.authorityInstance),this.logger.verbosePii("Authority instance: "+u.authority),s.label=3;case 3:return s.trys.push([3,7,,8]),u.authorityInstance.hasCachedMetadata()?[3,5]:(this.logger.verbose("No cached metadata for authority"),[4,qe.saveMetadataFromNetwork(u.authorityInstance,this.telemetryManager,n.correlationId)]);case 4:return s.sent(),this.logger.verbose("Authority has been updated with endpoint discovery response"),[3,6];case 5:this.logger.verbose("Cached metadata found for authority"),s.label=6;case 6:return window.activeRenewals[o]?(this.logger.verbose("Renewing token in progress. Registering callback"),this.registerCallback(window.activeRenewals[o],o,e,r)):n.scopes&&ve.onlyContainsOidcScopes(n.scopes)?(this.logger.verbose("OpenID Connect scopes only, renewing idToken"),this.silentLogin=!0,this.renewIdToken(o,e,r,i,u)):(this.logger.verbose("Renewing access token"),this.renewToken(o,e,r,i,u)),[3,8];case 7:return m=s.sent(),this.logger.error(m),r(J.createEndpointResolutionError(m.toString())),[2,null];case 8:return[2]}}))}))})).then((function(e){return t.logger.verbose("Successfully acquired token"),t.telemetryManager.stopAndFlushApiEvent(n.correlationId,r,!0),e})).catch((function(e){throw t.cacheStorage.resetTempCacheItems(n.state),t.telemetryManager.stopAndFlushApiEvent(n.correlationId,r,!1,e.errorCode),e}))},e.prototype.openPopup=function(e,t,n,r){this.logger.verbose("OpenPopup has been called");try{var o=window.screenLeft?window.screenLeft:window.screenX,i=window.screenTop?window.screenTop:window.screenY,a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=a/2-n/2+o,u=s/2-r/2+i,l=window.open(e,t,"width="+n+", height="+r+", top="+u+", left="+c+", scrollbars=yes");if(!l)throw J.createPopupWindowError();return l.focus&&l.focus(),l}catch(d){throw this.cacheStorage.setInteractionInProgress(!1),J.createPopupWindowError(d.toString())}},e.prototype.loadIframeTimeout=function(e,t,n){return a(this,void 0,void 0,(function(){var r,o,i,a,c;return s(this,(function(s){switch(s.label){case 0:return r=window.activeRenewals[n],this.logger.verbosePii("Set loading state to pending for: "+n+":"+r),this.cacheStorage.setItem(xe.generateTemporaryCacheKey(h.RENEW_STATUS,r),d.inProgress),this.config.system.navigateFrameWait?[4,Le.loadFrame(e,t,this.config.system.navigateFrameWait,this.logger)]:[3,2];case 1:return i=s.sent(),[3,3];case 2:i=Le.loadFrameSync(e,t,this.logger),s.label=3;case 3:o=i,s.label=4;case 4:return s.trys.push([4,6,,7]),[4,Le.monitorIframeForHash(o.contentWindow,this.config.system.loadFrameTimeout,e,this.logger)];case 5:return(a=s.sent())&&this.handleAuthenticationResponse(a),[3,7];case 6:throw c=s.sent(),this.cacheStorage.getItem(xe.generateTemporaryCacheKey(h.RENEW_STATUS,r))===d.inProgress&&(this.logger.verbose("Loading frame has timed out after: "+this.config.system.loadFrameTimeout/1e3+" seconds for scope/authority "+n+":"+r),r&&window.callbackMappedToRenewStates[r]&&window.callbackMappedToRenewStates[r](null,c),this.cacheStorage.removeItem(xe.generateTemporaryCacheKey(h.RENEW_STATUS,r))),Le.removeHiddenIframe(o),c;case 7:return Le.removeHiddenIframe(o),[2]}}))}))},e.prototype.navigateWindow=function(e,t){if(!e||R.isEmpty(e))throw this.logger.info("Navigate url is empty"),A.createUnexpectedError("Navigate url is empty");var n=t||window,r=t?"Navigated Popup window to:"+e:"Navigate to:"+e;this.logger.infoPii(r),n.location.assign(e)},e.prototype.registerCallback=function(e,t,n,r){var o=this;window.activeRenewals[t]=e,window.promiseMappedToRenewStates[e]||(window.promiseMappedToRenewStates[e]=[]),window.promiseMappedToRenewStates[e].push({resolve:n,reject:r}),window.callbackMappedToRenewStates[e]||(window.callbackMappedToRenewStates[e]=function(n,r){delete window.activeRenewals[t];for(var i=0;i<window.promiseMappedToRenewStates[e].length;++i)try{if(r)window.promiseMappedToRenewStates[e][i].reject(r);else{if(!n)throw o.cacheStorage.resetTempCacheItems(e),A.createUnexpectedError("Error and response are both null");window.promiseMappedToRenewStates[e][i].resolve(n)}}catch(a){o.logger.warning(a)}delete window.promiseMappedToRenewStates[e],delete window.callbackMappedToRenewStates[e]})},e.prototype.logout=function(e){this.logger.verbose("Logout has been called"),this.logoutAsync(e)},e.prototype.logoutAsync=function(e){return a(this,void 0,void 0,(function(){var t,n,r,o,i,a;return s(this,(function(s){switch(s.label){case 0:t=e||l.createNewGuid(),n=this.telemetryManager.createAndStartApiEvent(t,et.Logout),this.clearCache(),this.account=null,s.label=1;case 1:return s.trys.push([1,5,,6]),this.authorityInstance.hasCachedMetadata()?[3,3]:(this.logger.verbose("No cached metadata for authority"),[4,qe.saveMetadataFromNetwork(this.authorityInstance,this.telemetryManager,e)]);case 2:return s.sent(),[3,4];case 3:this.logger.verbose("Cached metadata found for authority"),s.label=4;case 4:return r="client-request-id="+t,o=void 0,this.getPostLogoutRedirectUri()?(o="&post_logout_redirect_uri="+encodeURIComponent(this.getPostLogoutRedirectUri()),this.logger.verbose("redirectUri found and set")):(o="",this.logger.verbose("No redirectUri set for app. postLogoutQueryParam is empty")),i=void 0,this.authorityInstance.EndSessionEndpoint?(i=this.authorityInstance.EndSessionEndpoint+"?"+r+o,this.logger.verbose("EndSessionEndpoint found and urlNavigate set"),this.logger.verbosePii("urlNavigate set to: "+this.authorityInstance.EndSessionEndpoint)):(i=this.authority+"oauth2/v2.0/logout?"+r+o,this.logger.verbose("No endpoint, urlNavigate set to default")),this.telemetryManager.stopAndFlushApiEvent(t,n,!0),this.logger.verbose("Navigating window to urlNavigate"),this.navigateWindow(i),[3,6];case 5:return a=s.sent(),this.telemetryManager.stopAndFlushApiEvent(t,n,!1,a.errorCode),[3,6];case 6:return[2]}}))}))},e.prototype.clearCache=function(){this.logger.verbose("Clearing cache"),window.renewStates=[];for(var e=this.cacheStorage.getAllTokens(d.clientId,d.homeAccountIdentifier),t=0;t<e.length;t++)this.cacheStorage.removeItem(JSON.stringify(e[t].key));this.cacheStorage.resetCacheItems(),this.cacheStorage.clearMsalCookie(),this.logger.verbose("Cache cleared")},e.prototype.clearCacheForScope=function(e){this.logger.verbose("Clearing access token from cache");for(var t=this.cacheStorage.getAllAccessTokens(d.clientId,d.homeAccountIdentifier),n=0;n<t.length;n++){var r=t[n];r.value.accessToken===e&&(this.cacheStorage.removeItem(JSON.stringify(r.key)),this.logger.verbosePii("Access token removed: "+r.key))}},e.prototype.isCallback=function(e){return this.logger.info("isCallback will be deprecated in favor of urlContainsHash in MSAL.js v2.0."),this.logger.verbose("isCallback has been called"),ye.urlContainsHash(e)},e.prototype.processCallBack=function(e,t,n){this.logger.info("ProcessCallBack has been called. Processing callback from redirect response");var r,o,i=t;i||(this.logger.verbose("StateInfo is null, getting stateInfo from hash"),i=this.getResponseState(e));try{r=this.saveTokenFromHash(e,i)}catch(s){o=s}try{this.cacheStorage.clearMsalCookie(i.state);var a=this.getAccountState(i.state);if(r){if(i.requestType===d.renewToken||r.accessToken?(window.parent!==window?this.logger.verbose("Window is in iframe, acquiring token silently"):this.logger.verbose("Acquiring token interactive in progress"),this.logger.verbose("Response tokenType set to "+u.ACCESS_TOKEN),r.tokenType=u.ACCESS_TOKEN):i.requestType===d.login&&(this.logger.verbose("Response tokenType set to "+u.ID_TOKEN),r.tokenType=u.ID_TOKEN),!n)return this.logger.verbose("Setting redirectResponse"),void(this.redirectResponse=r)}else if(!n)return this.logger.verbose("Response is null, setting redirectResponse with state"),this.redirectResponse=$e(a),this.redirectError=o,void this.cacheStorage.resetTempCacheItems(i.state);this.logger.verbose("Calling callback provided to processCallback"),n(r,o)}catch(s){throw this.logger.error("Error occurred in token received callback function: "+s),J.createErrorInCallbackFunction(s.toString())}},e.prototype.handleAuthenticationResponse=function(e){this.logger.verbose("HandleAuthenticationResponse has been called");var t=e||window.location.hash,n=this.getResponseState(t);this.logger.verbose("Obtained state from response");var r=window.callbackMappedToRenewStates[n.state];this.processCallBack(t,n,r)},e.prototype.handleRedirectAuthenticationResponse=function(e){this.logger.info("Returned from redirect url"),this.logger.verbose("HandleRedirectAuthenticationResponse has been called"),Le.clearUrlFragment(window),this.logger.verbose("Window.location.hash cleared");var t=this.getResponseState(e);if(this.config.auth.navigateToLoginRequestUrl&&window.parent===window){this.logger.verbose("Window.parent is equal to window, not in popup or iframe. Navigation to login request url after login turned on");var n=this.cacheStorage.getItem(xe.generateTemporaryCacheKey(h.LOGIN_REQUEST,t.state),this.inCookie);if(!n||"null"===n)return this.logger.error("Unable to get valid login request url from cache, redirecting to home page"),void window.location.assign("/");this.logger.verbose("Valid login request url obtained from cache");var r=ye.removeHashFromUrl(window.location.href),o=ye.removeHashFromUrl(n);if(r!==o)return this.logger.verbose("Current url is not login request url, navigating"),this.logger.verbosePii("CurrentUrl: "+r+", finalRedirectUrl: "+o),void window.location.assign(""+o+e);this.logger.verbose("Current url matches login request url");var i=ye.GetUrlComponents(n);i.Hash&&(this.logger.verbose("Login request url contains hash, resetting non-msal hash"),window.location.hash=i.Hash)}else this.config.auth.navigateToLoginRequestUrl||this.logger.verbose("Default navigation to start page after login turned off");this.processCallBack(e,t,null)},e.prototype.getResponseState=function(e){this.logger.verbose("GetResponseState has been called");var t,n=ye.deserializeHash(e);if(!n)throw A.createUnexpectedError("Hash was not parsed correctly.");if(!n.hasOwnProperty(u.STATE))throw A.createUnexpectedError("Hash does not contain state.");this.logger.verbose("Hash contains state. Creating stateInfo object");var r=Me.parseLibraryState(n.state);if((t={requestType:d.unknown,state:n.state,timestamp:r.ts,method:r.method,stateMatch:!1}).state===this.cacheStorage.getItem(xe.generateTemporaryCacheKey(h.STATE_LOGIN,t.state),this.inCookie)||t.state===this.silentAuthenticationState)return this.logger.verbose("State matches cached state, setting requestType to login"),t.requestType=d.login,t.stateMatch=!0,t;if(t.state===this.cacheStorage.getItem(xe.generateTemporaryCacheKey(h.STATE_ACQ_TOKEN,t.state),this.inCookie))return this.logger.verbose("State matches cached state, setting requestType to renewToken"),t.requestType=d.renewToken,t.stateMatch=!0,t;if(!t.stateMatch){this.logger.verbose("State does not match cached state, setting requestType to type from window"),t.requestType=window.requestType;for(var o=window.renewStates,i=0;i<o.length;i++)if(o[i]===t.state){this.logger.verbose("Matching state found for request"),t.stateMatch=!0;break}t.stateMatch||this.logger.verbose("Matching state not found for request")}return t},e.prototype.getCachedToken=function(e,t){this.logger.verbose("GetCachedToken has been called");var n=e.scopes,r=this.getCachedIdToken(e,t),o=this.getCachedAccessToken(e,t,n),i=this.getAccountState(e.state);return De.buildAuthResponse(r,o,e,t,n,i)},e.prototype.getTokenCacheItemByAuthority=function(e,t,n,r){var o,i=this;return 1===(o=ye.isCommonAuthority(e)||ye.isOrganizationsAuthority(e)||ye.isConsumersAuthority(e)?zt.filterTokenCacheItemsByDomain(t,ye.GetUrlComponents(e).HostNameAndPort):zt.filterTokenCacheItemsByAuthority(t,e)).length?o[0]:o.length>1?(this.logger.warning("Multiple matching tokens found. Cleaning cache and requesting a new token."),o.forEach((function(e){i.cacheStorage.removeItem(JSON.stringify(e.key))})),null):(this.logger.verbose("No matching tokens of type "+r+" found"),null)},e.prototype.getCachedIdToken=function(e,t){this.logger.verbose("Getting all cached tokens of type ID Token");var n=this.cacheStorage.getAllIdTokens(this.clientId,t?t.homeAccountIdentifier:null),r=e.authority||this.authority,o=this.getTokenCacheItemByAuthority(r,n,null,u.ID_TOKEN);if(o){if(this.logger.verbose("Evaluating ID token found"),this.evaluateTokenExpiration(o)){this.logger.verbose("ID token expiration is within offset, using ID token found in cache");var i=o.value;return i?this.logger.verbose("ID Token found in cache is valid and unexpired"):this.logger.verbose("ID Token found in cache is invalid"),i?new Pe(i.idToken):null}return this.logger.verbose("Cached ID token is expired, removing from cache"),this.cacheStorage.removeItem(JSON.stringify(o.key)),null}return this.logger.verbose("No tokens found"),null},e.prototype.getCachedAccessToken=function(e,t,n){this.logger.verbose("Getting all cached tokens of type Access Token");var r=this.cacheStorage.getAllAccessTokens(this.clientId,t?t.homeAccountIdentifier:null),o=zt.filterTokenCacheItemsByScope(r,n),i=e.authority||this.authority,a=this.getTokenCacheItemByAuthority(i,o,n,u.ACCESS_TOKEN);if(a){if(e.authorityInstance=qe.CreateInstance(a.key.authority,this.config.auth.validateAuthority),this.logger.verbose("Evaluating access token found"),this.evaluateTokenExpiration(a)){this.logger.verbose("Access token expiration is within offset, using access token found in cache");var s=t||this.getAccount();if(!s)throw A.createUnexpectedError("Account should not be null here.");var c=this.getAccountState(e.state);return{uniqueId:"",tenantId:"",tokenType:u.ACCESS_TOKEN,idToken:null,idTokenClaims:null,accessToken:a.value.accessToken,scopes:a.key.scopes.split(" "),expiresOn:new Date(1e3*Number(a.value.expiresIn)),account:s,accountState:c,fromCache:!0}}return this.logger.verbose("Access token expired, removing from cache"),this.cacheStorage.removeItem(JSON.stringify(a.key)),null}return this.logger.verbose("No matching token found when filtering by scope and authority"),null},e.prototype.evaluateTokenExpiration=function(e){var t=Number(e.value.expiresIn);return Re.validateExpirationIsWithinOffset(t,this.config.system.tokenRenewalOffsetSeconds)},e.prototype.extractADALIdToken=function(){this.logger.verbose("ExtractADALIdToken has been called");var e=this.cacheStorage.getItem(d.adalIdToken);return R.isEmpty(e)?null:Re.extractIdToken(e)},e.prototype.renewToken=function(e,t,n,r,o){this.logger.verbose("RenewToken has been called"),this.logger.verbosePii("RenewToken scope and authority: "+e);var i=Le.generateFrameName(T,e);Le.addHiddenIFrame(i,this.logger),this.updateCacheEntries(o,r,!1),this.logger.verbosePii("RenewToken expected state: "+o.state);var a=ye.urlRemoveQueryStringParameter(ye.createNavigateUrl(o),d.prompt)+d.prompt_none+d.response_mode_fragment;window.renewStates.push(o.state),window.requestType=d.renewToken,this.logger.verbose("Set window.renewState and requestType"),this.registerCallback(o.state,e,t,n),this.logger.infoPii("Navigate to: "+a),this.loadIframeTimeout(a,i,e).catch((function(e){return n(e)}))},e.prototype.renewIdToken=function(e,t,n,r,o){this.logger.info("RenewIdToken has been called");var i=Le.generateFrameName(S,e);Le.addHiddenIFrame(i,this.logger),this.updateCacheEntries(o,r,!1),this.logger.verbose("RenewIdToken expected state: "+o.state);var a=ye.urlRemoveQueryStringParameter(ye.createNavigateUrl(o),d.prompt)+d.prompt_none+d.response_mode_fragment;this.silentLogin?(this.logger.verbose("Silent login is true, set silentAuthenticationState"),window.requestType=d.login,this.silentAuthenticationState=o.state):(this.logger.verbose("Not silent login, set window.renewState and requestType"),window.requestType=d.renewToken,window.renewStates.push(o.state)),this.registerCallback(o.state,e,t,n),this.logger.infoPii('Navigate to:" '+a),this.loadIframeTimeout(a,i,e).catch((function(e){return n(e)}))},e.prototype.saveToken=function(e,t,n,r,o){var i=new be(t,this.clientId,n,r.uid,r.utid),a=new we(e.accessToken,e.idToken.rawIdToken,o.toString(),r.encodeClientInfo());return this.cacheStorage.setItem(JSON.stringify(i),JSON.stringify(a)),o?(this.logger.verbose("New expiration set for token"),e.expiresOn=new Date(1e3*o)):this.logger.error("Could not parse expiresIn parameter for access token"),e},e.prototype.saveIdToken=function(e,t,n,r,o){this.logger.verbose("SaveIdToken has been called");var a=i({},e);a.scopes=d.oidcScopes,a.accessToken=n[u.ID_TOKEN];var s=Number(o.expiration);return this.logger.verbose("Saving ID token to cache"),this.saveToken(a,t,undefined,r,s)},e.prototype.saveAccessToken=function(e,t,n,r){this.logger.verbose("SaveAccessToken has been called");var o=i({},e),a=n[u.SCOPE],s=a.split(" "),c=this.cacheStorage.getAllAccessTokens(this.clientId,t);this.logger.verbose("Retrieving all access tokens from cache and removing duplicates");for(var l=0;l<c.length;l++){var d=c[l];if(d.key.homeAccountIdentifier===e.account.homeAccountIdentifier){var h=d.key.scopes.split(" ");ve.isIntersectingScopes(h,s)&&this.cacheStorage.removeItem(JSON.stringify(d.key))}}o.accessToken=n[u.ACCESS_TOKEN],o.scopes=s;var p=Ae.parseExpiresIn(n[u.EXPIRES_IN]),f=Me.parseLibraryState(n[u.STATE]).ts+p;return this.logger.verbose("Saving access token to cache"),this.saveToken(o,t,a,r,f)},e.prototype.saveTokenFromHash=function(e,t){this.logger.verbose("SaveTokenFromHash has been called"),this.logger.info("State status: "+t.stateMatch+"; Request type: "+t.requestType);var n,r={uniqueId:"",tenantId:"",tokenType:"",idToken:null,idTokenClaims:null,accessToken:null,scopes:[],expiresOn:null,account:null,accountState:"",fromCache:!1},o=ye.deserializeHash(e),i="",a="",s=null;if(o.hasOwnProperty(u.ERROR_DESCRIPTION)||o.hasOwnProperty(u.ERROR)){if(this.logger.verbose("Server returned an error"),this.logger.infoPii("Error : "+o[u.ERROR]+"; Error description: "+o[u.ERROR_DESCRIPTION]),this.cacheStorage.setItem(f.ERROR,o[u.ERROR]),this.cacheStorage.setItem(f.ERROR_DESC,o[u.ERROR_DESCRIPTION]),t.requestType===d.login&&(this.logger.verbose("RequestType is login, caching login error, generating authorityKey"),this.cacheStorage.setItem(f.LOGIN_ERROR,o[u.ERROR_DESCRIPTION]+":"+o[u.ERROR]),i=xe.generateAuthorityKey(t.state)),t.requestType===d.renewToken){this.logger.verbose("RequestType is renewToken, generating acquireTokenAccountKey"),i=xe.generateAuthorityKey(t.state);var c=this.getAccount(),l=void 0;c&&!R.isEmpty(c.homeAccountIdentifier)?(l=c.homeAccountIdentifier,this.logger.verbose("AccountId is set")):(l=d.no_account,this.logger.verbose("AccountId is set as no_account")),a=xe.generateAcquireTokenAccountKey(l,t.state)}var g=o[u.ERROR],m=o[u.ERROR_DESCRIPTION];n=Je.isInteractionRequiredError(g)||Je.isInteractionRequiredError(m)?new Je(o[u.ERROR],o[u.ERROR_DESCRIPTION]):new We(o[u.ERROR],o[u.ERROR_DESCRIPTION])}else if(this.logger.verbose("Server returns success"),t.stateMatch){this.logger.info("State is right"),o.hasOwnProperty(u.SESSION_STATE)&&(this.logger.verbose("Fragment has session state, caching"),this.cacheStorage.setItem(xe.generateTemporaryCacheKey(h.SESSION_STATE,t.state),o[u.SESSION_STATE])),r.accountState=this.getAccountState(t.state);var v=void 0;if(o.hasOwnProperty(u.ACCESS_TOKEN)){this.logger.info("Fragment has access token"),r.accessToken=o[u.ACCESS_TOKEN],o.hasOwnProperty(u.SCOPE)&&(r.scopes=o[u.SCOPE].split(" ")),o.hasOwnProperty(u.ID_TOKEN)?(this.logger.verbose("Fragment has id_token"),s=new Pe(o[u.ID_TOKEN])):(this.logger.verbose("No idToken on fragment, getting idToken from cache"),s=new Pe(this.cacheStorage.getItem(p.IDTOKEN))),r=De.setResponseIdToken(r,s);var y=this.populateAuthority(t.state,this.inCookie,this.cacheStorage,s);this.logger.verbose("Got authority from cache"),o.hasOwnProperty(u.CLIENT_INFO)?(this.logger.verbose("Fragment has clientInfo"),v=new ke(o[u.CLIENT_INFO],y)):this.authorityInstance.AuthorityType===w.Adfs?v=ke.createClientInfoFromIdToken(s,y):this.logger.warning("ClientInfo not received in the response from AAD"),r.account=Ue.createAccount(s,v),this.logger.verbose("Account object created from response");var b=void 0;r.account&&!R.isEmpty(r.account.homeAccountIdentifier)?(this.logger.verbose("AccountKey set"),b=r.account.homeAccountIdentifier):(this.logger.verbose("AccountKey set as no_account"),b=d.no_account),a=xe.generateAcquireTokenAccountKey(b,t.state);var E=xe.generateAcquireTokenAccountKey(d.no_account,t.state);this.logger.verbose("AcquireTokenAccountKey generated");var C=this.cacheStorage.getItem(a),_=void 0;R.isEmpty(C)?R.isEmpty(this.cacheStorage.getItem(E))||(this.logger.verbose("No acquireToken account retrieved from cache"),r=this.saveAccessToken(r,y,o,v)):(_=JSON.parse(C),this.logger.verbose("AcquireToken request account retrieved from cache"),r.account&&_&&Ue.compareAccounts(r.account,_)?(r=this.saveAccessToken(r,y,o,v),this.logger.info("The user object received in the response is the same as the one passed in the acquireToken request")):this.logger.warning("The account object created from the response is not the same as the one passed in the acquireToken request"))}if(o.hasOwnProperty(u.ID_TOKEN)){this.logger.info("Fragment has idToken"),s=new Pe(o[u.ID_TOKEN]);y=this.populateAuthority(t.state,this.inCookie,this.cacheStorage,s);if(r=De.setResponseIdToken(r,s),o.hasOwnProperty(u.CLIENT_INFO)?(this.logger.verbose("Fragment has clientInfo"),v=new ke(o[u.CLIENT_INFO],y)):this.authorityInstance.AuthorityType===w.Adfs?v=ke.createClientInfoFromIdToken(s,y):this.logger.warning("ClientInfo not received in the response from AAD"),this.account=Ue.createAccount(s,v),r.account=this.account,this.logger.verbose("Account object created from response"),s&&s.nonce){this.logger.verbose("IdToken has nonce");var S=this.cacheStorage.getItem(xe.generateTemporaryCacheKey(h.NONCE_IDTOKEN,t.state),this.inCookie);s.nonce!==S?(this.account=null,this.cacheStorage.setItem(f.LOGIN_ERROR,"Nonce Mismatch. Expected Nonce: "+S+",Actual Nonce: "+s.nonce),this.logger.error("Nonce Mismatch. Expected Nonce: "+S+", Actual Nonce: "+s.nonce),n=J.createNonceMismatchError(S,s.nonce)):(this.logger.verbose("Nonce matches, saving idToken to cache"),this.cacheStorage.setItem(p.IDTOKEN,o[u.ID_TOKEN],this.inCookie),this.cacheStorage.setItem(p.CLIENT_INFO,v.encodeClientInfo(),this.inCookie),this.saveIdToken(r,y,o,v,s))}else this.logger.verbose("No idToken or no nonce. Cache key for Authority set as state"),i=t.state,a=t.state,this.logger.error("Invalid id_token received in the response"),n=J.createInvalidIdTokenError(s),this.cacheStorage.setItem(f.ERROR,n.errorCode),this.cacheStorage.setItem(f.ERROR_DESC,n.errorMessage)}}else{this.logger.verbose("State mismatch"),i=t.state,a=t.state;var T=this.cacheStorage.getItem(xe.generateTemporaryCacheKey(h.STATE_LOGIN,t.state),this.inCookie);this.logger.error("State Mismatch. Expected State: "+T+", Actual State: "+t.state),n=J.createInvalidStateError(t.state,T),this.cacheStorage.setItem(f.ERROR,n.errorCode),this.cacheStorage.setItem(f.ERROR_DESC,n.errorMessage)}if(this.cacheStorage.removeItem(xe.generateTemporaryCacheKey(h.RENEW_STATUS,t.state)),this.cacheStorage.resetTempCacheItems(t.state),this.logger.verbose("Status set to complete, temporary cache cleared"),this.inCookie&&(this.logger.verbose("InCookie is true, setting authorityKey in cookie"),this.cacheStorage.setItemCookie(i,"",-1),this.cacheStorage.clearMsalCookie(t.state)),n)throw n;if(!r)throw A.createUnexpectedError("Response is null");return r},e.prototype.populateAuthority=function(e,t,n,r){this.logger.verbose("PopulateAuthority has been called");var o=xe.generateAuthorityKey(e),i=n.getItem(o,t);return R.isEmpty(i)?i:ye.replaceTenantPath(i,r.tenantId)},e.prototype.getAccount=function(){if(this.account)return this.account;var e=this.cacheStorage.getItem(p.IDTOKEN,this.inCookie),t=this.cacheStorage.getItem(p.CLIENT_INFO,this.inCookie);if(!R.isEmpty(e)&&!R.isEmpty(t)){var n=new Pe(e),r=new ke(t,"");return this.account=Ue.createAccount(n,r),this.account}return null},e.prototype.getAccountState=function(e){if(e){var t=e.indexOf(d.resourceDelimiter);if(t>-1&&t+1<e.length)return e.substring(t+1)}return e},e.prototype.getAllAccounts=function(){for(var e=[],t=this.cacheStorage.getAllAccessTokens(d.clientId,d.homeAccountIdentifier),n=0;n<t.length;n++){var r=new Pe(t[n].value.idToken),o=new ke(t[n].value.homeAccountIdentifier,""),i=Ue.createAccount(r,o);e.push(i)}return this.getUniqueAccounts(e)},e.prototype.getUniqueAccounts=function(e){if(!e||e.length<=1)return e;for(var t=[],n=[],r=0;r<e.length;++r)e[r].homeAccountIdentifier&&-1===t.indexOf(e[r].homeAccountIdentifier)&&(t.push(e[r].homeAccountIdentifier),n.push(e[r]));return n},e.prototype.broadcast=function(e,t){var n=new CustomEvent(e,{detail:t});window.dispatchEvent(n)},e.prototype.getCachedTokenInternal=function(e,t,n,r){var o=t||this.getAccount();if(!o)return null;var i=this.authorityInstance?this.authorityInstance:qe.CreateInstance(this.authority,this.config.auth.validateAuthority),a=this.getTokenType(o,e),s=new Ce(i,this.clientId,a,this.getRedirectUri(),e,n,r);return this.getCachedToken(s,t)},e.prototype.getScopesForEndpoint=function(e){if(this.config.framework.unprotectedResources.length>0)for(var t=0;t<this.config.framework.unprotectedResources.length;t++)if(e.indexOf(this.config.framework.unprotectedResources[t])>-1)return null;if(this.config.framework.protectedResourceMap.size>0)for(var n=0,r=Array.from(this.config.framework.protectedResourceMap.keys());n<r.length;n++){var o=r[n];if(e.indexOf(o)>-1)return this.config.framework.protectedResourceMap.get(o)}return e.indexOf("http://")>-1||e.indexOf("https://")>-1?ye.getHostFromUri(e)===ye.getHostFromUri(this.getRedirectUri())?new Array(this.clientId):null:new Array(this.clientId)},e.prototype.getLoginInProgress=function(){return this.cacheStorage.isInteractionInProgress(!0)},e.prototype.setInteractionInProgress=function(e){this.cacheStorage.setInteractionInProgress(e)},e.prototype.setloginInProgress=function(e){this.setInteractionInProgress(e)},e.prototype.getAcquireTokenInProgress=function(){return this.cacheStorage.isInteractionInProgress(!0)},e.prototype.setAcquireTokenInProgress=function(e){this.setInteractionInProgress(e)},e.prototype.getLogger=function(){return this.logger},e.prototype.setLogger=function(e){this.logger=e},e.prototype.getRedirectUri=function(e){return e||("function"===typeof this.config.auth.redirectUri?this.config.auth.redirectUri():this.config.auth.redirectUri)},e.prototype.getPostLogoutRedirectUri=function(){return"function"===typeof this.config.auth.postLogoutRedirectUri?this.config.auth.postLogoutRedirectUri():this.config.auth.postLogoutRedirectUri},e.prototype.getCurrentConfiguration=function(){if(!this.config)throw me.createNoSetConfigurationError();return this.config},e.prototype.getTokenType=function(e,t){var n=Ue.compareAccounts(e,this.getAccount());return Ce.determineResponseType(n,t)},e.prototype.setAccountCache=function(e,t){var n=e?this.getAccountId(e):d.no_account,r=xe.generateAcquireTokenAccountKey(n,t);this.cacheStorage.setItem(r,JSON.stringify(e))},e.prototype.setAuthorityCache=function(e,t){var n=xe.generateAuthorityKey(e);this.cacheStorage.setItem(n,ye.CanonicalizeUri(t),this.inCookie)},e.prototype.updateCacheEntries=function(e,t,n,r){r&&this.cacheStorage.setItem(xe.generateTemporaryCacheKey(h.LOGIN_REQUEST,e.state),r,this.inCookie),n?this.cacheStorage.setItem(xe.generateTemporaryCacheKey(h.STATE_LOGIN,e.state),e.state,this.inCookie):this.setAccountCache(t,e.state),this.setAuthorityCache(e.state,e.authority),this.cacheStorage.setItem(xe.generateTemporaryCacheKey(h.NONCE_IDTOKEN,e.state),e.nonce,this.inCookie)},e.prototype.getAccountId=function(e){return R.isEmpty(e.homeAccountIdentifier)?d.no_account:e.homeAccountIdentifier},e.prototype.buildIDTokenRequest=function(e){return{scopes:d.oidcScopes,authority:this.authority,account:this.getAccount(),extraQueryParameters:e.extraQueryParameters,correlationId:e.correlationId}},e.prototype.getTelemetryManagerFromConfig=function(e,t){if(!e)return Ft.getTelemetrymanagerStub(t,this.logger);var n=e.applicationName,r=e.applicationVersion,o=e.telemetryEmitter;if(!n||!r||!o)throw me.createTelemetryConfigError(e);return new Ft({platform:{applicationName:n,applicationVersion:r},clientId:t},o,this.logger)},e}()},463:function(e,t,n){var r=n(791),o=n(296);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=m.hasOwnProperty(t)?m[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),C=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),k=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var x=Symbol.iterator;function U(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=x&&e[x]||e["@@iterator"])?e:null}var L,D=Object.assign;function q(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var H=!1;function F(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var o=u.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var c="\n"+o[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function z(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case C:return"Portal";case T:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function K(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function B(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=B(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){$(e,t);var n=B(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,B(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+B(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:B(n)}}function ie(e,t){var n=B(t.value),r=B(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,_e=null,Se=null;function Te(e){if(e=wo(e)){if("function"!==typeof Ce)throw Error(i(280));var t=e.stateNode;t&&(t=Co(t),Ce(e.stateNode,e.type,t))}}function Ie(e){_e?Se?Se.push(e):Se=[e]:_e=e}function ke(){if(_e){var e=_e,t=Se;if(Se=_e=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ae(e,t){return e(t)}function Re(){}var Pe=!1;function Ne(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ae(e,t,n)}finally{Pe=!1,(null!==_e||null!==Se)&&(Re(),ke())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=Co(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Me=!1;if(l)try{var xe={};Object.defineProperty(xe,"passive",{get:function(){Me=!0}}),window.addEventListener("test",xe,xe),window.removeEventListener("test",xe,xe)}catch(le){Me=!1}function Ue(e,t,n,r,o,i,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var Le=!1,De=null,qe=!1,He=null,Fe={onError:function(e){Le=!0,De=e}};function ze(e,t,n,r,o,i,a,s,c){Le=!1,De=null,Ue.apply(Fe,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Be(e){if(je(e)!==e)throw Error(i(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Be(o),e;if(a===r)return Be(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,c=o.child;c;){if(c===n){s=!0,n=o,r=a;break}if(c===r){s=!0,r=o,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=o;break}if(c===r){s=!0,r=a,n=o;break}c=c.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ve=o.unstable_scheduleCallback,Ye=o.unstable_cancelCallback,Qe=o.unstable_shouldYield,Je=o.unstable_requestPaint,$e=o.unstable_now,Xe=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2;var ut=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=dt(s):0!==(i&=a)&&(r=dt(i))}else 0!==(a=n&~o)?r=dt(a):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,Ct,_t,St,Tt,It=!1,kt=[],At=null,Rt=null,Pt=null,Nt=new Map,Ot=new Map,Mt=[],xt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ut(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=wo(t))&&Ct(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Dt(e){var t=bo(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void Tt(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function qt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&Ct(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ht(e,t,n){qt(e)&&n.delete(t)}function Ft(){It=!1,null!==At&&qt(At)&&(At=null),null!==Rt&&qt(Rt)&&(Rt=null),null!==Pt&&qt(Pt)&&(Pt=null),Nt.forEach(Ht),Ot.forEach(Ht)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ft)))}function jt(e){function t(t){return zt(t,e)}if(0<kt.length){zt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&zt(At,e),null!==Rt&&zt(Rt,e),null!==Pt&&zt(Pt,e),Nt.forEach(t),Ot.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Mt.shift()}var Kt=w.ReactCurrentBatchConfig,Bt=!0;function Gt(e,t,n,r){var o=bt,i=Kt.transition;Kt.transition=null;try{bt=1,Vt(e,t,n,r)}finally{bt=o,Kt.transition=i}}function Wt(e,t,n,r){var o=bt,i=Kt.transition;Kt.transition=null;try{bt=4,Vt(e,t,n,r)}finally{bt=o,Kt.transition=i}}function Vt(e,t,n,r){if(Bt){var o=Qt(e,t,n,r);if(null===o)Br(e,t,r,Yt,n),Ut(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return At=Lt(At,e,t,n,r,o),!0;case"dragenter":return Rt=Lt(Rt,e,t,n,r,o),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Nt.set(i,Lt(Nt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ot.set(i,Lt(Ot.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Ut(e,r),4&t&&-1<xt.indexOf(e)){for(;null!==o;){var i=wo(o);if(null!==i&&Et(i),null===(i=Qt(e,t,n,r))&&Br(e,t,r,Yt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Br(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=bo(e=Ee(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ke(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,o="value"in $t?$t.value:$t.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(un),dn=D({},un,{view:0,detail:0}),hn=on(dn),pn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,sn=e.screenY-cn.screenY):sn=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(pn),gn=on(D({},pn,{dataTransfer:0})),mn=on(D({},dn,{relatedTarget:0})),vn=on(D({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(D({},un,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Tn(){return Sn}var In=D({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=on(In),An=on(D({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=on(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Pn=on(D({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=D({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(Nn),Mn=[9,13,27,32],xn=l&&"CompositionEvent"in window,Un=null;l&&"documentMode"in document&&(Un=document.documentMode);var Ln=l&&"TextEvent"in window&&!Un,Dn=l&&(!xn||Un&&8<Un&&11>=Un),qn=String.fromCharCode(32),Hn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ie(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Vn=null;function Yn(e){qr(e,0)}function Qn(e){if(V(Eo(e)))return e}function Jn(e,t){if("change"===e)return t}var $n=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;$n=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Vn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Vn)){var t=[];Gn(t,Vn,e,Ee(e)),Ne(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Vn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Vn)}function ir(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=lr(n,i);var a=lr(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},_r={},Sr={};function Tr(e){if(_r[e])return _r[e];if(!Cr[e])return e;var t,n=Cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);var Ir=Tr("animationend"),kr=Tr("animationiteration"),Ar=Tr("animationstart"),Rr=Tr("transitionend"),Pr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Pr.set(e,t),c(t,[e])}for(var Mr=0;Mr<Nr.length;Mr++){var xr=Nr[Mr];Or(xr.toLowerCase(),"on"+(xr[0].toUpperCase()+xr.slice(1)))}Or(Ir,"onAnimationEnd"),Or(kr,"onAnimationIteration"),Or(Ar,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Rr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,c,u){if(ze.apply(this,arguments),Le){if(!Le)throw Error(i(198));var l=De;Le=!1,De=null,qe||(qe=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function qr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==i&&o.isPropagationStopped())break e;Dr(o,s,u),i=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,u=s.currentTarget,s=s.listener,c!==i&&o.isPropagationStopped())break e;Dr(o,s,u),i=c}}}if(qe)throw e=He,qe=!1,He=null,e}function Hr(e,t){var n=t[mo];void 0===n&&(n=t[mo]=new Set);var r=e+"__bubble";n.has(r)||(Kr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Kr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Fr("selectionchange",!1,t))}}function Kr(e,t,n,r){switch(Jt(t)){case 1:var o=Gt;break;case 4:o=Wt;break;default:o=Vt}n=o.bind(null,t,n,e),o=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===o||8===c.nodeType&&c.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=bo(s)))return;if(5===(c=a.tag)||6===c){r=i=a;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=i,o=Ee(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var c=ln,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=kn;break;case"focusin":u="focus",c=mn;break;case"focusout":u="blur",c=mn;break;case"beforeblur":case"afterblur":c=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Rn;break;case Ir:case kr:case Ar:c=vn;break;case Rr:c=Pn;break;case"scroll":c=hn;break;case"wheel":c=On;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=An}var l=0!==(4&t),d=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var p,f=r;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==h&&(null!=(g=Oe(f,h))&&l.push(Gr(f,g,p)))),d)break;f=f.return}0<l.length&&(s=new c(s,u,null,n,o),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!bo(u)&&!u[go])&&(c||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?bo(u):null)&&(u!==(d=je(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(l=fn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,g="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==c?s:Eo(c),p=null==u?s:Eo(u),(s=new l(g,f+"leave",c,n,o)).target=d,s.relatedTarget=p,g=null,bo(o)===r&&((l=new l(h,f+"enter",u,n,o)).target=p,l.relatedTarget=d,g=l),d=g,c&&u)e:{for(h=u,f=0,p=l=c;p;p=Vr(p))f++;for(p=0,g=h;g;g=Vr(g))p++;for(;0<f-p;)l=Vr(l),f--;for(;0<p-f;)h=Vr(h),p--;for(;f--;){if(l===h||null!==h&&l===h.alternate)break e;l=Vr(l),h=Vr(h)}l=null}else l=null;null!==c&&Yr(a,s,c,l,!1),null!==u&&null!==d&&Yr(a,d,u,l,!0)}if("select"===(c=(s=r?Eo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var m=Jn;else if(Bn(s))if($n)m=ar;else{m=or;var v=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ir);switch(m&&(m=m(e,r))?Gn(a,m,n,o):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?Eo(r):window,e){case"focusin":(Bn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,o);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,o)}var y;if(xn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(y=en()):(Xt="value"in($t=o)?$t.value:$t.textContent,jn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,o),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Hn=!0,qn);case"textInput":return(e=t.data)===qn&&Hn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!xn&&Fn(e,t)?(e=en(),Zt=Xt=$t=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=y))}qr(a,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Oe(e,n))&&r.unshift(Gr(e,i,o)),null!=(i=Oe(e,t))&&r.push(Gr(e,i,o))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==u&&(s=u,o?null!=(c=Oe(n,i))&&a.unshift(Gr(n,c,s)):o||null!=(c=Oe(n,i))&&a.push(Gr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(i(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,ao="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout((function(){throw e}))}function co(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);jt(t)}function uo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function lo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),po="__reactFiber$"+ho,fo="__reactProps$"+ho,go="__reactContainer$"+ho,mo="__reactEvents$"+ho,vo="__reactListeners$"+ho,yo="__reactHandles$"+ho;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[go]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=lo(e);null!==e;){if(n=e[po])return n;e=lo(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[po]||e[go])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Eo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Co(e){return e[fo]||null}var _o=[],So=-1;function To(e){return{current:e}}function Io(e){0>So||(e.current=_o[So],_o[So]=null,So--)}function ko(e,t){So++,_o[So]=e.current,e.current=t}var Ao={},Ro=To(Ao),Po=To(!1),No=Ao;function Oo(e,t){var n=e.type.contextTypes;if(!n)return Ao;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function xo(){Io(Po),Io(Ro)}function Uo(e,t,n){if(Ro.current!==Ao)throw Error(i(168));ko(Ro,t),ko(Po,n)}function Lo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,K(e)||"Unknown",o));return D({},n,r)}function Do(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ao,No=Ro.current,ko(Ro,e),ko(Po,Po.current),!0}function qo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Lo(e,t,No),r.__reactInternalMemoizedMergedChildContext=e,Io(Po),Io(Ro),ko(Ro,e)):Io(Po),ko(Po,n)}var Ho=null,Fo=!1,zo=!1;function jo(e){null===Ho?Ho=[e]:Ho.push(e)}function Ko(){if(!zo&&null!==Ho){zo=!0;var e=0,t=bt;try{var n=Ho;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ho=null,Fo=!1}catch(o){throw null!==Ho&&(Ho=Ho.slice(e+1)),Ve(Ze,Ko),o}finally{bt=t,zo=!1}}return null}var Bo=[],Go=0,Wo=null,Vo=0,Yo=[],Qo=0,Jo=null,$o=1,Xo="";function Zo(e,t){Bo[Go++]=Vo,Bo[Go++]=Wo,Wo=e,Vo=t}function ei(e,t,n){Yo[Qo++]=$o,Yo[Qo++]=Xo,Yo[Qo++]=Jo,Jo=e;var r=$o;e=Xo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,$o=1<<32-at(t)+o|n<<o|r,Xo=i+e}else $o=1<<i|n<<o|r,Xo=e}function ti(e){null!==e.return&&(Zo(e,1),ei(e,1,0))}function ni(e){for(;e===Wo;)Wo=Bo[--Go],Bo[Go]=null,Vo=Bo[--Go],Bo[Go]=null;for(;e===Jo;)Jo=Yo[--Qo],Yo[Qo]=null,Xo=Yo[--Qo],Yo[Qo]=null,$o=Yo[--Qo],Yo[Qo]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ci(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=uo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Jo?{id:$o,overflow:Xo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ui(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function li(e){if(ii){var t=oi;if(t){var n=t;if(!ci(e,t)){if(ui(e))throw Error(i(418));t=uo(n.nextSibling);var r=ri;t&&ci(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ui(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ui(e))throw pi(),Error(i(418));for(;t;)si(e,t),t=uo(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=uo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?uo(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=oi;e;)e=uo(e.nextSibling)}function fi(){oi=ri=null,ii=!1}function gi(e){null===ai?ai=[e]:ai.push(e)}var mi=w.ReactCurrentBatchConfig;function vi(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yi=To(null),bi=null,wi=null,Ei=null;function Ci(){Ei=wi=bi=null}function _i(e){var t=yi.current;Io(yi),e._currentValue=t}function Si(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t){bi=e,Ei=wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Ii(e){var t=e._currentValue;if(Ei!==e)if(e={context:e,memoizedValue:t,next:null},null===wi){if(null===bi)throw Error(i(308));wi=e,bi.dependencies={lanes:0,firstContext:e}}else wi=wi.next=e;return t}var ki=null;function Ai(e){null===ki?ki=[e]:ki.push(e)}function Ri(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ai(t)):(n.next=o.next,o.next=n),t.interleaved=n,Pi(e,r)}function Pi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ni=!1;function Oi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ac)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Pi(e,n)}return null===(o=r.interleaved)?(t.next=t,Ai(r)):(t.next=o.next,o.next=t),r.interleaved=t,Pi(e,n)}function Li(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Di(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qi(e,t,n,r){var o=e.updateQueue;Ni=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var c=s,u=c.next;c.next=null,null===a?i=u:a.next=u,a=c;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=u:s.next=u,l.lastBaseUpdate=c))}if(null!==i){var d=o.baseState;for(a=0,l=u=c=null,s=i;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,g=s;switch(h=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(p,d,h):f)||void 0===h)break e;d=D({},d,h);break e;case 2:Ni=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(u=l=p,c=d):l=l.next=p,a|=h;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(h=s).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===l&&(c=d),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=l,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Lc|=a,e.lanes=a,e.memoizedState=d}}function Hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Fi=(new r.Component).refs;function zi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ji={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),o=tu(e),i=xi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,o))&&(nu(t,e,o,r),Li(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),o=tu(e),i=xi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,o))&&(nu(t,e,o,r),Li(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),o=xi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Ui(e,o,r))&&(nu(t,e,r,n),Li(t,e,r))}};function Ki(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(o,i))}function Bi(e,t,n){var r=!1,o=Ao,i=t.contextType;return"object"===typeof i&&null!==i?i=Ii(i):(o=Mo(t)?No:Ro.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oo(e,o):Ao),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ji,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Gi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ji.enqueueReplaceState(t,t.state,null)}function Wi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Fi,Oi(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ii(i):(i=Mo(t)?No:Ro.current,o.context=Oo(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(zi(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&ji.enqueueReplaceState(o,o.state,null),qi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function Vi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;t===Fi&&(t=o.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qi(e){return(0,e._init)(e._payload)}function Ji(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Mu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Du(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===O&&Qi(i)===t.type)?((r=o(t,n.props)).ref=Vi(e,t,n),r.return=e,r):((r=xu(n.type,n.key,n.props,null,e.mode,r)).ref=Vi(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qu(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Uu(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Du(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=xu(t.type,t.key,t.props,null,e.mode,n)).ref=Vi(e,null,t),n.return=e,n;case C:return(t=qu(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||U(t))return(t=Uu(t,e.mode,n,null)).return=e,t;Yi(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===o?u(e,t,n,r):null;case C:return n.key===o?l(e,t,n,r):null;case O:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||U(n))return null!==o?null:d(e,t,n,r,null);Yi(e,n)}return null}function f(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case C:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o);case O:return f(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||U(r))return d(t,e=e.get(n)||null,r,o,null);Yi(t,r)}return null}function g(o,i,s,c){for(var u=null,l=null,d=i,g=i=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=p(o,d,s[g],c);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(o,d),i=a(v,i,g),null===l?u=v:l.sibling=v,l=v,d=m}if(g===s.length)return n(o,d),ii&&Zo(o,g),u;if(null===d){for(;g<s.length;g++)null!==(d=h(o,s[g],c))&&(i=a(d,i,g),null===l?u=d:l.sibling=d,l=d);return ii&&Zo(o,g),u}for(d=r(o,d);g<s.length;g++)null!==(m=f(d,o,g,s[g],c))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),i=a(m,i,g),null===l?u=m:l.sibling=m,l=m);return e&&d.forEach((function(e){return t(o,e)})),ii&&Zo(o,g),u}function m(o,s,c,u){var l=U(c);if("function"!==typeof l)throw Error(i(150));if(null==(c=l.call(c)))throw Error(i(151));for(var d=l=null,g=s,m=s=0,v=null,y=c.next();null!==g&&!y.done;m++,y=c.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=p(o,g,y.value,u);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(o,g),s=a(b,s,m),null===d?l=b:d.sibling=b,d=b,g=v}if(y.done)return n(o,g),ii&&Zo(o,m),l;if(null===g){for(;!y.done;m++,y=c.next())null!==(y=h(o,y.value,u))&&(s=a(y,s,m),null===d?l=y:d.sibling=y,d=y);return ii&&Zo(o,m),l}for(g=r(o,g);!y.done;m++,y=c.next())null!==(y=f(g,o,m,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?l=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(o,e)})),ii&&Zo(o,m),l}return function e(r,i,a,c){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case E:e:{for(var u=a.key,l=i;null!==l;){if(l.key===u){if((u=a.type)===_){if(7===l.tag){n(r,l.sibling),(i=o(l,a.props.children)).return=r,r=i;break e}}else if(l.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===O&&Qi(u)===l.type){n(r,l.sibling),(i=o(l,a.props)).ref=Vi(r,l,a),i.return=r,r=i;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===_?((i=Uu(a.props.children,r.mode,c,a.key)).return=r,r=i):((c=xu(a.type,a.key,a.props,null,r.mode,c)).ref=Vi(r,i,a),c.return=r,r=c)}return s(r);case C:e:{for(l=a.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=qu(a,r.mode,c)).return=r,r=i}return s(r);case O:return e(r,i,(l=a._init)(a._payload),c)}if(te(a))return g(r,i,a,c);if(U(a))return m(r,i,a,c);Yi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Du(a,r.mode,c)).return=r,r=i),s(r)):n(r,i)}}var $i=Ji(!0),Xi=Ji(!1),Zi={},ea=To(Zi),ta=To(Zi),na=To(Zi);function ra(e){if(e===Zi)throw Error(i(174));return e}function oa(e,t){switch(ko(na,t),ko(ta,e),ko(ea,Zi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Io(ea),ko(ea,t)}function ia(){Io(ea),Io(ta),Io(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ce(t,e.type);t!==n&&(ko(ta,e),ko(ea,n))}function sa(e){ta.current===e&&(Io(ea),Io(ta))}var ca=To(0);function ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function da(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var ha=w.ReactCurrentDispatcher,pa=w.ReactCurrentBatchConfig,fa=0,ga=null,ma=null,va=null,ya=!1,ba=!1,wa=0,Ea=0;function Ca(){throw Error(i(321))}function _a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Sa(e,t,n,r,o,a){if(fa=a,ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:cs,e=n(r,o),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(i(301));a+=1,va=ma=null,t.updateQueue=null,ha.current=us,e=n(r,o)}while(ba)}if(ha.current=as,t=null!==ma&&null!==ma.next,fa=0,va=ma=ga=null,ya=!1,t)throw Error(i(300));return e}function Ta(){var e=0!==wa;return wa=0,e}function Ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ga.memoizedState=va=e:va=va.next=e,va}function ka(){if(null===ma){var e=ga.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===va?ga.memoizedState:va.next;if(null!==t)va=t,ma=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===va?ga.memoizedState=va=e:va=va.next=e}return va}function Aa(e,t){return"function"===typeof t?t(e):t}function Ra(e){var t=ka(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ma,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var c=s=null,u=null,l=a;do{var d=l.lane;if((fa&d)===d)null!==u&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===u?(c=u=h,s=r):u=u.next=h,ga.lanes|=d,Lc|=d}l=l.next}while(null!==l&&l!==a);null===u?s=r:u.next=c,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,ga.lanes|=a,Lc|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pa(e){var t=ka(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Na(){}function Oa(e,t){var n=ga,r=ka(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,ws=!0),r=r.queue,Ba(Ua.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,Ha(9,xa.bind(null,n,r,o,t),void 0,null),null===Rc)throw Error(i(349));0!==(30&fa)||Ma(n,t,o)}return o}function Ma(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xa(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Da(e)}function Ua(e,t,n){return n((function(){La(t)&&Da(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Da(e){var t=Pi(e,1);null!==t&&nu(t,e,1,-1)}function qa(e){var t=Ia();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ga,e),[t.memoizedState,e]}function Ha(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fa(){return ka().memoizedState}function za(e,t,n,r){var o=Ia();ga.flags|=e,o.memoizedState=Ha(1|t,n,void 0,void 0===r?null:r)}function ja(e,t,n,r){var o=ka();r=void 0===r?null:r;var i=void 0;if(null!==ma){var a=ma.memoizedState;if(i=a.destroy,null!==r&&_a(r,a.deps))return void(o.memoizedState=Ha(t,n,i,r))}ga.flags|=e,o.memoizedState=Ha(1|t,n,i,r)}function Ka(e,t){return za(8390656,8,e,t)}function Ba(e,t){return ja(2048,8,e,t)}function Ga(e,t){return ja(4,2,e,t)}function Wa(e,t){return ja(4,4,e,t)}function Va(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ya(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ja(4,4,Va.bind(null,t,e),n)}function Qa(){}function Ja(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),ga.lanes|=n,Lc|=n,e.baseState=!0),t)}function Za(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=pa.transition;pa.transition={};try{e(!1),t()}finally{bt=n,pa.transition=r}}function es(){return ka().memoizedState}function ts(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))os(t,n);else if(null!==(n=Ri(e,t,n,r))){nu(n,e,r,eu()),is(n,t,r)}}function ns(e,t,n){var r=tu(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))os(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var c=t.interleaved;return null===c?(o.next=o,Ai(t)):(o.next=c.next,c.next=o),void(t.interleaved=o)}}catch(u){}null!==(n=Ri(e,t,o,r))&&(nu(n,e,r,o=eu()),is(n,t,r))}}function rs(e){var t=e.alternate;return e===ga||null!==t&&t===ga}function os(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function is(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:Ii,useCallback:Ca,useContext:Ca,useEffect:Ca,useImperativeHandle:Ca,useInsertionEffect:Ca,useLayoutEffect:Ca,useMemo:Ca,useReducer:Ca,useRef:Ca,useState:Ca,useDebugValue:Ca,useDeferredValue:Ca,useTransition:Ca,useMutableSource:Ca,useSyncExternalStore:Ca,useId:Ca,unstable_isNewReconciler:!1},ss={readContext:Ii,useCallback:function(e,t){return Ia().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:Ka,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4194308,4,Va.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){return za(4,2,e,t)},useMemo:function(e,t){var n=Ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ga,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ia().memoizedState=e},useState:qa,useDebugValue:Qa,useDeferredValue:function(e){return Ia().memoizedState=e},useTransition:function(){var e=qa(!1),t=e[0];return e=Za.bind(null,e[1]),Ia().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ga,o=Ia();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Rc)throw Error(i(349));0!==(30&fa)||Ma(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ka(Ua.bind(null,r,a,e),[e]),r.flags|=2048,Ha(9,xa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ia(),t=Rc.identifierPrefix;if(ii){var n=Xo;t=":"+t+"R"+(n=($o&~(1<<32-at($o)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ea++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cs={readContext:Ii,useCallback:Ja,useContext:Ii,useEffect:Ba,useImperativeHandle:Ya,useInsertionEffect:Ga,useLayoutEffect:Wa,useMemo:$a,useReducer:Ra,useRef:Fa,useState:function(){return Ra(Aa)},useDebugValue:Qa,useDeferredValue:function(e){return Xa(ka(),ma.memoizedState,e)},useTransition:function(){return[Ra(Aa)[0],ka().memoizedState]},useMutableSource:Na,useSyncExternalStore:Oa,useId:es,unstable_isNewReconciler:!1},us={readContext:Ii,useCallback:Ja,useContext:Ii,useEffect:Ba,useImperativeHandle:Ya,useInsertionEffect:Ga,useLayoutEffect:Wa,useMemo:$a,useReducer:Pa,useRef:Fa,useState:function(){return Pa(Aa)},useDebugValue:Qa,useDeferredValue:function(e){var t=ka();return null===ma?t.memoizedState=e:Xa(t,ma.memoizedState,e)},useTransition:function(){return[Pa(Aa)[0],ka().memoizedState]},useMutableSource:Na,useSyncExternalStore:Oa,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=xi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bc||(Bc=!0,Gc=r),hs(0,t)},n}function gs(e,t,n){(n=xi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){hs(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Wc?Wc=new Set([this]):Wc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Tu.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=xi(-1,1)).tag=2,Ui(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var bs=w.ReactCurrentOwner,ws=!1;function Es(e,t,n,r){t.child=null===e?Xi(t,null,n,r):$i(t,e.child,n,r)}function Cs(e,t,n,r,o){n=n.render;var i=t.ref;return Ti(t,o),r=Sa(e,t,n,r,i,o),n=Ta(),null===e||ws?(ii&&n&&ti(t),t.flags|=1,Es(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Bs(e,t,o))}function _s(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Ou(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=xu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ss(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return Bs(e,t,o)}return t.flags|=1,(e=Mu(i,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(cr(i,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Bs(e,t,o);0!==(131072&e.flags)&&(ws=!0)}}return ks(e,t,n,r,o)}function Ts(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ko(Mc,Oc),Oc|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ko(Mc,Oc),Oc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,ko(Mc,Oc),Oc|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,ko(Mc,Oc),Oc|=r;return Es(e,t,o,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ks(e,t,n,r,o){var i=Mo(n)?No:Ro.current;return i=Oo(t,i),Ti(t,o),n=Sa(e,t,n,r,i,o),r=Ta(),null===e||ws?(ii&&r&&ti(t),t.flags|=1,Es(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Bs(e,t,o))}function As(e,t,n,r,o){if(Mo(n)){var i=!0;Do(t)}else i=!1;if(Ti(t,o),null===t.stateNode)Ks(e,t),Bi(t,n,r),Wi(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ii(u):u=Oo(t,u=Mo(n)?No:Ro.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==u)&&Gi(t,a,r,u),Ni=!1;var h=t.memoizedState;a.state=h,qi(t,r,a,o),c=t.memoizedState,s!==r||h!==c||Po.current||Ni?("function"===typeof l&&(zi(t,n,l,r),c=t.memoizedState),(s=Ni||Ki(t,n,s,r,h,c,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Mi(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:vi(t.type,s),a.props=u,d=t.pendingProps,h=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=Ii(c):c=Oo(t,c=Mo(n)?No:Ro.current);var p=n.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==c)&&Gi(t,a,r,c),Ni=!1,h=t.memoizedState,a.state=h,qi(t,r,a,o);var f=t.memoizedState;s!==d||h!==f||Po.current||Ni?("function"===typeof p&&(zi(t,n,p,r),f=t.memoizedState),(u=Ni||Ki(t,n,u,r,h,f,c)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=c,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Rs(e,t,n,r,i,o)}function Rs(e,t,n,r,o,i){Is(e,t);var a=0!==(128&t.flags);if(!r&&!a)return o&&qo(t,n,!1),Bs(e,t,i);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=$i(t,e.child,null,i),t.child=$i(t,null,s,i)):Es(e,t,s,i),t.memoizedState=r.state,o&&qo(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Uo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Uo(0,t.context,!1),oa(e,t.containerInfo)}function Ns(e,t,n,r,o){return fi(),gi(o),t.flags|=256,Es(e,t,n,r),t.child}var Os,Ms,xs,Us={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ds(e,t,n){var r,o=t.pendingProps,a=ca.current,s=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ko(ca,1&a),null===e)return li(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=o.children,e=o.fallback,s?(o=t.mode,s=t.child,c={mode:"hidden",children:c},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=Lu(c,o,0,null),e=Uu(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Us,e):qs(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,Hs(e,t,s,r=ds(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Lu({mode:"visible",children:r.children},o,0,null),(a=Uu(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&$i(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Us,a);if(0===(1&t.mode))return Hs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var c=r.dgst;return r=c,Hs(e,t,s,r=ds(a=Error(i(419)),r,void 0))}if(c=0!==(s&e.childLanes),ws||c){if(null!==(r=Rc)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Pi(e,o),nu(r,e,o,-1))}return gu(),Hs(e,t,s,r=ds(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=ku.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=uo(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Yo[Qo++]=$o,Yo[Qo++]=Xo,Yo[Qo++]=Jo,$o=e.id,Xo=e.overflow,Jo=t),(t=qs(t,r.children)).flags|=4096,t)}(e,t,c,o,r,a,n);if(s){s=o.fallback,c=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:o.children};return 0===(1&c)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=u,t.deletions=null):(o=Mu(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Mu(r,s):(s=Uu(s,c,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,c=null===(c=e.child.memoizedState)?Ls(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=Us,o}return e=(s=e.child).sibling,o=Mu(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function qs(e,t){return(t=Lu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Hs(e,t,n,r){return null!==r&&gi(r),$i(t,e.child,null,n),(e=qs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Si(e.return,t,n)}function zs(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function js(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Es(e,t,r.children,n),0!==(2&(r=ca.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ko(ca,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ua(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),zs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ua(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}zs(t,!0,n,null,i);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Mu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vs(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Mo(t.type)&&xo(),Ws(t),null;case 3:return r=t.stateNode,ia(),Io(Po),Io(Ro),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ai&&(au(ai),ai=null))),Ws(t),null;case 5:sa(t);var o=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ms(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ws(t),null}if(e=ra(ea.current),hi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[po]=t,r[fo]=a,e=0!==(1&t.mode),n){case"dialog":Hr("cancel",r),Hr("close",r);break;case"iframe":case"object":case"embed":Hr("load",r);break;case"video":case"audio":for(o=0;o<Ur.length;o++)Hr(Ur[o],r);break;case"source":Hr("error",r);break;case"img":case"image":case"link":Hr("error",r),Hr("load",r);break;case"details":Hr("toggle",r);break;case"input":J(r,a),Hr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Hr("invalid",r);break;case"textarea":oe(r,a),Hr("invalid",r)}for(var c in ye(n,a),o=null,a)if(a.hasOwnProperty(c)){var u=a[c];"children"===c?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,u,e),o=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,u,e),o=["children",""+u]):s.hasOwnProperty(c)&&null!=u&&"onScroll"===c&&Hr("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[po]=t,e[fo]=r,Os(e,t),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Hr("cancel",e),Hr("close",e),o=r;break;case"iframe":case"object":case"embed":Hr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ur.length;o++)Hr(Ur[o],e);o=r;break;case"source":Hr("error",e),o=r;break;case"img":case"image":case"link":Hr("error",e),Hr("load",e),o=r;break;case"details":Hr("toggle",e),o=r;break;case"input":J(e,r),o=Q(e,r),Hr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=D({},r,{value:void 0}),Hr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Hr("invalid",e)}for(a in ye(n,o),u=o)if(u.hasOwnProperty(a)){var l=u[a];"style"===a?me(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Hr("scroll",e):null!=l&&b(e,a,l,c))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+B(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)xs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=ra(na.current),ra(ea.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Ws(t),null;case 13:if(Io(ca),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))pi(),fi(),t.flags|=98560,a=!1;else if(a=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[po]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),a=!1}else null!==ai&&(au(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ca.current)?0===xc&&(xc=3):gu())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return ia(),null===e&&jr(t.stateNode.containerInfo),Ws(t),null;case 10:return _i(t.type._context),Ws(t),null;case 19:if(Io(ca),null===(a=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(c=a.rendering))if(r)Gs(a,!1);else{if(0!==xc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ua(e))){for(t.flags|=128,Gs(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ko(ca,1&ca.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>jc&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ua(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!ii)return Ws(t),null}else 2*$e()-a.renderingStartTime>jc&&1073741824!==n&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=ca.current,ko(ca,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Oc)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ys(e,t){switch(ni(t),t.tag){case 1:return Mo(t.type)&&xo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),Io(Po),Io(Ro),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Io(ca),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Io(ca),null;case 4:return ia(),null;case 10:return _i(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ms=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ra(ea.current);var i,a=null;switch(n){case"input":o=Q(e,o),r=Q(e,r),a=[];break;case"select":o=D({},o,{value:void 0}),r=D({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,o)if(!r.hasOwnProperty(l)&&o.hasOwnProperty(l)&&null!=o[l])if("style"===l){var c=o[l];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var u=r[l];if(c=null!=o?o[l]:void 0,r.hasOwnProperty(l)&&u!==c&&(null!=u||null!=c))if("style"===l)if(c){for(i in c)!c.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&c[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(a||(a=[]),a.push(l,n)),n=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(a=a||[]).push(l,u)):"children"===l?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=u&&"onScroll"===l&&Hr("scroll",e),a||c===u||(a=[])):(a=a||[]).push(l,u))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},xs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Js=!1,$s="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Su(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){Su(e,t,r)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&ec(t,n,i)}o=o.next}while(o!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ic(e){var t=e.alternate;null!==t&&(e.alternate=null,ic(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[fo],delete t[mo],delete t[vo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function sc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var lc=null,dc=!1;function hc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(s){}switch(n.tag){case 5:Js||Zs(n,t);case 6:var r=lc,o=dc;lc=null,hc(e,t,n),dc=o,null!==(lc=r)&&(dc?(e=lc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lc.removeChild(n.stateNode));break;case 18:null!==lc&&(dc?(e=lc,n=n.stateNode,8===e.nodeType?co(e.parentNode,n):1===e.nodeType&&co(e,n),jt(e)):co(lc,n.stateNode));break;case 4:r=lc,o=dc,lc=n.stateNode.containerInfo,dc=!0,hc(e,t,n),lc=r,dc=o;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&ec(n,t,a),o=o.next}while(o!==r)}hc(e,t,n);break;case 1:if(!Js&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Su(n,t,s)}hc(e,t,n);break;case 21:hc(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,hc(e,t,n),Js=r):hc(e,t,n);break;default:hc(e,t,n)}}function fc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Au.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:lc=c.stateNode,dc=!1;break e;case 3:case 4:lc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===lc)throw Error(i(160));pc(a,s,o),lc=null,dc=!1;var u=o.alternate;null!==u&&(u.return=null),o.return=null}catch(l){Su(o,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mc(t,e),t=t.sibling}function mc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),vc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(m){Su(e,e.return,m)}try{nc(5,e,e.return)}catch(m){Su(e,e.return,m)}}break;case 1:gc(t,e),vc(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(gc(t,e),vc(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(m){Su(e,e.return,m)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,c=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===c&&"radio"===a.type&&null!=a.name&&$(o,a),be(c,s);var l=be(c,a);for(s=0;s<u.length;s+=2){var d=u[s],h=u[s+1];"style"===d?me(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):b(o,d,h,l)}switch(c){case"input":X(o,a);break;case"textarea":ie(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(o,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[fo]=a}catch(m){Su(e,e.return,m)}}break;case 6:if(gc(t,e),vc(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(m){Su(e,e.return,m)}}break;case 3:if(gc(t,e),vc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(m){Su(e,e.return,m)}break;case 4:default:gc(t,e),vc(e);break;case 13:gc(t,e),vc(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(zc=$e())),4&r&&fc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(l=Js)||d,gc(t,e),Js=l):gc(t,e),vc(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!d&&0!==(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(h=Xs=d;null!==Xs;){switch(f=(p=Xs).child,p.tag){case 0:case 11:case 14:case 15:nc(4,p,p.return);break;case 1:Zs(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Su(r,n,m)}}break;case 5:Zs(p,p.return);break;case 22:if(null!==p.memoizedState){Ec(h);continue}}null!==f?(f.return=p,Xs=f):Ec(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,l?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=h.stateNode,s=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,c.style.display=ge("display",s))}catch(m){Su(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Su(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gc(t,e),vc(e),4&r&&fc(e);case 21:}}function vc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),uc(e,sc(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;cc(e,sc(e),a);break;default:throw Error(i(161))}}catch(s){Su(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yc(e,t,n){Xs=e,bc(e,t,n)}function bc(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var o=Xs,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Qs;if(!a){var s=o.alternate,c=null!==s&&null!==s.memoizedState||Js;s=Qs;var u=Js;if(Qs=a,(Js=c)&&!u)for(Xs=o;null!==Xs;)c=(a=Xs).child,22===a.tag&&null!==a.memoizedState?Cc(o):null!==c?(c.return=a,Xs=c):Cc(o);for(;null!==i;)Xs=i,bc(i,t,n),i=i.sibling;Xs=o,Qs=s,Js=u}wc(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Xs=i):wc(e)}}function wc(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:vi(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hi(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&jt(h)}}}break;default:throw Error(i(163))}Js||512&t.flags&&oc(t)}catch(p){Su(t,t.return,p)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function Ec(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function Cc(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){Su(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(c){Su(t,o,c)}}var i=t.return;try{oc(t)}catch(c){Su(t,i,c)}break;case 5:var a=t.return;try{oc(t)}catch(c){Su(t,a,c)}}}catch(c){Su(t,t.return,c)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var _c,Sc=Math.ceil,Tc=w.ReactCurrentDispatcher,Ic=w.ReactCurrentOwner,kc=w.ReactCurrentBatchConfig,Ac=0,Rc=null,Pc=null,Nc=0,Oc=0,Mc=To(0),xc=0,Uc=null,Lc=0,Dc=0,qc=0,Hc=null,Fc=null,zc=0,jc=1/0,Kc=null,Bc=!1,Gc=null,Wc=null,Vc=!1,Yc=null,Qc=0,Jc=0,$c=null,Xc=-1,Zc=0;function eu(){return 0!==(6&Ac)?$e():-1!==Xc?Xc:Xc=$e()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Ac)&&0!==Nc?Nc&-Nc:null!==mi.transition?(0===Zc&&(Zc=gt()),Zc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nu(e,t,n,r){if(50<Jc)throw Jc=0,$c=null,Error(i(185));vt(e,n,r),0!==(2&Ac)&&e===Rc||(e===Rc&&(0===(2&Ac)&&(Dc|=n),4===xc&&su(e,Nc)),ru(e,r),1===n&&0===Ac&&0===(1&t.mode)&&(jc=$e()+500,Fo&&Ko()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,c=o[a];-1===c?0!==(s&n)&&0===(s&r)||(o[a]=pt(s,t)):c<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ht(e,e===Rc?Nc:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Fo=!0,jo(e)}(cu.bind(null,e)):jo(cu.bind(null,e)),ao((function(){0===(6&Ac)&&Ko()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ru(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if(Xc=-1,Zc=0,0!==(6&Ac))throw Error(i(327));var n=e.callbackNode;if(Cu()&&e.callbackNode!==n)return null;var r=ht(e,e===Rc?Nc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var o=Ac;Ac|=2;var a=fu();for(Rc===e&&Nc===t||(Kc=null,jc=$e()+500,hu(e,t));;)try{yu();break}catch(c){pu(e,c)}Ci(),Tc.current=a,Ac=o,null!==Pc?t=0:(Rc=null,Nc=0,t=xc)}if(0!==t){if(2===t&&(0!==(o=ft(e))&&(r=o,t=iu(e,o))),1===t)throw n=Uc,hu(e,0),su(e,r),ru(e,$e()),n;if(6===t)su(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=mu(e,r))&&(0!==(a=ft(e))&&(r=a,t=iu(e,a))),1===t))throw n=Uc,hu(e,0),su(e,r),ru(e,$e()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Eu(e,Fc,Kc);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=zc+500-$e())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(Eu.bind(null,e,Fc,Kc),t);break}Eu(e,Fc,Kc);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sc(r/1960))-r)){e.timeoutHandle=ro(Eu.bind(null,e,Fc,Kc),r);break}Eu(e,Fc,Kc);break;default:throw Error(i(329))}}}return ru(e,$e()),e.callbackNode===n?ou.bind(null,e):null}function iu(e,t){var n=Hc;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Fc,Fc=n,null!==t&&au(t)),e}function au(e){null===Fc?Fc=e:Fc.push.apply(Fc,e)}function su(e,t){for(t&=~qc,t&=~Dc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cu(e){if(0!==(6&Ac))throw Error(i(327));Cu();var t=ht(e,0);if(0===(1&t))return ru(e,$e()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=iu(e,r))}if(1===n)throw n=Uc,hu(e,0),su(e,t),ru(e,$e()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eu(e,Fc,Kc),ru(e,$e()),null}function uu(e,t){var n=Ac;Ac|=1;try{return e(t)}finally{0===(Ac=n)&&(jc=$e()+500,Fo&&Ko())}}function lu(e){null!==Yc&&0===Yc.tag&&0===(6&Ac)&&Cu();var t=Ac;Ac|=1;var n=kc.transition,r=bt;try{if(kc.transition=null,bt=1,e)return e()}finally{bt=r,kc.transition=n,0===(6&(Ac=t))&&Ko()}}function du(){Oc=Mc.current,Io(Mc)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Pc)for(n=Pc.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&xo();break;case 3:ia(),Io(Po),Io(Ro),da();break;case 5:sa(r);break;case 4:ia();break;case 13:case 19:Io(ca);break;case 10:_i(r.type._context);break;case 22:case 23:du()}n=n.return}if(Rc=e,Pc=e=Mu(e.current,null),Nc=Oc=t,xc=0,Uc=null,qc=Dc=Lc=0,Fc=Hc=null,null!==ki){for(t=0;t<ki.length;t++)if(null!==(r=(n=ki[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}ki=null}return e}function pu(e,t){for(;;){var n=Pc;try{if(Ci(),ha.current=as,ya){for(var r=ga.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ya=!1}if(fa=0,va=ma=ga=null,ba=!1,wa=0,Ic.current=null,null===n||null===n.return){xc=1,Uc=t,Pc=null;break}e:{var a=e,s=n.return,c=n,u=t;if(t=Nc,c.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u,d=c,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=vs(s);if(null!==f){f.flags&=-257,ys(f,s,c,0,t),1&f.mode&&ms(a,l,t),u=l;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(0===(1&t)){ms(a,l,t),gu();break e}u=Error(i(426))}else if(ii&&1&c.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,c,0,t),gi(ls(u,c));break e}}a=u=ls(u,c),4!==xc&&(xc=2),null===Hc?Hc=[a]:Hc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Di(a,fs(0,u,t));break e;case 1:c=u;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wc||!Wc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Di(a,gs(a,c,t));break e}}a=a.return}while(null!==a)}wu(n)}catch(w){t=w,Pc===n&&null!==n&&(Pc=n=n.return);continue}break}}function fu(){var e=Tc.current;return Tc.current=as,null===e?as:e}function gu(){0!==xc&&3!==xc&&2!==xc||(xc=4),null===Rc||0===(268435455&Lc)&&0===(268435455&Dc)||su(Rc,Nc)}function mu(e,t){var n=Ac;Ac|=2;var r=fu();for(Rc===e&&Nc===t||(Kc=null,hu(e,t));;)try{vu();break}catch(o){pu(e,o)}if(Ci(),Ac=n,Tc.current=r,null!==Pc)throw Error(i(261));return Rc=null,Nc=0,xc}function vu(){for(;null!==Pc;)bu(Pc)}function yu(){for(;null!==Pc&&!Qe();)bu(Pc)}function bu(e){var t=_c(e.alternate,e,Oc);e.memoizedProps=e.pendingProps,null===t?wu(e):Pc=t,Ic.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Vs(n,t,Oc)))return void(Pc=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Pc=n);if(null===e)return xc=6,void(Pc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pc=t);Pc=t=e}while(null!==t);0===xc&&(xc=5)}function Eu(e,t,n){var r=bt,o=kc.transition;try{kc.transition=null,bt=1,function(e,t,n,r){do{Cu()}while(null!==Yc);if(0!==(6&Ac))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===Rc&&(Pc=Rc=null,Nc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Vc||(Vc=!0,Ru(tt,(function(){return Cu(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=kc.transition,kc.transition=null;var s=bt;bt=1;var c=Ac;Ac|=4,Ic.current=null,function(e,t){if(eo=Bt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(E){n=null;break e}var s=0,c=-1,u=-1,l=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==o&&3!==h.nodeType||(c=s+o),h!==a||0!==r&&3!==h.nodeType||(u=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++l===o&&(c=s),p===a&&++d===r&&(u=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===c||-1===u?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Bt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:vi(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(E){Su(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}g=tc,tc=!1}(e,n),mc(n,e),fr(to),Bt=!!eo,to=eo=null,e.current=n,yc(n,e,o),Je(),Ac=c,bt=s,kc.transition=a}else e.current=n;if(Vc&&(Vc=!1,Yc=e,Qc=o),0===(a=e.pendingLanes)&&(Wc=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((o=t[n]).value,{componentStack:o.stack,digest:o.digest});if(Bc)throw Bc=!1,e=Gc,Gc=null,e;0!==(1&Qc)&&0!==e.tag&&Cu(),0!==(1&(a=e.pendingLanes))?e===$c?Jc++:(Jc=0,$c=e):Jc=0,Ko()}(e,t,n,r)}finally{kc.transition=o,bt=r}return null}function Cu(){if(null!==Yc){var e=wt(Qc),t=kc.transition,n=bt;try{if(kc.transition=null,bt=16>e?16:e,null===Yc)var r=!1;else{if(e=Yc,Yc=null,Qc=0,0!==(6&Ac))throw Error(i(331));var o=Ac;for(Ac|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(0!==(16&Xs.flags)){var c=a.deletions;if(null!==c){for(var u=0;u<c.length;u++){var l=c[u];for(Xs=l;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:nc(8,d,a)}var h=d.child;if(null!==h)h.return=d,Xs=h;else for(;null!==Xs;){var p=(d=Xs).sibling,f=d.return;if(ic(d),d===l){Xs=null;break}if(null!==p){p.return=f,Xs=p;break}Xs=f}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Xs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:nc(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Xs=y;break e}Xs=a.return}}var b=e.current;for(Xs=b;null!==Xs;){var w=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Xs=w;else e:for(s=b;null!==Xs;){if(0!==(2048&(c=Xs).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(C){Su(c,c.return,C)}if(c===s){Xs=null;break e}var E=c.sibling;if(null!==E){E.return=c.return,Xs=E;break e}Xs=c.return}}if(Ac=o,Ko(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(C){}r=!0}return r}finally{bt=n,kc.transition=t}}return!1}function _u(e,t,n){e=Ui(e,t=fs(0,t=ls(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function Su(e,t,n){if(3===e.tag)_u(e,e,n);else for(;null!==t;){if(3===t.tag){_u(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wc||!Wc.has(r))){t=Ui(t,e=gs(t,e=ls(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function Tu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Rc===e&&(Nc&n)===n&&(4===xc||3===xc&&(130023424&Nc)===Nc&&500>$e()-zc?hu(e,0):qc|=n),ru(e,t)}function Iu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=eu();null!==(e=Pi(e,t))&&(vt(e,t,n),ru(e,n))}function ku(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Iu(e,n)}function Au(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Iu(e,n)}function Ru(e,t){return Ve(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nu(e,t,n,r){return new Pu(e,t,n,r)}function Ou(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mu(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xu(e,t,n,r,o,a){var s=2;if(r=e,"function"===typeof e)Ou(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Uu(n.children,o,a,t);case S:s=8,o|=8;break;case T:return(e=Nu(12,n,t,2|o)).elementType=T,e.lanes=a,e;case R:return(e=Nu(13,n,t,o)).elementType=R,e.lanes=a,e;case P:return(e=Nu(19,n,t,o)).elementType=P,e.lanes=a,e;case M:return Lu(n,o,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case k:s=9;break e;case A:s=11;break e;case N:s=14;break e;case O:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Nu(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Uu(e,t,n,r){return(e=Nu(7,e,r,t)).lanes=n,e}function Lu(e,t,n,r){return(e=Nu(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Du(e,t,n){return(e=Nu(6,e,null,t)).lanes=n,e}function qu(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hu(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Fu(e,t,n,r,o,i,a,s,c){return e=new Hu(e,t,n,s,c),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Nu(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oi(i),e}function zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ju(e){if(!e)return Ao;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Mo(n))return Lo(e,n,t)}return t}function Ku(e,t,n,r,o,i,a,s,c){return(e=Fu(n,r,!0,e,0,i,0,s,c)).context=ju(null),n=e.current,(i=xi(r=eu(),o=tu(n))).callback=void 0!==t&&null!==t?t:null,Ui(n,i,o),e.current.lanes=o,vt(e,o,r),ru(e,r),e}function Bu(e,t,n,r){var o=t.current,i=eu(),a=tu(o);return n=ju(n),null===t.context?t.context=n:t.pendingContext=n,(t=xi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ui(o,t,a))&&(nu(e,o,a,i),Li(e,o,a)),a}function Gu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vu(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}_c=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Po.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),fi();break;case 5:aa(t);break;case 1:Mo(t.type)&&Do(t);break;case 4:oa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ko(yi,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ko(ca,1&ca.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ds(e,t,n):(ko(ca,1&ca.current),null!==(e=Bs(e,t,n))?e.sibling:null);ko(ca,1&ca.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return js(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),ko(ca,ca.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Bs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,ii&&0!==(1048576&t.flags)&&ei(t,Vo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ks(e,t),e=t.pendingProps;var o=Oo(t,Ro.current);Ti(t,n),o=Sa(null,t,r,e,o,n);var a=Ta();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mo(r)?(a=!0,Do(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Oi(t),o.updater=ji,t.stateNode=o,o._reactInternals=t,Wi(t,r,e,n),t=Rs(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),Es(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ks(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Ou(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===N)return 14}return 2}(r),e=vi(r,e),o){case 0:t=ks(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=Cs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,vi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,ks(e,t,r,o=t.elementType===r?o:vi(r,o),n);case 1:return r=t.type,o=t.pendingProps,As(e,t,r,o=t.elementType===r?o:vi(r,o),n);case 3:e:{if(Ps(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Mi(e,t),qi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ns(e,t,r,n,o=ls(Error(i(423)),t));break e}if(r!==o){t=Ns(e,t,r,n,o=ls(Error(i(424)),t));break e}for(oi=uo(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=Xi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===o){t=Bs(e,t,n);break e}Es(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&li(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),Is(e,t),Es(e,t,s,n),t.child;case 6:return null===e&&li(t),null;case 13:return Ds(e,t,n);case 4:return oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$i(t,null,r,n):Es(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Cs(e,t,r,o=t.elementType===r?o:vi(r,o),n);case 7:return Es(e,t,t.pendingProps,n),t.child;case 8:case 12:return Es(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,ko(yi,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!Po.current){t=Bs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){s=a.child;for(var u=c.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=xi(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),l.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Si(a.return,n,t),c.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Si(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Es(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ti(t,n),r=r(o=Ii(o)),t.flags|=1,Es(e,t,r,n),t.child;case 14:return o=vi(r=t.type,t.pendingProps),_s(e,t,r,o=vi(r.type,o),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vi(r,o),Ks(e,t),t.tag=1,Mo(r)?(e=!0,Do(t)):e=!1,Ti(t,n),Bi(t,r,o),Wi(t,r,o,n),Rs(null,t,r,!0,e,n);case 19:return js(e,t,n);case 22:return Ts(e,t,n)}throw Error(i(156,t.tag))};var Yu="function"===typeof reportError?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}function Ju(e){this._internalRoot=e}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function el(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof o){var s=o;o=function(){var e=Gu(a);s.call(e)}}Bu(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Gu(a);i.call(e)}}var a=Ku(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=a,e[go]=a.current,jr(8===e.nodeType?e.parentNode:e),lu(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=Gu(c);s.call(e)}}var c=Fu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=c,e[go]=c.current,jr(8===e.nodeType?e.parentNode:e),lu((function(){Bu(t,c,n,r)})),c}(n,t,e,o,r);return Gu(a)}Ju.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Bu(e,t,null,null)},Ju.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lu((function(){Bu(null,e,null,null)})),t[go]=null}},Ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Dt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,$e()),0===(6&Ac)&&(jc=$e()+500,Ko()))}break;case 13:lu((function(){var t=Pi(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Vu(e,1)}},Ct=function(e){if(13===e.tag){var t=Pi(e,134217728);if(null!==t)nu(t,e,134217728,eu());Vu(e,134217728)}},_t=function(e){if(13===e.tag){var t=tu(e),n=Pi(e,t);if(null!==n)nu(n,e,t,eu());Vu(e,t)}},St=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ce=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Co(r);if(!o)throw Error(i(90));V(r),X(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=uu,Re=lu;var tl={usingClientEntryPoint:!1,Events:[wo,Eo,Co,Ie,ke,uu]},nl={findFiberByHostInstance:bo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{ot=ol.inject(rl),it=ol}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$u(t))throw Error(i(200));return zu(e,t,null,n)},t.createRoot=function(e,t){if(!$u(e))throw Error(i(299));var n=!1,r="",o=Yu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Fu(e,1,!1,null,0,n,0,r,o),e[go]=t.current,jr(8===e.nodeType?e.parentNode:e),new Qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return lu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(i(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$u(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=Yu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Ku(t,null,e,1,null!=n?n:null,o,0,a,s),e[go]=t.current,jr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ju(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(i(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(i(40));return!!e._reactRootContainer&&(lu((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[go]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},957:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(791)),d=u(n(129)),h=n(5);t.default=function(e){var t=e.graphScopes,n=e.clientId,o=e.tenantUrl,i=e.redirectUri,a=e.postLogoutRedirectUri,u=e.children,p=e.buttonTheme,f=e.className,g=e.withUserData,m=void 0!==g&&g,v=e.authCallback,y=e.forceRedirectStrategy,b=void 0!==y&&y,w=e.prompt,E=e.debug,C=e.useLocalStorageCache,_=h.getUserAgentApp({clientId:n,tenantUrl:o,redirectUri:i,postLogoutRedirectUri:a,useLocalStorageCache:C}),S=h.getScopes(t),T=h.getLogger(E);if(!_)return T("Initialization","clientID broken or not provided",!0),null;l.useEffect((function(){_.handleRedirectCallback((function(e,t){!e&&t?(T("Fetch Azure AD 'token' with redirect SUCCEEDED",t),T("Fetch Graph API 'access_token' in silent mode STARTED"),A(!0)):(T("Fetch Azure AD 'token' with redirect FAILED",e,!0),v(e))}))}),[]),l.useEffect((function(){(C?localStorage.getItem("msal.idtoken"):sessionStorage.getItem("msal.idtoken"))&&A(b||h.checkToIE())}),[_]);var I=function(){T("Login STARTED"),b||h.checkToIE()?P():R()},k=function(e){T("Fetch Graph API 'access_token' SUCCEEDED",e),m?N(e):(T("Login SUCCEEDED"),v(null,e,_))},A=function(e){return s(void 0,void 0,void 0,(function(){var t,n,r,o;return c(this,(function(i){switch(i.label){case 0:i.trys.push([0,8,,9]),i.label=1;case 1:return i.trys.push([1,3,,7]),[4,_.acquireTokenSilent({scopes:S})];case 2:return t=i.sent(),k(t),[3,7];case 3:return n=i.sent(),T("Fetch Graph API 'access_token' in silent mode is FAILED",n,!0),e?(T("Fetch Graph API 'access_token' with redirect STARTED"),_.acquireTokenRedirect({scopes:S}),[3,6]):[3,4];case 4:return T("Fetch Graph API 'access_token' with popup STARTED"),[4,_.acquireTokenPopup({scopes:S})];case 5:r=i.sent(),k(r),i.label=6;case 6:return[3,7];case 7:return[3,9];case 8:return o=i.sent(),T("Login FAILED",o,!0),v(o),[3,9];case 9:return[2]}}))}))},R=function(){return s(void 0,void 0,void 0,(function(){var e,t;return c(this,(function(n){switch(n.label){case 0:T("Fetch Azure AD 'token' with popup STARTED"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,_.loginPopup({scopes:S,prompt:w})];case 2:return e=n.sent(),T("Fetch Azure AD 'token' with popup SUCCEEDED",e),T("Fetch Graph API 'access_token' in silent mode STARTED"),A(),[3,4];case 3:return t=n.sent(),T("Fetch Azure AD 'token' with popup FAILED",t,!0),v(t),[3,4];case 4:return[2]}}))}))},P=function(){T("Fetch Azure AD 'token' with redirect STARTED"),_.loginRedirect({scopes:S,prompt:w})},N=function(e){return s(void 0,void 0,void 0,(function(){var t,n;return c(this,(function(o){switch(o.label){case 0:return t=e.accessToken,T("Fetch Graph API user data STARTED"),[4,fetch("https://graph.microsoft.com/v1.0/me",{method:"GET",headers:{Authorization:"Bearer "+t}})];case 1:return[4,o.sent().json()];case 2:return n=o.sent(),T("Fetch Graph API user data SUCCEEDED",n),T("Login SUCCEEDED"),v(null,r(r({},n),e),_),[2]}}))}))};return u?l.default.createElement("div",{onClick:I},u):l.default.createElement(d.default,{buttonTheme:p||"light",buttonClassName:f,onClick:I})}},129:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(791));t.default=function(e){var t=e.buttonTheme,n=e.buttonClassName,r=e.onClick,i=t.split("_"),a="dark"===i[0],s={cursor:"pointer"};return i[1]?o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"104",height:"41",style:s,className:n,onClick:r},o.default.createElement("path",{fill:a?"#2f2f2f":"#ffffff",d:"M0 0h104v41H0z"}),!a&&o.default.createElement("path",{fill:"#8c8c8c",d:"M103 1v39H1V1h102m1-1H0v41h104V0z"}),o.default.createElement("path",{fill:"#f25022",d:"M13 11h9v9h-9z"}),o.default.createElement("path",{fill:"#00a4ef",d:"M13 21h9v9h-9z"}),o.default.createElement("path",{fill:"#7fba00",d:"M23 11h9v9h-9z"}),o.default.createElement("path",{fill:"#ffb900",d:"M23 21h9v9h-9z"}),o.default.createElement("path",{fill:a?"#ffffff":"#5e5e5e",d:"M45.812 25.082v-1.794a2.77 2.77 0 0 0 .573.4 4.484 4.484 0 0 0 .706.3 5.486 5.486 0 0 0 .745.187 3.954 3.954 0 0 0 .687.065 2.928 2.928 0 0 0 1.634-.365 1.2 1.2 0 0 0 .537-1.062 1.167 1.167 0 0 0-.178-.649 1.939 1.939 0 0 0-.5-.5 5.412 5.412 0 0 0-.757-.435q-.435-.209-.932-.436-.533-.285-.994-.578a4.285 4.285 0 0 1-.8-.648 2.724 2.724 0 0 1-.533-.8 2.6 2.6 0 0 1-.194-1.047 2.416 2.416 0 0 1 .333-1.285 2.794 2.794 0 0 1 .877-.9 4.019 4.019 0 0 1 1.239-.528 5.906 5.906 0 0 1 1.418-.172 5.692 5.692 0 0 1 2.4.374v1.721a3.817 3.817 0 0 0-2.295-.645 4.093 4.093 0 0 0-.771.074 2.335 2.335 0 0 0-.687.241 1.5 1.5 0 0 0-.494.433 1.06 1.06 0 0 0-.189.637 1.221 1.221 0 0 0 .145.608 1.573 1.573 0 0 0 .428.468 4.321 4.321 0 0 0 .688.414c.27.134.584.28.939.436q.548.285 1.034.6a4.881 4.881 0 0 1 .856.7 3.075 3.075 0 0 1 .585.846 2.493 2.493 0 0 1 .215 1.058 2.625 2.625 0 0 1-.322 1.348 2.584 2.584 0 0 1-.866.892 3.786 3.786 0 0 1-1.254.5 6.959 6.959 0 0 1-1.5.155c-.176 0-.392-.014-.647-.04s-.518-.067-.786-.117a7.75 7.75 0 0 1-.76-.187 2.373 2.373 0 0 1-.58-.269zM55.109 16.426a1.021 1.021 0 0 1-.713-.272.891.891 0 0 1-.3-.688.917.917 0 0 1 .3-.7 1.009 1.009 0 0 1 .713-.278 1.041 1.041 0 0 1 .732.278.915.915 0 0 1 .3.7.9.9 0 0 1-.3.678 1.035 1.035 0 0 1-.732.282zm.841 9.074h-1.7V18h1.7zM64.979 24.9q0 4.131-4.146 4.131a6.166 6.166 0 0 1-2.551-.491v-1.554a4.712 4.712 0 0 0 2.332.7 2.341 2.341 0 0 0 2.668-2.628v-.818h-.029a2.938 2.938 0 0 1-4.733.436 4.046 4.046 0 0 1-.837-2.684 4.738 4.738 0 0 1 .9-3.04 2.988 2.988 0 0 1 2.471-1.128 2.38 2.38 0 0 1 2.2 1.216h.029V18h1.7zM63.3 22.064v-.973a1.91 1.91 0 0 0-.523-1.352 1.71 1.71 0 0 0-1.3-.559 1.789 1.789 0 0 0-1.51.714 3.223 3.223 0 0 0-.545 2 2.78 2.78 0 0 0 .523 1.769 1.675 1.675 0 0 0 1.385.662 1.8 1.8 0 0 0 1.426-.632 2.4 2.4 0 0 0 .544-1.629zM73.853 25.5h-1.7v-4.227q0-2.1-1.483-2.1a1.616 1.616 0 0 0-1.279.582 2.167 2.167 0 0 0-.505 1.469V25.5h-1.7V18h1.7v1.245h.029a2.669 2.669 0 0 1 2.428-1.421 2.257 2.257 0 0 1 1.863.795 3.57 3.57 0 0 1 .644 2.3zM80.892 16.426a1.017 1.017 0 0 1-.713-.272.889.889 0 0 1-.3-.688.915.915 0 0 1 .3-.7 1 1 0 0 1 .713-.278 1.038 1.038 0 0 1 .731.278.915.915 0 0 1 .3.7.9.9 0 0 1-.3.678 1.033 1.033 0 0 1-.731.282zm.84 9.074h-1.7V18h1.7zM90.614 25.5h-1.7v-4.227q0-2.1-1.483-2.1a1.62 1.62 0 0 0-1.28.582 2.167 2.167 0 0 0-.5 1.469V25.5h-1.7V18h1.7v1.245h.03a2.668 2.668 0 0 1 2.427-1.421 2.258 2.258 0 0 1 1.864.795 3.576 3.576 0 0 1 .643 2.3z"})):o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"215",height:"41",style:s,className:n,onClick:r},o.default.createElement("path",{fill:a?"#2f2f2f":"#ffffff",d:"M0 0h215v41H0z"}),!a&&o.default.createElement("path",{fill:"#8c8c8c",d:"M214 1v39H1V1h213m1-1H0v41h215V0z"}),o.default.createElement("path",{fill:a?"#ffffff":"#5e5e5e",d:"M45.812 25.082v-1.794a2.77 2.77 0 0 0 .573.4 4.484 4.484 0 0 0 .706.3 5.486 5.486 0 0 0 .745.187 3.954 3.954 0 0 0 .687.065 2.928 2.928 0 0 0 1.634-.365 1.2 1.2 0 0 0 .537-1.062 1.167 1.167 0 0 0-.178-.649 1.939 1.939 0 0 0-.5-.5 5.412 5.412 0 0 0-.757-.435q-.435-.209-.932-.436-.533-.285-.994-.578a4.285 4.285 0 0 1-.8-.648 2.724 2.724 0 0 1-.533-.8 2.6 2.6 0 0 1-.194-1.047 2.416 2.416 0 0 1 .333-1.285 2.794 2.794 0 0 1 .877-.9 4.019 4.019 0 0 1 1.239-.528 5.906 5.906 0 0 1 1.418-.172 5.692 5.692 0 0 1 2.4.374v1.721a3.817 3.817 0 0 0-2.295-.645 4.093 4.093 0 0 0-.771.074 2.335 2.335 0 0 0-.687.241 1.5 1.5 0 0 0-.494.433 1.06 1.06 0 0 0-.189.637 1.221 1.221 0 0 0 .145.608 1.573 1.573 0 0 0 .428.468 4.321 4.321 0 0 0 .688.414c.27.134.584.28.939.436q.548.285 1.034.6a4.881 4.881 0 0 1 .856.7 3.075 3.075 0 0 1 .585.846 2.493 2.493 0 0 1 .215 1.058 2.625 2.625 0 0 1-.322 1.348 2.584 2.584 0 0 1-.866.892 3.786 3.786 0 0 1-1.254.5 6.959 6.959 0 0 1-1.5.155c-.176 0-.392-.014-.647-.04s-.518-.067-.786-.117a7.75 7.75 0 0 1-.76-.187 2.373 2.373 0 0 1-.58-.269zM55.109 16.426a1.021 1.021 0 0 1-.713-.272.891.891 0 0 1-.3-.688.917.917 0 0 1 .3-.7 1.009 1.009 0 0 1 .713-.278 1.041 1.041 0 0 1 .732.278.915.915 0 0 1 .3.7.9.9 0 0 1-.3.678 1.035 1.035 0 0 1-.732.282zm.841 9.074h-1.7V18h1.7zM64.979 24.9q0 4.131-4.146 4.131a6.166 6.166 0 0 1-2.551-.491v-1.554a4.712 4.712 0 0 0 2.332.7 2.341 2.341 0 0 0 2.668-2.628v-.818h-.029a2.938 2.938 0 0 1-4.733.436 4.046 4.046 0 0 1-.837-2.684 4.738 4.738 0 0 1 .9-3.04 2.988 2.988 0 0 1 2.471-1.128 2.38 2.38 0 0 1 2.2 1.216h.029V18h1.7zM63.3 22.064v-.973a1.91 1.91 0 0 0-.523-1.352 1.71 1.71 0 0 0-1.3-.559 1.789 1.789 0 0 0-1.51.714 3.223 3.223 0 0 0-.545 2 2.78 2.78 0 0 0 .523 1.769 1.675 1.675 0 0 0 1.385.662 1.8 1.8 0 0 0 1.426-.632 2.4 2.4 0 0 0 .544-1.629zM73.853 25.5h-1.7v-4.227q0-2.1-1.483-2.1a1.616 1.616 0 0 0-1.279.582 2.167 2.167 0 0 0-.505 1.469V25.5h-1.7V18h1.7v1.245h.029a2.669 2.669 0 0 1 2.428-1.421 2.257 2.257 0 0 1 1.863.795 3.57 3.57 0 0 1 .644 2.3zM80.892 16.426a1.017 1.017 0 0 1-.713-.272.889.889 0 0 1-.3-.688.915.915 0 0 1 .3-.7 1 1 0 0 1 .713-.278 1.038 1.038 0 0 1 .731.278.915.915 0 0 1 .3.7.9.9 0 0 1-.3.678 1.033 1.033 0 0 1-.731.282zm.84 9.074h-1.7V18h1.7zM90.614 25.5h-1.7v-4.227q0-2.1-1.483-2.1a1.62 1.62 0 0 0-1.28.582 2.167 2.167 0 0 0-.5 1.469V25.5h-1.7V18h1.7v1.245h.03a2.668 2.668 0 0 1 2.427-1.421 2.258 2.258 0 0 1 1.864.795 3.576 3.576 0 0 1 .643 2.3zM106.865 18l-2.208 7.5h-1.776l-1.36-5.083a3.291 3.291 0 0 1-.1-.659h-.029a3.018 3.018 0 0 1-.132.644l-1.477 5.1h-1.741l-2.2-7.5H97.6l1.36 5.405a3.308 3.308 0 0 1 .087.645h.053a3.384 3.384 0 0 1 .117-.659L100.725 18h1.593l1.345 5.428a3.832 3.832 0 0 1 .095.644h.052a3.3 3.3 0 0 1 .109-.644l1.33-5.428zM108.977 16.426a1.017 1.017 0 0 1-.713-.272.889.889 0 0 1-.3-.688.915.915 0 0 1 .3-.7 1 1 0 0 1 .713-.278 1.038 1.038 0 0 1 .731.278.915.915 0 0 1 .3.7.9.9 0 0 1-.3.678 1.033 1.033 0 0 1-.731.282zm.84 9.074h-1.7V18h1.7zM115.979 25.42a2.944 2.944 0 0 1-1.307.248q-2.18 0-2.179-2.094v-4.241h-1.25V18h1.25v-1.736l1.7-.483V18h1.79v1.333h-1.79v3.75a1.478 1.478 0 0 0 .242.952 1 1 0 0 0 .8.285 1.16 1.16 0 0 0 .745-.248zM124.094 25.5h-1.7v-4.1q0-2.226-1.483-2.226a1.555 1.555 0 0 0-1.258.644 2.573 2.573 0 0 0-.511 1.649V25.5h-1.7V14.4h1.7v4.849h.029a2.679 2.679 0 0 1 2.428-1.421q2.492 0 2.492 3.055zM141.719 25.5h-1.726v-6.8q0-.835.1-2.043h-.03a6.992 6.992 0 0 1-.285.988l-3.126 7.855h-1.2l-3.136-7.793a7.371 7.371 0 0 1-.277-1.047h-.029q.059.63.058 2.058V25.5h-1.608V15h2.449l2.756 7a10.415 10.415 0 0 1 .409 1.2h.036c.181-.551.327-.962.439-1.23l2.808-6.97h2.362zM144.964 16.426a1.019 1.019 0 0 1-.713-.272.892.892 0 0 1-.3-.688.918.918 0 0 1 .3-.7 1.007 1.007 0 0 1 .713-.278 1.038 1.038 0 0 1 .731.278.911.911 0 0 1 .3.7.9.9 0 0 1-.3.678 1.033 1.033 0 0 1-.731.282zm.841 9.074h-1.7V18h1.7zM153.378 25.156a4.185 4.185 0 0 1-2.127.52 3.6 3.6 0 0 1-2.69-1.044 3.7 3.7 0 0 1-1.024-2.706 4.074 4.074 0 0 1 1.1-2.978 3.93 3.93 0 0 1 2.942-1.124 4.281 4.281 0 0 1 1.806.36v1.582a2.73 2.73 0 0 0-1.667-.586 2.312 2.312 0 0 0-1.762.728 2.669 2.669 0 0 0-.687 1.908 2.54 2.54 0 0 0 .647 1.838 2.291 2.291 0 0 0 1.736.674 2.708 2.708 0 0 0 1.725-.652zM159.4 19.619a1.4 1.4 0 0 0-.884-.242 1.514 1.514 0 0 0-1.258.682 3.047 3.047 0 0 0-.5 1.852V25.5h-1.7V18h1.7v1.545h.029a2.6 2.6 0 0 1 .764-1.233 1.72 1.72 0 0 1 1.151-.444 1.425 1.425 0 0 1 .7.14zM163.788 25.676a3.71 3.71 0 0 1-2.767-1.051 3.8 3.8 0 0 1-1.035-2.787 3.7 3.7 0 0 1 3.985-4.014 3.581 3.581 0 0 1 2.733 1.033 3.994 3.994 0 0 1 .98 2.864 3.938 3.938 0 0 1-1.056 2.875 3.8 3.8 0 0 1-2.84 1.08zm.08-6.5a1.932 1.932 0 0 0-1.571.7 2.913 2.913 0 0 0-.578 1.919 2.744 2.744 0 0 0 .585 1.856 1.957 1.957 0 0 0 1.564.678 1.862 1.862 0 0 0 1.539-.666 2.95 2.95 0 0 0 .537-1.9 2.99 2.99 0 0 0-.537-1.911 1.851 1.851 0 0 0-1.539-.672zM168.94 25.266v-1.575a3.383 3.383 0 0 0 2.1.725q1.535 0 1.535-.908a.714.714 0 0 0-.132-.436 1.263 1.263 0 0 0-.354-.318 2.864 2.864 0 0 0-.526-.25c-.2-.072-.428-.155-.677-.248a7.074 7.074 0 0 1-.829-.389 2.526 2.526 0 0 1-.615-.465 1.758 1.758 0 0 1-.369-.59 2.168 2.168 0 0 1-.124-.769 1.775 1.775 0 0 1 .256-.955 2.224 2.224 0 0 1 .687-.7 3.294 3.294 0 0 1 .979-.425 4.49 4.49 0 0 1 1.129-.139 5.163 5.163 0 0 1 1.856.315v1.487a3.127 3.127 0 0 0-1.812-.542 2.323 2.323 0 0 0-.582.066 1.477 1.477 0 0 0-.442.183.893.893 0 0 0-.285.282.677.677 0 0 0-.1.363.779.779 0 0 0 .1.41.936.936 0 0 0 .3.3 2.675 2.675 0 0 0 .482.234q.282.105.648.23a9.5 9.5 0 0 1 .866.4 2.872 2.872 0 0 1 .654.465 1.789 1.789 0 0 1 .416.6 2.034 2.034 0 0 1 .147.81 1.855 1.855 0 0 1-.263 1 2.212 2.212 0 0 1-.7.7 3.28 3.28 0 0 1-1.013.413 5.2 5.2 0 0 1-1.209.136 5.1 5.1 0 0 1-2.123-.41zM179.183 25.676a3.711 3.711 0 0 1-2.768-1.051 3.8 3.8 0 0 1-1.034-2.787 3.7 3.7 0 0 1 3.984-4.014 3.585 3.585 0 0 1 2.734 1.033 3.993 3.993 0 0 1 .979 2.864 3.934 3.934 0 0 1-1.056 2.875 3.794 3.794 0 0 1-2.839 1.08zm.08-6.5a1.934 1.934 0 0 0-1.572.7 2.919 2.919 0 0 0-.578 1.919 2.749 2.749 0 0 0 .585 1.856 1.959 1.959 0 0 0 1.565.678 1.864 1.864 0 0 0 1.539-.666 2.956 2.956 0 0 0 .537-1.9 3 3 0 0 0-.537-1.911 1.852 1.852 0 0 0-1.539-.672zM188.787 15.781a1.523 1.523 0 0 0-.782-.2q-1.235 0-1.235 1.4V18h1.74v1.333h-1.733V25.5h-1.7v-6.167H183.8V18h1.279v-1.216a2.37 2.37 0 0 1 .775-1.871 2.817 2.817 0 0 1 1.937-.684 2.866 2.866 0 0 1 .994.138zM193.94 25.42a2.944 2.944 0 0 1-1.307.248q-2.179 0-2.179-2.094v-4.241H189.2V18h1.25v-1.736l1.7-.483V18h1.79v1.333h-1.79v3.75a1.472 1.472 0 0 0 .242.952 1 1 0 0 0 .8.285 1.162 1.162 0 0 0 .745-.248z"}),o.default.createElement("path",{fill:"#f25022",d:"M13 11h9v9h-9z"}),o.default.createElement("path",{fill:"#00a4ef",d:"M13 21h9v9h-9z"}),o.default.createElement("path",{fill:"#7fba00",d:"M23 11h9v9h-9z"}),o.default.createElement("path",{fill:"#ffb900",d:"M23 21h9v9h-9z"}))}},5:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.checkToIE=t.getLogger=t.getScopes=t.getUserAgentApp=void 0;var o=n(157),i=/[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}/;t.getUserAgentApp=function(e){var t=e.clientId,n=e.tenantUrl,a=e.redirectUri,s=e.postLogoutRedirectUri,c=e.useLocalStorageCache;if(t&&i.test(t))return new o.UserAgentApplication({auth:r(r(r(r({},a&&{redirectUri:a}),n&&{authority:n}),s&&{postLogoutRedirectUri:s}),{clientId:t,validateAuthority:!0,navigateToLoginRequestUrl:!1}),cache:r({},c?{cacheLocation:"localStorage"}:{cacheLocation:"sessionStorage"})})};t.getScopes=function(e){var t=e||[];return t.find((function(e){return"user.read"===e.toLowerCase()}))||t.push("user.read"),t};t.getLogger=function(e){return function(t,n,r){if(e){var o="background-color: "+(r?"#990000":"#009900")+"; color: #ffffff; font-weight: 700; padding: 2px";console.groupCollapsed("MSLogin debug"),console.log("%c"+t,o),n&&console.log(n.message||n),console.groupEnd()}}};t.checkToIE=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/"),r=e.indexOf("Edge/");return t>0||n>0||r>0}},28:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MicrosoftLogin=void 0;var o=r(n(957));t.MicrosoftLogin=o.default,t.default=o.default},459:function(e,t){var n,r=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case a:case h:case p:return e;default:switch(e=e&&e.$$typeof){case l:case u:case d:case g:case f:case c:return e;default:return t}}case o:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){n(459)},374:function(e,t,n){var r=n(791),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,i={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:u,ref:l,props:i,_owner:s.current}}t.jsx=u,t.jsxs=u},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var E=Array.isArray,C=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,o)&&!S.hasOwnProperty(o)&&(i[o]=t[o]);var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(o in c=e.defaultProps)void 0===i[o]&&(i[o]=c[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===i?"."+A(c,0):i,E(a)?(o="",null!=e&&(o=e.replace(k,"$&/")+"/"),R(a,t,o,"",(function(e){return e}))):null!=a&&(I(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(c=0,i=""===i?".":i+":",E(e))for(var u=0;u<e.length;u++){var l=i+A(s=e[u],u);c+=R(s,t,o,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),u=0;!(s=e.next()).done;)c+=R(s=s.value,t,o,l=i+A(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function P(e,t,n){if(null==e)return e;var r=[],o=0;return R(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},M={transition:null},x={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:M,ReactCurrentOwner:_};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=g({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)C.call(t,u)&&!S.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,c=e[s],u=s+1,l=e[u];if(0>i(c,n))u<o&&0>i(l,c)?(e[r]=l,e[u]=n,r=u):(e[r]=c,e[s]=n,r=s);else{if(!(u<o&&0>i(l,n)))break e;e[r]=l,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var u=[],l=[],d=1,h=null,p=3,f=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)o(l);else{if(!(t.startTime<=e))break;o(l),t.sortIndex=t.expirationTime,n(u,t)}t=r(l)}}function E(e){if(m=!1,w(e),!g)if(null!==r(u))g=!0,M(C);else{var t=r(l);null!==t&&x(E,t.startTime-e)}}function C(e,n){g=!1,m&&(m=!1,y(I),I=-1),f=!0;var i=p;try{for(w(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!R());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(u)&&o(u),w(n)}else o(u);h=r(u)}if(null!==h)var c=!0;else{var d=r(l);null!==d&&x(E,d.startTime-n),c=!1}return c}finally{h=null,p=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,T=null,I=-1,k=5,A=-1;function R(){return!(t.unstable_now()-A<k)}function P(){if(null!==T){var e=t.unstable_now();A=e;var n=!0;try{n=T(!0,e)}finally{n?_():(S=!1,T=null)}}else S=!1}if("function"===typeof b)_=function(){b(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,O=N.port2;N.port1.onmessage=P,_=function(){O.postMessage(null)}}else _=function(){v(P,0)};function M(e){T=e,S||(S=!0,_())}function x(e,n){I=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,M(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(l,e),null===r(u)&&e===r(l)&&(m?(y(I),I=-1):m=!0,x(E,i-a))):(e.sortIndex=s,n(u,e),g||f||(g=!0,M(C))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},296:function(e,t,n){e.exports=n(813)},561:function(e,t,n){var r=n(791);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useState,a=r.useEffect,s=r.useLayoutEffect,c=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,l=r[1];return s((function(){o.value=n,o.getSnapshot=t,u(o)&&l({inst:o})}),[e,n,t]),a((function(){return u(o)&&l({inst:o}),e((function(){u(o)&&l({inst:o})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){var r=n(791),o=n(248);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=o.useSyncExternalStore,s=r.useRef,c=r.useEffect,u=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=u((function(){function e(e){if(!c){if(c=!0,a=e,e=r(e),void 0!==o&&h.hasValue){var t=h.value;if(o(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?t:(a=e,s=n)}var a,s,c=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,o]);var p=a(e,d[0],d[1]);return c((function(){h.hasValue=!0,h.value=p}),[p]),l(p),p}},248:function(e,t,n){e.exports=n(561)},327:function(e,t,n){e.exports=n(595)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e=n(791),t=n(250),r=n(248),o=n(327),i=n(164);var a=function(e){e()},s=function(){return a},c=e.createContext(null);function u(){return(0,e.useContext)(c)}var l=function(){throw new Error("uSES not initialized!")},d=l,h=function(e,t){return e===t};function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=t===c?u:function(){return(0,e.useContext)(t)};return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;var o=n(),i=o.store,a=o.subscription,s=o.getServerState,c=d(a.addNestedSub,i.getState,s||i.getState,t,r);return(0,e.useDebugValue)(c),c}}var f=p();n(110),n(900);var g={notify:function(){},get:function(){return[]}};function m(e,t){var n,r=g;function o(){a.onStateChange&&a.onStateChange()}function i(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){var e=s(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}var a={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=g)},getListeners:function(){return r}};return a}var v=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?e.useLayoutEffect:e.useEffect;var y=function(t){var n=t.store,r=t.context,o=t.children,i=t.serverState,a=(0,e.useMemo)((function(){var e=m(n);return{store:n,subscription:e,getServerState:i?function(){return i}:void 0}}),[n,i]),s=(0,e.useMemo)((function(){return n.getState()}),[n]);v((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,s]);var u=r||c;return e.createElement(u.Provider,{value:a},o)};function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=t===c?u:function(){return(0,e.useContext)(t)};return function(){return n().store}}var w=b();function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=e===c?w:b(e);return function(){return t().dispatch}}var C,_,S=E();function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){if(e){if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}!function(e){d=e}(o.useSyncExternalStoreWithSelector),function(e){e}(r.useSyncExternalStore),C=i.unstable_batchedUpdates,a=C,function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(_||(_={}));var R=function(e){return e};var P="beforeunload",N="popstate";function O(e){e.preventDefault(),e.returnValue=""}function M(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function x(){return Math.random().toString(36).substr(2,8)}function U(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,o=void 0===r?"":r,i=e.hash,a=void 0===i?"":i;return o&&"?"!==o&&(n+="?"===o.charAt(0)?o:"?"+o),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function L(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var D=(0,e.createContext)(null);var q=(0,e.createContext)(null);var H=(0,e.createContext)({outlet:null,matches:[]});function F(e,t){if(!e)throw new Error(t)}function z(e,t,n){void 0===n&&(n="/");var r=Q(("string"===typeof t?L(t):t).pathname||"/",n);if(null==r)return null;var o=j(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(o);for(var i=null,a=0;null==i&&a<o.length;++a)i=W(o[a],r);return i}function j(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,o){var i={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};i.relativePath.startsWith("/")&&(i.relativePath.startsWith(r)||F(!1),i.relativePath=i.relativePath.slice(r.length));var a=J([r,i.relativePath]),s=n.concat(i);e.children&&e.children.length>0&&(!0===e.index&&F(!1),j(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:G(a,e.index),routesMeta:s})})),t}var K=/^:\w+$/,B=function(e){return"*"===e};function G(e,t){var n=e.split("/"),r=n.length;return n.some(B)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!B(e)})).reduce((function(e,t){return e+(K.test(t)?3:""===t?1:10)}),r)}function W(e,t){for(var n=e.routesMeta,r={},o="/",i=[],a=0;a<n.length;++a){var s=n[a],c=a===n.length-1,u="/"===o?t:t.slice(o.length)||"/",l=V({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},u);if(!l)return null;Object.assign(r,l.params);var d=s.route;i.push({params:r,pathname:J([o,l.pathname]),pathnameBase:$(J([o,l.pathnameBase])),route:d}),"/"!==l.pathnameBase&&(o=J([o,l.pathnameBase]))}return i}function V(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):o+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(o,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=k(n,2),o=r[0],i=r[1],a=t.match(o);if(!a)return null;var s=a[0],c=s.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:i.reduce((function(e,t,n){if("*"===t){var r=u[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(u[n]||""),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function Y(e,t,n){var r,o="string"===typeof e?L(e):e,i=""===e||""===o.pathname?"/":o.pathname;if(null==i)r=n;else{var a=t.length-1;if(i.startsWith("..")){for(var s=i.split("/");".."===s[0];)s.shift(),a-=1;o.pathname=s.join("/")}r=a>=0?t[a]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,o=n.search,i=void 0===o?"":o,a=n.hash,s=void 0===a?"":a,c=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:c,search:X(i),hash:Z(s)}}(o,r);return i&&"/"!==i&&i.endsWith("/")&&!c.pathname.endsWith("/")&&(c.pathname+="/"),c}function Q(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var J=function(e){return e.join("/").replace(/\/\/+/g,"/")},$=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},X=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Z=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function ee(){return null!=(0,e.useContext)(q)}function te(){return ee()||F(!1),(0,e.useContext)(q).location}function ne(){ee()||F(!1);var t=(0,e.useContext)(D),n=t.basename,r=t.navigator,o=(0,e.useContext)(H).matches,i=te().pathname,a=JSON.stringify(o.map((function(e){return e.pathnameBase}))),s=(0,e.useRef)(!1);return(0,e.useEffect)((function(){s.current=!0})),(0,e.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var o=Y(e,JSON.parse(a),i);"/"!==n&&(o.pathname=J([n,o.pathname])),(t.replace?r.replace:r.push)(o,t.state)}else r.go(e)}),[n,r,a,i])}function re(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(r,o,i){return(0,e.createElement)(H.Provider,{children:void 0!==o.route.element?o.route.element:r,value:{outlet:r,matches:n.concat(t.slice(0,i+1))}})}),null)}function oe(t){var n=t.to,r=t.replace,o=t.state;ee()||F(!1);var i=ne();return(0,e.useEffect)((function(){i(n,{replace:r,state:o})})),null}function ie(e){F(!1)}function ae(t){var n=t.basename,r=void 0===n?"/":n,o=t.children,i=void 0===o?null:o,a=t.location,s=t.navigationType,c=void 0===s?_.Pop:s,u=t.navigator,l=t.static,d=void 0!==l&&l;ee()&&F(!1);var h=$(r),p=(0,e.useMemo)((function(){return{basename:h,navigator:u,static:d}}),[h,u,d]);"string"===typeof a&&(a=L(a));var f=a,g=f.pathname,m=void 0===g?"/":g,v=f.search,y=void 0===v?"":v,b=f.hash,w=void 0===b?"":b,E=f.state,C=void 0===E?null:E,S=f.key,T=void 0===S?"default":S,I=(0,e.useMemo)((function(){var e=Q(m,h);return null==e?null:{pathname:e,search:y,hash:w,state:C,key:T}}),[h,m,y,w,C,T]);return null==I?null:(0,e.createElement)(D.Provider,{value:p},(0,e.createElement)(q.Provider,{children:i,value:{location:I,navigationType:c}}))}function se(t){var n=t.children,r=t.location;return function(t,n){ee()||F(!1);var r,o=(0,e.useContext)(H).matches,i=o[o.length-1],a=i?i.params:{},s=(i&&i.pathname,i?i.pathnameBase:"/"),c=(i&&i.route,te());if(n){var u,l="string"===typeof n?L(n):n;"/"===s||(null==(u=l.pathname)?void 0:u.startsWith(s))||F(!1),r=l}else r=c;var d=r.pathname||"/",h=z(t,{pathname:"/"===s?d:d.slice(s.length)||"/"});return re(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:J([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:J([s,e.pathnameBase])})})),o)}(ce(n),r)}function ce(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==ie&&F(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=ce(t.props.children)),n.push(r)}else n.push.apply(n,ce(t.props.children))})),n}function ue(t){var n=t.basename,r=t.children,o=t.window,i=(0,e.useRef)();null==i.current&&(i.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function o(){var e=n.location,t=e.pathname,o=e.search,i=e.hash,a=r.state||{};return[a.idx,R({pathname:t,search:o,hash:i,state:a.usr||null,key:a.key||"default"})]}var i=null;n.addEventListener(N,(function(){if(i)d.call(i),i=null;else{var e=_.Pop,t=o(),n=t[0],r=t[1];if(d.length){if(null!=n){var a=c-n;a&&(i={action:e,location:r,retry:function(){v(-1*a)}},v(a))}}else m(e)}}));var a=_.Pop,s=o(),c=s[0],u=s[1],l=M(),d=M();function h(e){return"string"===typeof e?e:U(e)}function p(e,t){return void 0===t&&(t=null),R(A({pathname:u.pathname,hash:"",search:""},"string"===typeof e?L(e):e,{state:t,key:x()}))}function f(e,t){return[{usr:e.state,key:e.key,idx:t},h(e)]}function g(e,t,n){return!d.length||(d.call({action:e,location:t,retry:n}),!1)}function m(e){a=e;var t=o();c=t[0],u=t[1],l.call({action:a,location:u})}function v(e){r.go(e)}null==c&&(c=0,r.replaceState(A({},r.state,{idx:c}),""));var y={get action(){return a},get location(){return u},createHref:h,push:function e(t,o){var i=_.Push,a=p(t,o);if(g(i,a,(function(){e(t,o)}))){var s=f(a,c+1),u=s[0],l=s[1];try{r.pushState(u,"",l)}catch(d){n.location.assign(l)}m(i)}},replace:function e(t,n){var o=_.Replace,i=p(t,n);if(g(o,i,(function(){e(t,n)}))){var a=f(i,c),s=a[0],u=a[1];r.replaceState(s,"",u),m(o)}},go:v,back:function(){v(-1)},forward:function(){v(1)},listen:function(e){return l.push(e)},block:function(e){var t=d.push(e);return 1===d.length&&n.addEventListener(P,O),function(){t(),d.length||n.removeEventListener(P,O)}}};return y}({window:o}));var a=i.current,s=k((0,e.useState)({action:a.action,location:a.location}),2),c=s[0],u=s[1];return(0,e.useLayoutEffect)((function(){return a.listen(u)}),[a]),(0,e.createElement)(ae,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:a})}function le(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function de(e){return!!e&&!!e[et]}function he(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===tt}(e)||Array.isArray(e)||!!e[Ze]||!!e.constructor[Ze]||be(e)||we(e))}function pe(e,t,n){void 0===n&&(n=!1),0===fe(e)?(n?Object.keys:nt)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function fe(e){var t=e[et];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:be(e)?2:we(e)?3:0}function ge(e,t){return 2===fe(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function me(e,t){return 2===fe(e)?e.get(t):e[t]}function ve(e,t,n){var r=fe(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function ye(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function be(e){return Qe&&e instanceof Map}function we(e){return Je&&e instanceof Set}function Ee(e){return e.o||e.t}function Ce(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=rt(e);delete t[et];for(var n=nt(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function _e(e,t){return void 0===t&&(t=!1),Te(e)||de(e)||!he(e)||(fe(e)>1&&(e.set=e.add=e.clear=e.delete=Se),Object.freeze(e),t&&pe(e,(function(e,t){return _e(t,!0)}),!0)),e}function Se(){le(2)}function Te(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Ie(e){var t=ot[e];return t||le(18,e),t}function ke(e,t){ot[e]||(ot[e]=t)}function Ae(){return Ve}function Re(e,t){t&&(Ie("Patches"),e.u=[],e.s=[],e.v=t)}function Pe(e){Ne(e),e.p.forEach(Me),e.p=null}function Ne(e){e===Ve&&(Ve=e.l)}function Oe(e){return Ve={p:[],l:Ve,h:e,m:!0,_:0}}function Me(e){var t=e[et];0===t.i||1===t.i?t.j():t.O=!0}function xe(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||Ie("ES5").S(t,e,r),r?(n[et].P&&(Pe(t),le(4)),he(e)&&(e=Ue(t,e),t.l||De(t,e)),t.u&&Ie("Patches").M(n[et].t,e,t.u,t.s)):e=Ue(t,n,[]),Pe(t),t.u&&t.v(t.u,t.s),e!==Xe?e:void 0}function Ue(e,t,n){if(Te(t))return t;var r=t[et];if(!r)return pe(t,(function(o,i){return Le(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return De(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=Ce(r.k):r.o;pe(3===r.i?new Set(o):o,(function(t,i){return Le(e,r,o,t,i,n)})),De(e,o,!1),n&&e.u&&Ie("Patches").R(r,n,e.u,e.s)}return r.o}function Le(e,t,n,r,o,i){if(de(o)){var a=Ue(e,o,i&&t&&3!==t.i&&!ge(t.D,r)?i.concat(r):void 0);if(ve(n,r,a),!de(a))return;e.m=!1}if(he(o)&&!Te(o)){if(!e.h.F&&e._<1)return;Ue(e,o),t&&t.A.l||De(e,o)}}function De(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&_e(t,n)}function qe(e,t){var n=e[et];return(n?Ee(n):e)[t]}function He(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Fe(e){e.P||(e.P=!0,e.l&&Fe(e.l))}function ze(e){e.o||(e.o=Ce(e.t))}function je(e,t,n){var r=be(t)?Ie("MapSet").N(t,n):we(t)?Ie("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Ae(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=it;n&&(o=[r],i=at);var a=Proxy.revocable(o,i),s=a.revoke,c=a.proxy;return r.k=c,r.j=s,c}(t,n):Ie("ES5").J(t,n);return(n?n.A:Ae()).p.push(r),r}function Ke(e){return de(e)||le(22,e),function e(t){if(!he(t))return t;var n,r=t[et],o=fe(t);if(r){if(!r.P&&(r.i<4||!Ie("ES5").K(r)))return r.t;r.I=!0,n=Be(t,o),r.I=!1}else n=Be(t,o);return pe(n,(function(t,o){r&&me(r.t,t)===o||ve(n,t,e(o))})),3===o?new Set(n):n}(e)}function Be(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Ce(e)}function Ge(){function e(e,t){var n=o[e];return n?n.enumerable=t:o[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[et];return it.get(t,e)},set:function(t){var n=this[et];it.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var o=e[t][et];if(!o.P)switch(o.i){case 5:r(o)&&Fe(o);break;case 4:n(o)&&Fe(o)}}}function n(e){for(var t=e.t,n=e.k,r=nt(n),o=r.length-1;o>=0;o--){var i=r[o];if(i!==et){var a=t[i];if(void 0===a&&!ge(t,i))return!0;var s=n[i],c=s&&s[et];if(c?c.t!==a:!ye(s,a))return!0}}var u=!!t[et];return r.length!==nt(t).length+(u?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var o={};ke("ES5",{J:function(t,n){var r=Array.isArray(t),o=function(t,n){if(t){for(var r=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(r,""+o,e(o,!0));return r}var i=rt(n);delete i[et];for(var a=nt(i),s=0;s<a.length;s++){var c=a[s];i[c]=e(c,t||!!i[c].enumerable)}return Object.create(Object.getPrototypeOf(n),i)}(r,t),i={i:r?5:4,A:n?n.A:Ae(),P:!1,I:!1,D:{},l:n,t:t,k:o,o:null,O:!1,C:!1};return Object.defineProperty(o,et,{value:i,writable:!0}),o},S:function(e,n,o){o?de(n)&&n[et].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[et];if(n){var o=n.t,i=n.k,a=n.D,s=n.i;if(4===s)pe(i,(function(t){t!==et&&(void 0!==o[t]||ge(o,t)?a[t]||e(i[t]):(a[t]=!0,Fe(n)))})),pe(o,(function(e){void 0!==i[e]||ge(i,e)||(a[e]=!1,Fe(n))}));else if(5===s){if(r(n)&&(Fe(n),a.length=!0),i.length<o.length)for(var c=i.length;c<o.length;c++)a[c]=!1;else for(var u=o.length;u<i.length;u++)a[u]=!0;for(var l=Math.min(i.length,o.length),d=0;d<l;d++)i.hasOwnProperty(d)||(a[d]=!0),void 0===a[d]&&e(i[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var We,Ve,Ye="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Qe="undefined"!=typeof Map,Je="undefined"!=typeof Set,$e="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Xe=Ye?Symbol.for("immer-nothing"):((We={})["immer-nothing"]=!0,We),Ze=Ye?Symbol.for("immer-draftable"):"__$immer_draftable",et=Ye?Symbol.for("immer-state"):"__$immer_state",tt=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),nt="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,rt=Object.getOwnPropertyDescriptors||function(e){var t={};return nt(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ot={},it={get:function(e,t){if(t===et)return e;var n=Ee(e);if(!ge(n,t))return function(e,t,n){var r,o=He(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!he(r)?r:r===qe(e.t,t)?(ze(e),e.o[t]=je(e.A.h,r,e)):r},has:function(e,t){return t in Ee(e)},ownKeys:function(e){return Reflect.ownKeys(Ee(e))},set:function(e,t,n){var r=He(Ee(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=qe(Ee(e),t),i=null==o?void 0:o[et];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(ye(n,o)&&(void 0!==n||ge(e.t,t)))return!0;ze(e),Fe(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==qe(e.t,t)||t in e.t?(e.D[t]=!1,ze(e),Fe(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Ee(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){le(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){le(12)}},at={};pe(it,(function(e,t){at[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),at.deleteProperty=function(e,t){return at.set.call(this,e,t,void 0)},at.set=function(e,t,n){return it.set.call(this,e[0],t,n,e[0])};var st=function(){function e(e){var t=this;this.g=$e,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var i=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return i.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&le(6),void 0!==r&&"function"!=typeof r&&le(7),he(e)){var s=Oe(t),c=je(t,e,void 0),u=!0;try{a=n(c),u=!1}finally{u?Pe(s):Ne(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return Re(s,r),xe(e,s)}),(function(e){throw Pe(s),e})):(Re(s,r),xe(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===Xe&&(a=void 0),t.F&&_e(a,!0),r){var l=[],d=[];Ie("Patches").M(e,a,l,d),r(l,d)}return a}le(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,i=t.produce(e,n,(function(e,t){r=e,o=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,o]})):[i,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){he(e)||le(8),de(e)&&(e=Ke(e));var t=Oe(this),n=je(this,e,void 0);return n[et].C=!0,Ne(t),n},t.finishDraft=function(e,t){var n=(e&&e[et]).A;return Re(n,t),xe(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!$e&&le(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=Ie("Patches").$;return de(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),ct=new st,ut=ct.produce,lt=(ct.produceWithPatches.bind(ct),ct.setAutoFreeze.bind(ct),ct.setUseProxies.bind(ct),ct.applyPatches.bind(ct),ct.createDraft.bind(ct),ct.finishDraft.bind(ct),ut);function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ft(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var gt="function"===typeof Symbol&&Symbol.observable||"@@observable",mt=function(){return Math.random().toString(36).substring(7).split("").join(".")},vt={INIT:"@@redux/INIT"+mt(),REPLACE:"@@redux/REPLACE"+mt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+mt()}};function yt(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function bt(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(ft(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(ft(1));return n(bt)(e,t)}if("function"!==typeof e)throw new Error(ft(2));var o=e,i=t,a=[],s=a,c=!1;function u(){s===a&&(s=a.slice())}function l(){if(c)throw new Error(ft(3));return i}function d(e){if("function"!==typeof e)throw new Error(ft(4));if(c)throw new Error(ft(5));var t=!0;return u(),s.push(e),function(){if(t){if(c)throw new Error(ft(6));t=!1,u();var n=s.indexOf(e);s.splice(n,1),a=null}}}function h(e){if(!yt(e))throw new Error(ft(7));if("undefined"===typeof e.type)throw new Error(ft(8));if(c)throw new Error(ft(9));try{c=!0,i=o(i,e)}finally{c=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}function p(e){if("function"!==typeof e)throw new Error(ft(10));o=e,h({type:vt.REPLACE})}function f(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(ft(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[gt]=function(){return this},e}return h({type:vt.INIT}),(r={dispatch:h,subscribe:d,getState:l,replaceReducer:p})[gt]=f,r}function wt(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"===typeof e[o]&&(n[o]=e[o])}var i,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:vt.INIT}))throw new Error(ft(12));if("undefined"===typeof n(void 0,{type:vt.PROBE_UNKNOWN_ACTION()}))throw new Error(ft(13))}))}(n)}catch(s){i=s}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},s=0;s<a.length;s++){var c=a[s],u=n[c],l=e[c],d=u(l,t);if("undefined"===typeof d){t&&t.type;throw new Error(ft(14))}o[c]=d,r=r||d!==l}return(r=r||a.length!==Object.keys(e).length)?o:e}}function Et(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Ct(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(ft(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return r=Et.apply(void 0,i)(n.dispatch),pt(pt({},n),{},{dispatch:r})}}}function _t(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"===typeof o?o(n,r,e):t(o)}}}}var St=_t();St.withExtraArgument=_t;var Tt=St,It=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kt=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},At=Object.defineProperty,Rt=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Pt=Object.prototype.hasOwnProperty,Nt=Object.prototype.propertyIsEnumerable,Ot=function(e,t,n){return t in e?At(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Mt=function(e,t){for(var n in t||(t={}))Pt.call(t,n)&&Ot(e,n,t[n]);if(Rt)for(var r=0,o=Rt(t);r<o.length;r++){n=o[r];Nt.call(t,n)&&Ot(e,n,t[n])}return e},xt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Et:Et.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ut(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Lt=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return It(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,kt([void 0],e[0].concat(this)))):new(t.bind.apply(t,kt([void 0],e.concat(this))))},t}(Array);function Dt(e){return he(e)?lt(e,(function(){})):e}function qt(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Lt);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Tt.withExtraArgument(n.extraArgument)):r.push(Tt));0;return r}(e)}}function Ht(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return Mt(Mt({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Ft(e){var t,n={},r=[],o={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,o},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),o},addDefaultCase:function(e){return t=e,o}};return e(o),[n,r,t]}Object.assign;var zt="listenerMiddleware";Ht(zt+"/add"),Ht(zt+"/removeAll"),Ht(zt+"/remove");Ge();var jt="ML_LOGIN_ACCESS_TOKEN",Kt=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Dt(e.initialState),o=e.reducers||{},i=Object.keys(o),a={},s={},c={};function u(){var t="function"===typeof e.extraReducers?Ft(e.extraReducers):[e.extraReducers],n=t[0],o=void 0===n?{}:n,i=t[1],a=void 0===i?[]:i,c=t[2],u=void 0===c?void 0:c,l=Mt(Mt({},o),s);return function(e,t,n,r){void 0===n&&(n=[]);var o,i="function"===typeof t?Ft(t):[t,n,r],a=i[0],s=i[1],c=i[2];if(function(e){return"function"===typeof e}(e))o=function(){return Dt(e())};else{var u=Dt(e);o=function(){return u}}function l(e,t){void 0===e&&(e=o());var n=kt([a[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[c]),n.reduce((function(e,n){if(n){var r;if(de(e))return void 0===(r=n(e,t))?e:r;if(he(e))return lt(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=o,l}(r,l,a,u)}return i.forEach((function(e){var n,r,i=o[e],u=t+"/"+e;"reducer"in i?(n=i.reducer,r=i.prepare):n=i,a[e]=n,s[u]=n,c[e]=r?Ht(u,r):Ht(u)})),{name:t,reducer:function(e,t){return n||(n=u()),n(e,t)},actions:c,caseReducers:a,getInitialState:function(){return n||(n=u()),n.getInitialState()}}}({name:"user",initialState:{user:{username:null,name:null},accessToken:null,instance:null},reducers:{login:function(e,t){var n=t.payload,r=n.tokenClaim,o=n.token,i=n.instance;console.log(r),e.accessToken=o,e.instance=i,localStorage.setItem(jt,o),e.user={username:r.preferred_username,name:r.name}},logout:function(e,t){e.user={username:null,name:null},e.accessToken=null,localStorage.setItem(jt,"null"),e.instance.clearCache()}}}),Bt=Kt.actions,Gt=Bt.login,Wt=Bt.logout,Vt=Kt.reducer,Yt=n(184),Qt=function(){var t=S(),n=ne(),r=f((function(e){return e.user})).user;return(0,e.useEffect)((function(){r.name||n("/signin")}),[]),(0,Yt.jsxs)("div",{children:[(0,Yt.jsx)("p",{className:"text-3xl font-thin",children:"Welcome"}),(0,Yt.jsx)("p",{className:"text-5xl",children:r.name}),(0,Yt.jsxs)("div",{className:"flex gap-2 mx-auto mt-5 items-center border p-1 px-2 hover:bg-slate-700 hover:text-slate-100 hover:rounded-md transition-all w-max",onClick:function(){t(Wt()),n("/signin")},children:[(0,Yt.jsx)("img",{className:"w-6",src:"./assets/images/logo.png",alt:"signout"}),(0,Yt.jsx)("p",{children:"sign out"})]})]})},Jt=function(){return(0,Yt.jsx)("div",{className:"flex justify-center items-center h-screen flex-col text-center bg-slate-50",children:(0,Yt.jsx)(Qt,{})})},$t=n(28),Xt=n.n($t),Zt=function(){var t=S(),n=ne(),r=k((0,e.useState)(),2),o=(r[0],r[1]);return(0,Yt.jsxs)("div",{className:"drop-shadow-2xl flex justify-center items-center flex-col py-24 bg-slate-50 px-5 rounded-lg",children:[(0,Yt.jsx)("img",{className:"w-20 mb-5 p-0",src:"./assets/images/logo.png",alt:"microsoft"}),(0,Yt.jsx)("h1",{className:"text-4xl font-light",children:"Microsoft Login"}),(0,Yt.jsx)("p",{className:"w-80 text-center m-5 font-thin",children:"a simple and intelligent microsoft login that makes it easy to authenticate"}),(0,Yt.jsx)(Xt(),{clientId:"27b80cca-d3c9-4ace-903c-2622533b11d9",authCallback:function(e,r,i){console.log(e),console.log(r),console.log("msal: ",i),r&&(t(Gt({tokenClaim:r.idTokenClaims,token:r.accessToken,instance:i})),o(i),n("/dashboard"))},redirectUri:"http://localhost:3000/dashboard",response_type:"none"})]})},en=function(){return(0,Yt.jsx)("div",{className:"flex h-screen justify-center items-center flex-col bg-slate-100",children:(0,Yt.jsx)(Zt,{})})},tn=function(){var e=ne();return(0,Yt.jsxs)("div",{className:" flex justify-center items-center h-screen flex-col ",children:[(0,Yt.jsx)("p",{className:"text-4xl font-bold",children:"404"}),(0,Yt.jsx)("p",{children:"page not found"}),(0,Yt.jsx)("button",{className:" py-1 px-5 m-3 border transition-all border-cyan-500 hover:rounded-md hover:bg-cyan-500 hover:text-slate-100",onClick:function(){return e(-1)},children:"go back"})]})};var nn=function(){return(0,Yt.jsx)(ue,{children:(0,Yt.jsxs)(se,{children:[(0,Yt.jsx)(ie,{index:!0,path:"/",element:(0,Yt.jsx)(oe,{to:"/signin"})}),(0,Yt.jsx)(ie,{path:"/signin",element:(0,Yt.jsx)(en,{})}),(0,Yt.jsx)(ie,{path:"/dashboard",element:(0,Yt.jsx)(Jt,{})}),(0,Yt.jsx)(ie,{path:"*",element:(0,Yt.jsx)(tn,{})})]})})},rn=function(e,t){return rn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},rn(e,t)};function on(e,t){function n(){this.constructor=e}rn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var an,sn,cn=function(){return cn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},cn.apply(this,arguments)};function un(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function ln(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function dn(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function hn(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(dn(arguments[t]));return e}!function(e){e.AcquireTokenByCode="acquireTokenByCode",e.AcquireTokenByRefreshToken="acquireTokenByRefreshToken",e.AcquireTokenSilent="acquireTokenSilent",e.AcquireTokenSilentAsync="acquireTokenSilentAsync",e.AcquireTokenPopup="acquireTokenPopup",e.CryptoOptsGetPublicKeyThumbprint="cryptoOptsGetPublicKeyThumbprint",e.CryptoOptsSignJwt="cryptoOptsSignJwt",e.SilentCacheClientAcquireToken="silentCacheClientAcquireToken",e.SilentIframeClientAcquireToken="silentIframeClientAcquireToken",e.SilentRefreshClientAcquireToken="silentRefreshClientAcquireToken",e.SsoSilent="ssoSilent",e.StandardInteractionClientGetDiscoveredAuthority="standardInteractionClientGetDiscoveredAuthority",e.FetchAccountIdWithNativeBroker="fetchAccountIdWithNativeBroker",e.NativeInteractionClientAcquireToken="nativeInteractionClientAcquireToken",e.RefreshTokenClientExecuteTokenRequest="refreshTokenClientExecuteTokenRequest",e.BaseClientCreateTokenRequestHeaders="baseClientCreateTokenRequestHeaders",e.BrokerHandhshake="brokerHandshake",e.AcquireTokenByRefreshTokenInBroker="acquireTokenByRefreshTokenInBroker",e.AcquireTokenByBroker="acquireTokenByBroker"}(an||(an={})),function(e){e[e.NotStarted=0]="NotStarted",e[e.InProgress=1]="InProgress",e[e.Completed=2]="Completed"}(sn||(sn={}));var pn=function(e,t){return pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},pn(e,t)};function fn(e,t){function n(){this.constructor=e}pn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var gn=function(){return gn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},gn.apply(this,arguments)};function mn(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function vn(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function yn(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var bn,wn,En,Cn,_n,Sn={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240},Tn=[Sn.OPENID_SCOPE,Sn.PROFILE_SCOPE,Sn.OFFLINE_ACCESS_SCOPE],In=yn(Tn,[Sn.EMAIL_SCOPE]);!function(e){e.CONTENT_TYPE="Content-Type",e.RETRY_AFTER="Retry-After",e.CCS_HEADER="X-AnchorMailbox",e.WWWAuthenticate="WWW-Authenticate",e.AuthenticationInfo="Authentication-Info"}(bn||(bn={})),function(e){e.ID_TOKEN="idtoken",e.CLIENT_INFO="client.info",e.ADAL_ID_TOKEN="adal.idtoken",e.ERROR="error",e.ERROR_DESC="error.description",e.ACTIVE_ACCOUNT="active-account",e.ACTIVE_ACCOUNT_FILTERS="active-account-filters"}(wn||(wn={})),function(e){e.COMMON="common",e.ORGANIZATIONS="organizations",e.CONSUMERS="consumers"}(En||(En={})),function(e){e.CLIENT_ID="client_id",e.REDIRECT_URI="redirect_uri",e.RESPONSE_TYPE="response_type",e.RESPONSE_MODE="response_mode",e.GRANT_TYPE="grant_type",e.CLAIMS="claims",e.SCOPE="scope",e.ERROR="error",e.ERROR_DESCRIPTION="error_description",e.ACCESS_TOKEN="access_token",e.ID_TOKEN="id_token",e.REFRESH_TOKEN="refresh_token",e.EXPIRES_IN="expires_in",e.STATE="state",e.NONCE="nonce",e.PROMPT="prompt",e.SESSION_STATE="session_state",e.CLIENT_INFO="client_info",e.CODE="code",e.CODE_CHALLENGE="code_challenge",e.CODE_CHALLENGE_METHOD="code_challenge_method",e.CODE_VERIFIER="code_verifier",e.CLIENT_REQUEST_ID="client-request-id",e.X_CLIENT_SKU="x-client-SKU",e.X_CLIENT_VER="x-client-VER",e.X_CLIENT_OS="x-client-OS",e.X_CLIENT_CPU="x-client-CPU",e.X_CLIENT_CURR_TELEM="x-client-current-telemetry",e.X_CLIENT_LAST_TELEM="x-client-last-telemetry",e.X_MS_LIB_CAPABILITY="x-ms-lib-capability",e.X_APP_NAME="x-app-name",e.X_APP_VER="x-app-ver",e.POST_LOGOUT_URI="post_logout_redirect_uri",e.ID_TOKEN_HINT="id_token_hint",e.DEVICE_CODE="device_code",e.CLIENT_SECRET="client_secret",e.CLIENT_ASSERTION="client_assertion",e.CLIENT_ASSERTION_TYPE="client_assertion_type",e.TOKEN_TYPE="token_type",e.REQ_CNF="req_cnf",e.OBO_ASSERTION="assertion",e.REQUESTED_TOKEN_USE="requested_token_use",e.ON_BEHALF_OF="on_behalf_of",e.FOCI="foci",e.CCS_HEADER="X-AnchorMailbox",e.RETURN_SPA_CODE="return_spa_code",e.NATIVE_BROKER="nativebroker",e.LOGOUT_HINT="logout_hint"}(Cn||(Cn={})),function(e){e.ACCESS_TOKEN="access_token",e.XMS_CC="xms_cc"}(_n||(_n={}));var kn,An={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create"};!function(e){e.ACCOUNT="account",e.SID="sid",e.LOGIN_HINT="login_hint",e.ID_TOKEN="id_token",e.DOMAIN_HINT="domain_hint",e.ORGANIZATIONS="organizations",e.CONSUMERS="consumers",e.ACCOUNT_ID="accountIdentifier",e.HOMEACCOUNT_ID="homeAccountIdentifier"}(kn||(kn={}));var Rn,Pn,Nn,On,Mn,xn,Un,Ln={PLAIN:"plain",S256:"S256"};!function(e){e.QUERY="query",e.FRAGMENT="fragment",e.FORM_POST="form_post"}(Rn||(Rn={})),function(e){e.IMPLICIT_GRANT="implicit",e.AUTHORIZATION_CODE_GRANT="authorization_code",e.CLIENT_CREDENTIALS_GRANT="client_credentials",e.RESOURCE_OWNER_PASSWORD_GRANT="password",e.REFRESH_TOKEN_GRANT="refresh_token",e.DEVICE_CODE_GRANT="device_code",e.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer"}(Pn||(Pn={})),function(e){e.MSSTS_ACCOUNT_TYPE="MSSTS",e.ADFS_ACCOUNT_TYPE="ADFS",e.MSAV1_ACCOUNT_TYPE="MSA",e.GENERIC_ACCOUNT_TYPE="Generic"}(Nn||(Nn={})),function(e){e.CACHE_KEY_SEPARATOR="-",e.CLIENT_INFO_SEPARATOR="."}(On||(On={})),function(e){e.ID_TOKEN="IdToken",e.ACCESS_TOKEN="AccessToken",e.ACCESS_TOKEN_WITH_AUTH_SCHEME="AccessToken_With_AuthScheme",e.REFRESH_TOKEN="RefreshToken"}(Mn||(Mn={})),function(e){e.ACCOUNT="Account",e.CREDENTIAL="Credential",e.ID_TOKEN="IdToken",e.ACCESS_TOKEN="AccessToken",e.REFRESH_TOKEN="RefreshToken",e.APP_METADATA="AppMetadata",e.TEMPORARY="TempCache",e.TELEMETRY="Telemetry",e.UNDEFINED="Undefined",e.THROTTLING="Throttling"}(xn||(xn={})),function(e){e[e.ADFS=1001]="ADFS",e[e.MSA=1002]="MSA",e[e.MSSTS=1003]="MSSTS",e[e.GENERIC=1004]="GENERIC",e[e.ACCESS_TOKEN=2001]="ACCESS_TOKEN",e[e.REFRESH_TOKEN=2002]="REFRESH_TOKEN",e[e.ID_TOKEN=2003]="ID_TOKEN",e[e.APP_METADATA=3001]="APP_METADATA",e[e.UNDEFINED=9999]="UNDEFINED"}(Un||(Un={}));var Dn,qn="appmetadata",Hn="1",Fn="authority-metadata",zn=86400;!function(e){e.CONFIG="config",e.CACHE="cache",e.NETWORK="network",e.HARDCODED_VALUES="hardcoded_values"}(Dn||(Dn={}));var jn,Kn={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"};!function(e){e.BEARER="Bearer",e.POP="pop",e.SSH="ssh-cert"}(jn||(jn={}));var Bn,Gn,Wn,Vn,Yn,Qn,Jn=60,$n=3600,Xn="throttling",Zn="retry-after, h429",er="invalid_grant",tr="client_mismatch";!function(e){e.username="username",e.password="password"}(Bn||(Bn={})),function(e){e[e.httpSuccess=200]="httpSuccess",e[e.httpBadRequest=400]="httpBadRequest"}(Gn||(Gn={})),function(e){e.FAILED_AUTO_DETECTION="1",e.INTERNAL_CACHE="2",e.ENVIRONMENT_VARIABLE="3",e.IMDS="4"}(Wn||(Wn={})),function(e){e.CONFIGURED_MATCHES_DETECTED="1",e.CONFIGURED_NO_AUTO_DETECTION="2",e.CONFIGURED_NOT_DETECTED="3",e.AUTO_DETECTION_REQUESTED_SUCCESSFUL="4",e.AUTO_DETECTION_REQUESTED_FAILED="5"}(Vn||(Vn={})),function(e){e.NO_CACHE_HIT="0",e.FORCE_REFRESH="1",e.NO_CACHED_ACCESS_TOKEN="2",e.CACHED_ACCESS_TOKEN_EXPIRED="3",e.REFRESH_CACHED_ACCESS_TOKEN="4"}(Yn||(Yn={})),function(e){e.Jwt="JWT",e.Jwk="JWK"}(Qn||(Qn={}));var nr,rr,or,ir,ar,sr,cr,ur,lr="invalid_grant",dr=483,hr=600,pr="msal",fr=50,gr="msal.js.browser",mr="53ee284d-920a-4b59-9d30-a60315b26836",vr="ppnbnpeolgkicgegkbkbjmhlideopiji",yr="MATS";!function(e){e.HandshakeRequest="Handshake",e.HandshakeResponse="HandshakeResponse",e.GetToken="GetToken",e.Response="Response"}(nr||(nr={})),function(e){e.LocalStorage="localStorage",e.SessionStorage="sessionStorage",e.MemoryStorage="memoryStorage"}(rr||(rr={})),function(e){e.GET="GET",e.POST="POST"}(or||(or={})),function(e){e.AUTHORITY="authority",e.ACQUIRE_TOKEN_ACCOUNT="acquireToken.account",e.SESSION_STATE="session.state",e.REQUEST_STATE="request.state",e.NONCE_IDTOKEN="nonce.id_token",e.ORIGIN_URI="request.origin",e.RENEW_STATUS="token.renew.status",e.URL_HASH="urlHash",e.REQUEST_PARAMS="request.params",e.SCOPES="scopes",e.INTERACTION_STATUS_KEY="interaction.status",e.CCS_CREDENTIAL="ccs.credential",e.CORRELATION_ID="request.correlationId",e.NATIVE_REQUEST="request.native"}(ir||(ir={})),function(e){e.WRAPPER_SKU="wrapper.sku",e.WRAPPER_VER="wrapper.version"}(ar||(ar={})),function(e){e[e.acquireTokenRedirect=861]="acquireTokenRedirect",e[e.acquireTokenPopup=862]="acquireTokenPopup",e[e.ssoSilent=863]="ssoSilent",e[e.acquireTokenSilent_authCode=864]="acquireTokenSilent_authCode",e[e.handleRedirectPromise=865]="handleRedirectPromise",e[e.acquireTokenByCode=866]="acquireTokenByCode",e[e.acquireTokenSilent_silentFlow=61]="acquireTokenSilent_silentFlow",e[e.logout=961]="logout",e[e.logoutPopup=962]="logoutPopup"}(sr||(sr={})),function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(cr||(cr={})),function(e){e.Startup="startup",e.Login="login",e.Logout="logout",e.AcquireToken="acquireToken",e.SsoSilent="ssoSilent",e.HandleRedirect="handleRedirect",e.None="none"}(ur||(ur={}));var br,wr={scopes:Tn},Er="jwk";!function(e){e.React="@azure/msal-react",e.Angular="@azure/msal-angular"}(br||(br={}));var Cr,_r="msal.db",Sr={code:"unexpected_error",desc:"Unexpected error in authentication."},Tr={code:"post_request_failed",desc:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."},Ir=function(e){function t(n,r,o){var i=this,a=r?n+": "+r:n;return i=e.call(this,a)||this,Object.setPrototypeOf(i,t.prototype),i.errorCode=n||Sn.EMPTY_STRING,i.errorMessage=r||Sn.EMPTY_STRING,i.subError=o||Sn.EMPTY_STRING,i.name="AuthError",i}return fn(t,e),t.prototype.setCorrelationId=function(e){this.correlationId=e},t.createUnexpectedError=function(e){return new t(Sr.code,Sr.desc+": "+e)},t.createPostRequestFailed=function(e){return new t(Tr.code,Tr.desc+": "+e)},t}(Error),kr={code:"missing_kid_error",desc:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided."},Ar={code:"missing_alg_error",desc:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."},Rr=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.name="JoseHeaderError",Object.setPrototypeOf(o,t.prototype),o}return fn(t,e),t.createMissingKidError=function(){return new t(kr.code,kr.desc)},t.createMissingAlgError=function(){return new t(Ar.code,Ar.desc)},t}(Ir),Pr=function(){function e(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}return e.getShrHeaderString=function(t){if(!t.kid)throw Rr.createMissingKidError();if(!t.alg)throw Rr.createMissingAlgError();var n=new e({typ:t.typ||Qn.Jwt,kid:t.kid,alg:t.alg});return JSON.stringify(n)},e}(),Nr=function(){function e(){}return e.decimalToHex=function(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t},e}(),Or=function(){function e(e){this.cryptoObj=e}return e.prototype.generateGuid=function(){try{var e=new Uint8Array(16);return this.cryptoObj.getRandomValues(e),e[6]|=64,e[6]&=79,e[8]|=128,e[8]&=191,Nr.decimalToHex(e[0])+Nr.decimalToHex(e[1])+Nr.decimalToHex(e[2])+Nr.decimalToHex(e[3])+"-"+Nr.decimalToHex(e[4])+Nr.decimalToHex(e[5])+"-"+Nr.decimalToHex(e[6])+Nr.decimalToHex(e[7])+"-"+Nr.decimalToHex(e[8])+Nr.decimalToHex(e[9])+"-"+Nr.decimalToHex(e[10])+Nr.decimalToHex(e[11])+Nr.decimalToHex(e[12])+Nr.decimalToHex(e[13])+Nr.decimalToHex(e[14])+Nr.decimalToHex(e[15])}catch(a){for(var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",n="0123456789abcdef",r=0,o=Sn.EMPTY_STRING,i=0;i<36;i++)"-"!==t[i]&&"4"!==t[i]&&(r=16*Math.random()|0),"x"===t[i]?o+=n[r]:"y"===t[i]?(r&=3,o+=n[r|=8]):o+=t[i];return o}},e.prototype.isGuid=function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},e}(),Mr=function(){function e(){}return e.stringToUtf8Arr=function(e){for(var t,n=0,r=e.length,o=0;o<r;o++)n+=(t=e.charCodeAt(o))<128?1:t<2048?2:t<65536?3:t<2097152?4:t<67108864?5:6;for(var i=new Uint8Array(n),a=0,s=0;a<n;s++)(t=e.charCodeAt(s))<128?i[a++]=t:t<2048?(i[a++]=192+(t>>>6),i[a++]=128+(63&t)):t<65536?(i[a++]=224+(t>>>12),i[a++]=128+(t>>>6&63),i[a++]=128+(63&t)):t<2097152?(i[a++]=240+(t>>>18),i[a++]=128+(t>>>12&63),i[a++]=128+(t>>>6&63),i[a++]=128+(63&t)):t<67108864?(i[a++]=248+(t>>>24),i[a++]=128+(t>>>18&63),i[a++]=128+(t>>>12&63),i[a++]=128+(t>>>6&63),i[a++]=128+(63&t)):(i[a++]=252+(t>>>30),i[a++]=128+(t>>>24&63),i[a++]=128+(t>>>18&63),i[a++]=128+(t>>>12&63),i[a++]=128+(t>>>6&63),i[a++]=128+(63&t));return i},e.stringToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return t},e.utf8ArrToString=function(e){for(var t=Sn.EMPTY_STRING,n=void 0,r=e.length,o=0;o<r;o++)n=e[o],t+=String.fromCharCode(n>251&&n<254&&o+5<r?1073741824*(n-252)+(e[++o]-128<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:n>247&&n<252&&o+4<r?(n-248<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:n>239&&n<248&&o+3<r?(n-240<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:n>223&&n<240&&o+2<r?(n-224<<12)+(e[++o]-128<<6)+e[++o]-128:n>191&&n<224&&o+1<r?(n-192<<6)+e[++o]-128:n);return t},e}(),xr=function(){function e(){}return e.prototype.urlEncode=function(e){return encodeURIComponent(this.encode(e).replace(/=/g,Sn.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_"))},e.prototype.urlEncodeArr=function(e){return this.base64EncArr(e).replace(/=/g,Sn.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")},e.prototype.encode=function(e){var t=Mr.stringToUtf8Arr(e);return this.base64EncArr(t)},e.prototype.base64EncArr=function(e){for(var t=(3-e.length%3)%3,n=Sn.EMPTY_STRING,r=void 0,o=e.length,i=0,a=0;a<o;a++)r=a%3,i|=e[a]<<(16>>>r&24),2!==r&&e.length-a!==1||(n+=String.fromCharCode(this.uint6ToB64(i>>>18&63),this.uint6ToB64(i>>>12&63),this.uint6ToB64(i>>>6&63),this.uint6ToB64(63&i)),i=0);return 0===t?n:n.substring(0,n.length-t)+(1===t?"=":"==")},e.prototype.uint6ToB64=function(e){return e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:65},e}(),Ur=function(){function e(){}return e.prototype.decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Invalid base64 string")}var n=this.base64DecToArr(t);return Mr.utf8ArrToString(n)},e.prototype.base64DecToArr=function(e,t){for(var n=e.replace(/[^A-Za-z0-9\+\/]/g,Sn.EMPTY_STRING),r=n.length,o=t?Math.ceil((3*r+1>>>2)/t)*t:3*r+1>>>2,i=new Uint8Array(o),a=void 0,s=void 0,c=0,u=0,l=0;l<r;l++)if(s=3&l,c|=this.b64ToUint6(n.charCodeAt(l))<<18-6*s,3===s||r-l===1){for(a=0;a<3&&u<o;a++,u++)i[u]=c>>>(16>>>a&24)&255;c=0}return i},e.prototype.b64ToUint6=function(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0},e}(),Lr={code:"client_info_decoding_error",desc:"The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause."},Dr={code:"client_info_empty_error",desc:"The client info was empty. Please review the trace to determine the root cause."},qr={code:"token_parsing_error",desc:"Token cannot be parsed. Please review stack trace to determine root cause."},Hr={code:"null_or_empty_token",desc:"The token is null or empty. Please review the trace to determine the root cause."},Fr={code:"endpoints_resolution_error",desc:"Error: could not resolve endpoints. Please check network and try again."},zr={code:"network_error",desc:"Network request failed. Please check network trace to determine root cause."},jr={code:"openid_config_error",desc:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints."},Kr={code:"hash_not_deserialized",desc:"The hash parameters could not be deserialized. Please review the trace to determine the root cause."},Br={code:"invalid_state",desc:"State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState()."},Gr={code:"state_mismatch",desc:"State mismatch error. Please check your network. Continued requests may cause cache overflow."},Wr={code:"state_not_found",desc:"State not found"},Vr={code:"nonce_mismatch",desc:"Nonce mismatch error. This may be caused by a race condition in concurrent requests."},Yr={code:"nonce_not_found",desc:"nonce not found"},Qr={code:"multiple_matching_tokens",desc:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account."},Jr={code:"multiple_matching_accounts",desc:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account"},$r={code:"multiple_matching_appMetadata",desc:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata"},Xr={code:"request_cannot_be_made",desc:"Token request cannot be made without authorization code or refresh token."},Zr={code:"cannot_append_empty_scope",desc:"Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info."},eo={code:"cannot_remove_empty_scope",desc:"Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info."},to={code:"cannot_append_scopeset",desc:"Cannot append ScopeSet due to error."},no={code:"empty_input_scopeset",desc:"Empty input ScopeSet cannot be processed."},ro={code:"device_code_polling_cancelled",desc:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true."},oo={code:"device_code_expired",desc:"Device code is expired."},io={code:"device_code_unknown_error",desc:"Device code stopped polling for unknown reasons."},ao={code:"no_account_in_silent_request",desc:"Please pass an account object, silent flow is not supported without account information"},so={code:"invalid_cache_record",desc:"Cache record object was null or undefined."},co={code:"invalid_cache_environment",desc:"Invalid environment when attempting to create cache entry"},uo={code:"no_account_found",desc:"No account found in cache for given key."},lo={code:"no cache plugin set on CacheManager",desc:"ICachePlugin needs to be set before using readFromStorage or writeFromStorage"},ho={code:"no_crypto_object",desc:"No crypto object detected. This is required for the following operation: "},po={code:"invalid_cache_type",desc:"Invalid cache type"},fo={code:"unexpected_account_type",desc:"Unexpected account type."},go={code:"unexpected_credential_type",desc:"Unexpected credential type."},mo={code:"invalid_assertion",desc:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515"},vo={code:"invalid_client_credential",desc:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential"},yo={code:"token_refresh_required",desc:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired."},bo={code:"user_timeout_reached",desc:"User defined timeout for device code polling reached"},wo={code:"token_claims_cnf_required_for_signedjwt",desc:"Cannot generate a POP jwt if the token_claims are not populated"},Eo={code:"authorization_code_missing_from_server_response",desc:"Server response does not contain an authorization code to proceed"},Co={code:"binding_key_not_removed",desc:"Could not remove the credential's binding key from storage."},_o={code:"end_session_endpoint_not_supported",desc:"Provided authority does not support logout."},So={code:"key_id_missing",desc:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key."},To=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.name="ClientAuthError",Object.setPrototypeOf(o,t.prototype),o}return fn(t,e),t.createClientInfoDecodingError=function(e){return new t(Lr.code,Lr.desc+" Failed with error: "+e)},t.createClientInfoEmptyError=function(){return new t(Dr.code,""+Dr.desc)},t.createTokenParsingError=function(e){return new t(qr.code,qr.desc+" Failed with error: "+e)},t.createTokenNullOrEmptyError=function(e){return new t(Hr.code,Hr.desc+" Raw Token Value: "+e)},t.createEndpointDiscoveryIncompleteError=function(e){return new t(Fr.code,Fr.desc+" Detail: "+e)},t.createNetworkError=function(e,n){return new t(zr.code,zr.desc+" | Fetch client threw: "+n+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToGetOpenidConfigError=function(e){return new t(jr.code,jr.desc+" Attempted to retrieve endpoints from: "+e)},t.createHashNotDeserializedError=function(e){return new t(Kr.code,Kr.desc+" Given Object: "+e)},t.createInvalidStateError=function(e,n){return new t(Br.code,Br.desc+" Invalid State: "+e+", Root Err: "+n)},t.createStateMismatchError=function(){return new t(Gr.code,Gr.desc)},t.createStateNotFoundError=function(e){return new t(Wr.code,Wr.desc+":  "+e)},t.createNonceMismatchError=function(){return new t(Vr.code,Vr.desc)},t.createNonceNotFoundError=function(e){return new t(Yr.code,Yr.desc+":  "+e)},t.createMultipleMatchingTokensInCacheError=function(){return new t(Qr.code,Qr.desc+".")},t.createMultipleMatchingAccountsInCacheError=function(){return new t(Jr.code,Jr.desc)},t.createMultipleMatchingAppMetadataInCacheError=function(){return new t($r.code,$r.desc)},t.createTokenRequestCannotBeMadeError=function(){return new t(Xr.code,Xr.desc)},t.createAppendEmptyScopeToSetError=function(e){return new t(Zr.code,Zr.desc+" Given Scope: "+e)},t.createRemoveEmptyScopeFromSetError=function(e){return new t(eo.code,eo.desc+" Given Scope: "+e)},t.createAppendScopeSetError=function(e){return new t(to.code,to.desc+" Detail Error: "+e)},t.createEmptyInputScopeSetError=function(){return new t(no.code,""+no.desc)},t.createDeviceCodeCancelledError=function(){return new t(ro.code,""+ro.desc)},t.createDeviceCodeExpiredError=function(){return new t(oo.code,""+oo.desc)},t.createDeviceCodeUnknownError=function(){return new t(io.code,""+io.desc)},t.createNoAccountInSilentRequestError=function(){return new t(ao.code,""+ao.desc)},t.createNullOrUndefinedCacheRecord=function(){return new t(so.code,so.desc)},t.createInvalidCacheEnvironmentError=function(){return new t(co.code,co.desc)},t.createNoAccountFoundError=function(){return new t(uo.code,uo.desc)},t.createCachePluginError=function(){return new t(lo.code,""+lo.desc)},t.createNoCryptoObjectError=function(e){return new t(ho.code,""+ho.desc+e)},t.createInvalidCacheTypeError=function(){return new t(po.code,""+po.desc)},t.createUnexpectedAccountTypeError=function(){return new t(fo.code,""+fo.desc)},t.createUnexpectedCredentialTypeError=function(){return new t(go.code,""+go.desc)},t.createInvalidAssertionError=function(){return new t(mo.code,""+mo.desc)},t.createInvalidCredentialError=function(){return new t(vo.code,""+vo.desc)},t.createRefreshRequiredError=function(){return new t(yo.code,yo.desc)},t.createUserTimeoutReachedError=function(){return new t(bo.code,bo.desc)},t.createTokenClaimsRequiredError=function(){return new t(wo.code,wo.desc)},t.createNoAuthCodeInServerResponseError=function(){return new t(Eo.code,Eo.desc)},t.createBindingKeyNotRemovedError=function(){return new t(Co.code,Co.desc)},t.createLogoutNotSupportedError=function(){return new t(_o.code,_o.desc)},t.createKeyIdMissingError=function(){return new t(So.code,So.desc)},t}(Ir),Io=function(){function e(){}return e.decodeAuthToken=function(t){if(e.isEmpty(t))throw To.createTokenNullOrEmptyError(t);var n=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!n||n.length<4)throw To.createTokenParsingError("Given token is malformed: "+JSON.stringify(t));return{header:n[1],JWSPayload:n[2],JWSSig:n[3]}},e.isEmpty=function(e){return"undefined"===typeof e||!e||0===e.length},e.isEmptyObj=function(t){if(t&&!e.isEmpty(t))try{var n=JSON.parse(t);return 0===Object.keys(n).length}catch(r){}return!0},e.startsWith=function(e,t){return 0===e.indexOf(t)},e.endsWith=function(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length},e.queryStringToObject=function(e){var t={},n=e.split("&"),r=function(e){return decodeURIComponent(e.replace(/\+/g," "))};return n.forEach((function(e){if(e.trim()){var n=e.split(/=(.+)/g,2),o=n[0],i=n[1];o&&i&&(t[r(o)]=r(i))}})),t},e.trimArrayEntries=function(e){return e.map((function(e){return e.trim()}))},e.removeEmptyStringsFromArray=function(t){return t.filter((function(t){return!e.isEmpty(t)}))},e.jsonParseHelper=function(e){try{return JSON.parse(e)}catch(t){return null}},e.matchPattern=function(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)},e}(),ko={code:"pkce_not_created",desc:"The PKCE code challenge and verifier could not be generated."},Ao={code:"crypto_nonexistent",desc:"The crypto object or function is not available."},Ro={code:"http_method_not_implemented",desc:"The HTTP method given has not been implemented in this library."},Po={code:"empty_navigate_uri",desc:"Navigation URI is empty. Please check stack trace for more info."},No={code:"hash_empty_error",desc:"Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. For more visit: aka.ms/msaljs/browser-errors."},Oo={code:"no_state_in_hash",desc:"Hash does not contain state. Please verify that the request originated from msal."},Mo={code:"hash_does_not_contain_known_properties",desc:"Hash does not contain known properites. Please verify that your redirectUri is not changing the hash. For more visit: aka.ms/msaljs/browser-errors."},xo={code:"unable_to_parse_state",desc:"Unable to parse state. Please verify that the request originated from msal."},Uo={code:"state_interaction_type_mismatch",desc:"Hash contains state but the interaction type does not match the caller."},Lo={code:"interaction_in_progress",desc:"Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.  For more visit: aka.ms/msaljs/browser-errors."},Do={code:"popup_window_error",desc:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser."},qo={code:"empty_window_error",desc:"window.open returned null or undefined window object."},Ho={code:"user_cancelled",desc:"User cancelled the flow."},Fo={code:"monitor_window_timeout",desc:"Token acquisition in popup failed due to timeout. For more visit: aka.ms/msaljs/browser-errors."},zo={code:"monitor_window_timeout",desc:"Token acquisition in iframe failed due to timeout. For more visit: aka.ms/msaljs/browser-errors."},jo={code:"redirect_in_iframe",desc:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs."},Ko={code:"block_iframe_reload",desc:"Request was blocked inside an iframe because MSAL detected an authentication response. For more visit: aka.ms/msaljs/browser-errors"},Bo={code:"block_nested_popups",desc:"Request was blocked inside a popup because MSAL detected it was running in a popup."},Go={code:"iframe_closed_prematurely",desc:"The iframe being monitored was closed prematurely."},Wo={code:"silent_logout_unsupported",desc:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead."},Vo={code:"no_account_error",desc:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request."},Yo={code:"silent_prompt_value_error",desc:"The value given for the prompt value is not valid for silent requests - must be set to 'none'."},Qo={code:"no_token_request_cache_error",desc:"No token request found in cache."},Jo={code:"unable_to_parse_token_request_cache_error",desc:"The cached token request could not be parsed."},$o={code:"no_cached_authority_error",desc:"No cached authority found."},Xo={code:"auth_request_not_set_error",desc:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler"},Zo={code:"invalid_cache_type",desc:"Invalid cache type"},ei={code:"non_browser_environment",desc:"Login and token requests are not supported in non-browser environments."},ti={code:"database_not_open",desc:"Database is not open!"},ni={code:"no_network_connectivity",desc:"No network connectivity. Check your internet connection."},ri={code:"post_request_failed",desc:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'"},oi={code:"get_request_failed",desc:"Network request failed. Please check the network trace to determine root cause."},ii={code:"failed_to_parse_response",desc:"Failed to parse network response. Check network trace."},ai={code:"unable_to_load_token",desc:"Error loading token to cache."},si={code:"crypto_key_not_found",desc:"Cryptographic Key or Keypair not found in browser storage."},ci={code:"auth_code_required",desc:"An authorization code must be provided (as the `code` property on the request) to this flow."},ui={code:"auth_code_or_nativeAccountId_required",desc:"An authorization code or nativeAccountId must be provided to this flow."},li={code:"database_unavailable",desc:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts."},di={code:"unable_to_acquire_token_from_native_platform",desc:"Unable to acquire token from native platform. For a list of possible reasons visit aka.ms/msaljs/browser-errors."},hi={code:"native_handshake_timeout",desc:"Timed out while attempting to establish connection to browser extension"},pi={code:"native_extension_not_installed",desc:"Native extension is not installed. If you think this is a mistake call the initialize function."},fi={code:"native_connection_not_established",desc:"Connection to native platform has not been established. Please install a compatible browser extension and run initialize(). For more please visit aka.ms/msaljs/browser-errors."},gi={code:"native_broker_called_before_initialize",desc:"You must call and await the initialize function before attempting to call any other MSAL API when native brokering is enabled. For more please visit aka.ms/msaljs/browser-errors."},mi={code:"native_prompt_not_supported",desc:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow."},vi=function(e){function t(n,r){var o=e.call(this,n,r)||this;return Object.setPrototypeOf(o,t.prototype),o.name="BrowserAuthError",o}return on(t,e),t.createPkceNotGeneratedError=function(e){return new t(ko.code,ko.desc+" Detail:"+e)},t.createCryptoNotAvailableError=function(e){return new t(Ao.code,Ao.desc+" Detail:"+e)},t.createHttpMethodNotImplementedError=function(e){return new t(Ro.code,Ro.desc+" Given Method: "+e)},t.createEmptyNavigationUriError=function(){return new t(Po.code,Po.desc)},t.createEmptyHashError=function(e){return new t(No.code,No.desc+" Given Url: "+e)},t.createHashDoesNotContainStateError=function(){return new t(Oo.code,Oo.desc)},t.createHashDoesNotContainKnownPropertiesError=function(){return new t(Mo.code,Mo.desc)},t.createUnableToParseStateError=function(){return new t(xo.code,xo.desc)},t.createStateInteractionTypeMismatchError=function(){return new t(Uo.code,Uo.desc)},t.createInteractionInProgressError=function(){return new t(Lo.code,Lo.desc)},t.createPopupWindowError=function(e){var n=Do.desc;return n=Io.isEmpty(e)?n:n+" Details: "+e,new t(Do.code,n)},t.createEmptyWindowCreatedError=function(){return new t(qo.code,qo.desc)},t.createUserCancelledError=function(){return new t(Ho.code,Ho.desc)},t.createMonitorPopupTimeoutError=function(){return new t(Fo.code,Fo.desc)},t.createMonitorIframeTimeoutError=function(){return new t(zo.code,zo.desc)},t.createRedirectInIframeError=function(e){return new t(jo.code,jo.desc+" (window.parent !== window) => "+e)},t.createBlockReloadInHiddenIframeError=function(){return new t(Ko.code,Ko.desc)},t.createBlockAcquireTokenInPopupsError=function(){return new t(Bo.code,Bo.desc)},t.createIframeClosedPrematurelyError=function(){return new t(Go.code,Go.desc)},t.createSilentLogoutUnsupportedError=function(){return new t(Wo.code,Wo.desc)},t.createNoAccountError=function(){return new t(Vo.code,Vo.desc)},t.createSilentPromptValueError=function(e){return new t(Yo.code,Yo.desc+" Given value: "+e)},t.createUnableToParseTokenRequestCacheError=function(){return new t(Jo.code,Jo.desc)},t.createNoTokenRequestCacheError=function(){return new t(Qo.code,Qo.desc)},t.createAuthRequestNotSetError=function(){return new t(Xo.code,Xo.desc)},t.createNoCachedAuthorityError=function(){return new t($o.code,$o.desc)},t.createInvalidCacheTypeError=function(){return new t(Zo.code,""+Zo.desc)},t.createNonBrowserEnvironmentError=function(){return new t(ei.code,ei.desc)},t.createDatabaseNotOpenError=function(){return new t(ti.code,ti.desc)},t.createNoNetworkConnectivityError=function(){return new t(ni.code,ni.desc)},t.createPostRequestFailedError=function(e,n){return new t(ri.code,ri.desc+" | Network client threw: "+e+" | Attempted to reach: "+n.split("?")[0])},t.createGetRequestFailedError=function(e,n){return new t(oi.code,oi.desc+" | Network client threw: "+e+" | Attempted to reach: "+n.split("?")[0])},t.createFailedToParseNetworkResponseError=function(e){return new t(ii.code,ii.desc+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToLoadTokenError=function(e){return new t(ai.code,ai.desc+" | "+e)},t.createSigningKeyNotFoundInStorageError=function(e){return new t(si.code,si.desc+" | No match found for KeyId: "+e)},t.createAuthCodeRequiredError=function(){return new t(ci.code,ci.desc)},t.createAuthCodeOrNativeAccountIdRequiredError=function(){return new t(ui.code,ui.desc)},t.createDatabaseUnavailableError=function(){return new t(li.code,li.desc)},t.createUnableToAcquireTokenFromNativePlatformError=function(){return new t(di.code,di.desc)},t.createNativeHandshakeTimeoutError=function(){return new t(hi.code,hi.desc)},t.createNativeExtensionNotInstalledError=function(){return new t(pi.code,pi.desc)},t.createNativeConnectionNotEstablishedError=function(){return new t(fi.code,fi.desc)},t.createNativeBrokerCalledBeforeInitialize=function(){return new t(gi.code,gi.desc)},t.createNativePromptParameterNotSupportedError=function(){return new t(mi.code,mi.desc)},t}(Ir),yi=function(){function e(e){this.base64Encode=new xr,this.cryptoObj=e}return e.prototype.generateCodes=function(){return un(this,void 0,void 0,(function(){var e,t;return ln(this,(function(n){switch(n.label){case 0:return e=this.generateCodeVerifier(),[4,this.generateCodeChallengeFromVerifier(e)];case 1:return t=n.sent(),[2,{verifier:e,challenge:t}]}}))}))},e.prototype.generateCodeVerifier=function(){try{var e=new Uint8Array(32);return this.cryptoObj.getRandomValues(e),this.base64Encode.urlEncodeArr(e)}catch(t){throw vi.createPkceNotGeneratedError(t)}},e.prototype.generateCodeChallengeFromVerifier=function(e){return un(this,void 0,void 0,(function(){var t,n;return ln(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.cryptoObj.sha256Digest(e)];case 1:return t=r.sent(),[2,this.base64Encode.urlEncodeArr(new Uint8Array(t))];case 2:throw n=r.sent(),vi.createPkceNotGeneratedError(n);case 3:return[2]}}))}))},e}(),bi="SHA-256",wi=new Uint8Array([1,0,1]),Ei=function(){function e(e){if(this.logger=e,!this.hasCryptoAPI())throw vi.createCryptoNotAvailableError("Browser crypto or msCrypto object not available.");this._keygenAlgorithmOptions={name:"RSASSA-PKCS1-v1_5",hash:bi,modulusLength:2048,publicExponent:wi}}return e.prototype.sha256Digest=function(e){return un(this,void 0,void 0,(function(){var t;return ln(this,(function(n){return t=Mr.stringToUtf8Arr(e),[2,this.hasIECrypto()?this.getMSCryptoDigest(bi,t):this.getSubtleCryptoDigest(bi,t)]}))}))},e.prototype.getRandomValues=function(e){var t=window.msCrypto||window.crypto;if(!t.getRandomValues)throw vi.createCryptoNotAvailableError("getRandomValues does not exist.");t.getRandomValues(e)},e.prototype.generateKeyPair=function(e,t){return un(this,void 0,void 0,(function(){return ln(this,(function(n){return[2,this.hasIECrypto()?this.msCryptoGenerateKey(e,t):window.crypto.subtle.generateKey(this._keygenAlgorithmOptions,e,t)]}))}))},e.prototype.exportJwk=function(e){return un(this,void 0,void 0,(function(){return ln(this,(function(t){return[2,this.hasIECrypto()?this.msCryptoExportJwk(e):window.crypto.subtle.exportKey(Er,e)]}))}))},e.prototype.importJwk=function(t,n,r){return un(this,void 0,void 0,(function(){var o,i;return ln(this,(function(a){return o=e.getJwkString(t),i=Mr.stringToArrayBuffer(o),[2,this.hasIECrypto()?this.msCryptoImportKey(i,n,r):window.crypto.subtle.importKey(Er,t,this._keygenAlgorithmOptions,n,r)]}))}))},e.prototype.sign=function(e,t){return un(this,void 0,void 0,(function(){return ln(this,(function(n){return[2,this.hasIECrypto()?this.msCryptoSign(e,t):window.crypto.subtle.sign(this._keygenAlgorithmOptions,e,t)]}))}))},e.prototype.hasCryptoAPI=function(){return this.hasIECrypto()||this.hasBrowserCrypto()},e.prototype.hasIECrypto=function(){return"msCrypto"in window},e.prototype.hasBrowserCrypto=function(){return"crypto"in window},e.prototype.getSubtleCryptoDigest=function(e,t){return un(this,void 0,void 0,(function(){return ln(this,(function(n){return[2,window.crypto.subtle.digest(e,t)]}))}))},e.prototype.getMSCryptoDigest=function(e,t){return un(this,void 0,void 0,(function(){return ln(this,(function(n){return[2,new Promise((function(n,r){var o=window.msCrypto.subtle.digest(e,t.buffer);o.addEventListener("complete",(function(e){n(e.target.result)})),o.addEventListener("error",(function(e){r(e)}))}))]}))}))},e.prototype.msCryptoGenerateKey=function(e,t){return un(this,void 0,void 0,(function(){var n=this;return ln(this,(function(r){return[2,new Promise((function(r,o){var i=window.msCrypto.subtle.generateKey(n._keygenAlgorithmOptions,e,t);i.addEventListener("complete",(function(e){r(e.target.result)})),i.addEventListener("error",(function(e){o(e)}))}))]}))}))},e.prototype.msCryptoExportJwk=function(e){return un(this,void 0,void 0,(function(){return ln(this,(function(t){return[2,new Promise((function(t,n){var r=window.msCrypto.subtle.exportKey(Er,e);r.addEventListener("complete",(function(e){var r=e.target.result,o=Mr.utf8ArrToString(new Uint8Array(r)).replace(/\r/g,Sn.EMPTY_STRING).replace(/\n/g,Sn.EMPTY_STRING).replace(/\t/g,Sn.EMPTY_STRING).split(" ").join(Sn.EMPTY_STRING).replace("\0",Sn.EMPTY_STRING);try{t(JSON.parse(o))}catch(e){n(e)}})),r.addEventListener("error",(function(e){n(e)}))}))]}))}))},e.prototype.msCryptoImportKey=function(e,t,n){return un(this,void 0,void 0,(function(){var r=this;return ln(this,(function(o){return[2,new Promise((function(o,i){var a=window.msCrypto.subtle.importKey(Er,e,r._keygenAlgorithmOptions,t,n);a.addEventListener("complete",(function(e){o(e.target.result)})),a.addEventListener("error",(function(e){i(e)}))}))]}))}))},e.prototype.msCryptoSign=function(e,t){return un(this,void 0,void 0,(function(){var n=this;return ln(this,(function(r){return[2,new Promise((function(r,o){var i=window.msCrypto.subtle.sign(n._keygenAlgorithmOptions,e,t);i.addEventListener("complete",(function(e){r(e.target.result)})),i.addEventListener("error",(function(e){o(e)}))}))]}))}))},e.getJwkString=function(e){return JSON.stringify(e,Object.keys(e).sort())},e}(),Ci=function(){function e(){this.dbName=_r,this.version=1,this.tableName="msal.db.keys",this.dbOpen=!1}return e.prototype.open=function(){return un(this,void 0,void 0,(function(){var e=this;return ln(this,(function(t){return[2,new Promise((function(t,n){var r=window.indexedDB.open(e.dbName,e.version);r.addEventListener("upgradeneeded",(function(t){t.target.result.createObjectStore(e.tableName)})),r.addEventListener("success",(function(n){var r=n;e.db=r.target.result,e.dbOpen=!0,t()})),r.addEventListener("error",(function(){return n(vi.createDatabaseUnavailableError())}))}))]}))}))},e.prototype.closeConnection=function(){var e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)},e.prototype.validateDbIsOpen=function(){return un(this,void 0,void 0,(function(){return ln(this,(function(e){switch(e.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:return[2,e.sent()];case 2:return[2]}}))}))},e.prototype.getItem=function(e){return un(this,void 0,void 0,(function(){var t=this;return ln(this,(function(n){switch(n.label){case 0:return[4,this.validateDbIsOpen()];case 1:return n.sent(),[2,new Promise((function(n,r){if(!t.db)return r(vi.createDatabaseNotOpenError());var o=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).get(e);o.addEventListener("success",(function(e){var r=e;t.closeConnection(),n(r.target.result)})),o.addEventListener("error",(function(e){t.closeConnection(),r(e)}))}))]}}))}))},e.prototype.setItem=function(e,t){return un(this,void 0,void 0,(function(){var n=this;return ln(this,(function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise((function(r,o){if(!n.db)return o(vi.createDatabaseNotOpenError());var i=n.db.transaction([n.tableName],"readwrite").objectStore(n.tableName).put(t,e);i.addEventListener("success",(function(){n.closeConnection(),r()})),i.addEventListener("error",(function(e){n.closeConnection(),o(e)}))}))]}}))}))},e.prototype.removeItem=function(e){return un(this,void 0,void 0,(function(){var t=this;return ln(this,(function(n){switch(n.label){case 0:return[4,this.validateDbIsOpen()];case 1:return n.sent(),[2,new Promise((function(n,r){if(!t.db)return r(vi.createDatabaseNotOpenError());var o=t.db.transaction([t.tableName],"readwrite").objectStore(t.tableName).delete(e);o.addEventListener("success",(function(){t.closeConnection(),n()})),o.addEventListener("error",(function(e){t.closeConnection(),r(e)}))}))]}}))}))},e.prototype.getKeys=function(){return un(this,void 0,void 0,(function(){var e=this;return ln(this,(function(t){switch(t.label){case 0:return[4,this.validateDbIsOpen()];case 1:return t.sent(),[2,new Promise((function(t,n){if(!e.db)return n(vi.createDatabaseNotOpenError());var r=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).getAllKeys();r.addEventListener("success",(function(n){var r=n;e.closeConnection(),t(r.target.result)})),r.addEventListener("error",(function(t){e.closeConnection(),n(t)}))}))]}}))}))},e.prototype.containsKey=function(e){return un(this,void 0,void 0,(function(){var t=this;return ln(this,(function(n){switch(n.label){case 0:return[4,this.validateDbIsOpen()];case 1:return n.sent(),[2,new Promise((function(n,r){if(!t.db)return r(vi.createDatabaseNotOpenError());var o=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).count(e);o.addEventListener("success",(function(e){var r=e;t.closeConnection(),n(1===r.target.result)})),o.addEventListener("error",(function(e){t.closeConnection(),r(e)}))}))]}}))}))},e.prototype.deleteDatabase=function(){return un(this,void 0,void 0,(function(){var e;return ln(this,(function(t){switch(t.label){case 0:return this.db&&this.dbOpen&&this.closeConnection(),[4,window.indexedDB.databases()];case 1:return e=t.sent(),e.find((function(e){return e.name===_r}))?[2,new Promise((function(e,t){var n=window.indexedDB.deleteDatabase(_r);n.addEventListener("success",(function(){return e(!0)})),n.addEventListener("error",(function(){return t(!1)}))}))]:[2,!0]}}))}))},e}(),_i=function(){function e(){this.cache=new Map}return e.prototype.getItem=function(e){return this.cache.get(e)||null},e.prototype.setItem=function(e,t){this.cache.set(e,t)},e.prototype.removeItem=function(e){this.cache.delete(e)},e.prototype.getKeys=function(){var e=[];return this.cache.forEach((function(t,n){e.push(n)})),e},e.prototype.containsKey=function(e){return this.cache.has(e)},e.prototype.clear=function(){this.cache.clear()},e}(),Si=function(){function e(e,t){this.inMemoryCache=new _i,this.indexedDBCache=new Ci,this.logger=e,this.storeName=t}return e.prototype.handleDatabaseAccessError=function(e){if(!(e instanceof vi&&e.errorCode===li.code))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")},e.prototype.getItem=function(e){return un(this,void 0,void 0,(function(){var t,n;return ln(this,(function(r){switch(r.label){case 0:if(t=this.inMemoryCache.getItem(e))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.getItem(e)];case 2:return[2,r.sent()];case 3:return n=r.sent(),this.handleDatabaseAccessError(n),[3,4];case 4:return[2,t]}}))}))},e.prototype.setItem=function(e,t){return un(this,void 0,void 0,(function(){var n;return ln(this,(function(r){switch(r.label){case 0:this.inMemoryCache.setItem(e,t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.indexedDBCache.setItem(e,t)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),this.handleDatabaseAccessError(n),[3,4];case 4:return[2]}}))}))},e.prototype.removeItem=function(e){return un(this,void 0,void 0,(function(){var t;return ln(this,(function(n){switch(n.label){case 0:this.inMemoryCache.removeItem(e),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.indexedDBCache.removeItem(e)];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),this.handleDatabaseAccessError(t),[3,4];case 4:return[2]}}))}))},e.prototype.getKeys=function(){return un(this,void 0,void 0,(function(){var e,t;return ln(this,(function(n){switch(n.label){case 0:if(0!==(e=this.inMemoryCache.getKeys()).length)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),this.logger.verbose("In-memory cache is empty, now querying persistent storage."),[4,this.indexedDBCache.getKeys()];case 2:return[2,n.sent()];case 3:return t=n.sent(),this.handleDatabaseAccessError(t),[3,4];case 4:return[2,e]}}))}))},e.prototype.containsKey=function(e){return un(this,void 0,void 0,(function(){var t,n;return ln(this,(function(r){switch(r.label){case 0:if(t=this.inMemoryCache.containsKey(e))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.containsKey(e)];case 2:return[2,r.sent()];case 3:return n=r.sent(),this.handleDatabaseAccessError(n),[3,4];case 4:return[2,t]}}))}))},e.prototype.clear=function(){return un(this,void 0,void 0,(function(){var e,t;return ln(this,(function(n){switch(n.label){case 0:this.logger.verbose("Deleting in-memory keystore "+this.storeName),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore "+this.storeName+" deleted"),this.logger.verbose("Deleting persistent keystore "+this.storeName),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.indexedDBCache.deleteDatabase()];case 2:return(e=n.sent())&&this.logger.verbose("Persistent keystore "+this.storeName+" deleted"),[2,e];case 3:return t=n.sent(),this.handleDatabaseAccessError(t),[2,!1];case 4:return[2]}}))}))},e}();!function(e){e.asymmetricKeys="asymmetricKeys",e.symmetricKeys="symmetricKeys"}(Cr||(Cr={}));var Ti,Ii=function(){function e(e,t){this.logger=e,this.browserCrypto=new Ei(this.logger),this.b64Encode=new xr,this.b64Decode=new Ur,this.guidGenerator=new Or(this.browserCrypto),this.pkceGenerator=new yi(this.browserCrypto),this.cache={asymmetricKeys:new Si(this.logger,Cr.asymmetricKeys),symmetricKeys:new Si(this.logger,Cr.symmetricKeys)},this.performanceClient=t}return e.prototype.createNewGuid=function(){return this.guidGenerator.generateGuid()},e.prototype.base64Encode=function(e){return this.b64Encode.encode(e)},e.prototype.base64Decode=function(e){return this.b64Decode.decode(e)},e.prototype.generatePkceCodes=function(){return un(this,void 0,void 0,(function(){return ln(this,(function(e){return[2,this.pkceGenerator.generateCodes()]}))}))},e.prototype.getPublicKeyThumbprint=function(t){var n;return un(this,void 0,void 0,(function(){var r,o,i,a,s,c,u,l;return ln(this,(function(d){switch(d.label){case 0:return r=null===(n=this.performanceClient)||void 0===n?void 0:n.startMeasurement(an.CryptoOptsGetPublicKeyThumbprint,t.correlationId),[4,this.browserCrypto.generateKeyPair(e.EXTRACTABLE,e.POP_KEY_USAGES)];case 1:return o=d.sent(),[4,this.browserCrypto.exportJwk(o.publicKey)];case 2:return i=d.sent(),a={e:i.e,kty:i.kty,n:i.n},s=Ei.getJwkString(a),[4,this.hashString(s)];case 3:return c=d.sent(),[4,this.browserCrypto.exportJwk(o.privateKey)];case 4:return u=d.sent(),[4,this.browserCrypto.importJwk(u,!1,["sign"])];case 5:return l=d.sent(),[4,this.cache.asymmetricKeys.setItem(c,{privateKey:l,publicKey:o.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri})];case 6:return d.sent(),r&&r.endMeasurement({success:!0}),[2,c]}}))}))},e.prototype.removeTokenBindingKey=function(e){return un(this,void 0,void 0,(function(){return ln(this,(function(t){switch(t.label){case 0:return[4,this.cache.asymmetricKeys.removeItem(e)];case 1:return t.sent(),[4,this.cache.asymmetricKeys.containsKey(e)];case 2:return[2,!t.sent()]}}))}))},e.prototype.clearKeystore=function(){return un(this,void 0,void 0,(function(){var e;return ln(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),this.logger.verbose("Deleting in-memory and persistent asymmetric key stores"),[4,this.cache.asymmetricKeys.clear()];case 1:return t.sent(),this.logger.verbose("Successfully deleted asymmetric key stores"),this.logger.verbose("Deleting in-memory and persistent symmetric key stores"),[4,this.cache.symmetricKeys.clear()];case 2:return t.sent(),this.logger.verbose("Successfully deleted symmetric key stores"),[2,!0];case 3:return(e=t.sent())instanceof Error?this.logger.error("Clearing keystore failed with error: "+e.message):this.logger.error("Clearing keystore failed with unknown error"),[2,!1];case 4:return[2]}}))}))},e.prototype.signJwt=function(e,t,n){var r;return un(this,void 0,void 0,(function(){var o,i,a,s,c,u,l,d,h,p,f,g,m;return ln(this,(function(v){switch(v.label){case 0:return o=null===(r=this.performanceClient)||void 0===r?void 0:r.startMeasurement(an.CryptoOptsSignJwt,n),[4,this.cache.asymmetricKeys.getItem(t)];case 1:if(!(i=v.sent()))throw vi.createSigningKeyNotFoundInStorageError(t);return[4,this.browserCrypto.exportJwk(i.publicKey)];case 2:return a=v.sent(),s=Ei.getJwkString(a),c=this.b64Encode.urlEncode(JSON.stringify({kid:t})),u=Pr.getShrHeaderString({kid:c,alg:a.alg}),l=this.b64Encode.urlEncode(u),e.cnf={jwk:JSON.parse(s)},d=this.b64Encode.urlEncode(JSON.stringify(e)),h=l+"."+d,p=Mr.stringToArrayBuffer(h),[4,this.browserCrypto.sign(i.privateKey,p)];case 3:return f=v.sent(),g=this.b64Encode.urlEncodeArr(new Uint8Array(f)),m=h+"."+g,o&&o.endMeasurement({success:!0}),[2,m]}}))}))},e.prototype.hashString=function(e){return un(this,void 0,void 0,(function(){var t,n;return ln(this,(function(r){switch(r.label){case 0:return[4,this.browserCrypto.sha256Digest(e)];case 1:return t=r.sent(),n=new Uint8Array(t),[2,this.b64Encode.urlEncodeArr(n)]}}))}))},e.POP_KEY_USAGES=["sign","verify"],e.EXTRACTABLE=!0,e}();!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(Ti||(Ti={}));var ki,Ai=function(){function e(e,t,n){this.level=Ti.Info;this.localCallback=e.loggerCallback||function(){},this.piiLoggingEnabled=e.piiLoggingEnabled||!1,this.level="number"===typeof e.logLevel?e.logLevel:Ti.Info,this.correlationId=e.correlationId||Sn.EMPTY_STRING,this.packageName=t||Sn.EMPTY_STRING,this.packageVersion=n||Sn.EMPTY_STRING}return e.prototype.clone=function(t,n,r){return new e({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},t,n)},e.prototype.logMessage=function(e,t){if(!(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)){var n=(new Date).toUTCString(),r=(Io.isEmpty(t.correlationId)?Io.isEmpty(this.correlationId)?"["+n+"]":"["+n+"] : ["+this.correlationId+"]":"["+n+"] : ["+t.correlationId+"]")+" : "+this.packageName+"@"+this.packageVersion+" : "+Ti[t.logLevel]+" - "+e;this.executeCallback(t.logLevel,r,t.containsPii||!1)}},e.prototype.executeCallback=function(e,t,n){this.localCallback&&this.localCallback(e,t,n)},e.prototype.error=function(e,t){this.logMessage(e,{logLevel:Ti.Error,containsPii:!1,correlationId:t||Sn.EMPTY_STRING})},e.prototype.errorPii=function(e,t){this.logMessage(e,{logLevel:Ti.Error,containsPii:!0,correlationId:t||Sn.EMPTY_STRING})},e.prototype.warning=function(e,t){this.logMessage(e,{logLevel:Ti.Warning,containsPii:!1,correlationId:t||Sn.EMPTY_STRING})},e.prototype.warningPii=function(e,t){this.logMessage(e,{logLevel:Ti.Warning,containsPii:!0,correlationId:t||Sn.EMPTY_STRING})},e.prototype.info=function(e,t){this.logMessage(e,{logLevel:Ti.Info,containsPii:!1,correlationId:t||Sn.EMPTY_STRING})},e.prototype.infoPii=function(e,t){this.logMessage(e,{logLevel:Ti.Info,containsPii:!0,correlationId:t||Sn.EMPTY_STRING})},e.prototype.verbose=function(e,t){this.logMessage(e,{logLevel:Ti.Verbose,containsPii:!1,correlationId:t||Sn.EMPTY_STRING})},e.prototype.verbosePii=function(e,t){this.logMessage(e,{logLevel:Ti.Verbose,containsPii:!0,correlationId:t||Sn.EMPTY_STRING})},e.prototype.trace=function(e,t){this.logMessage(e,{logLevel:Ti.Trace,containsPii:!1,correlationId:t||Sn.EMPTY_STRING})},e.prototype.tracePii=function(e,t){this.logMessage(e,{logLevel:Ti.Trace,containsPii:!0,correlationId:t||Sn.EMPTY_STRING})},e.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled||!1},e}(),Ri=function(){function e(e,t,n,r,o,i){this.authority=t,this.libraryName=r,this.libraryVersion=o,this.applicationTelemetry=i,this.clientId=e,this.logger=n,this.callbacks=new Map,this.eventsByCorrelationId=new Map,this.measurementsById=new Map}return e.prototype.startMeasurement=function(e,t){var n,r,o=this,i=t||this.generateId();t||this.logger.info("PerformanceClient: No correlation id provided for "+e+", generating",i),this.logger.trace("PerformanceClient: Performance measurement started for "+e,i);var a=this.startPerformanceMeasuremeant(e,i);a.startMeasurement();var s={eventId:this.generateId(),status:sn.InProgress,authority:this.authority,libraryName:this.libraryName,libraryVersion:this.libraryVersion,appName:null===(n=this.applicationTelemetry)||void 0===n?void 0:n.appName,appVersion:null===(r=this.applicationTelemetry)||void 0===r?void 0:r.appVersion,clientId:this.clientId,name:e,startTimeMs:Date.now(),correlationId:i};return this.cacheEventByCorrelationId(s),this.cacheMeasurement(s,a),{endMeasurement:function(e){var t=o.endMeasurement(gn(gn({},s),e));return t&&o.cacheEventByCorrelationId(t),t},flushMeasurement:function(){return o.flushMeasurements(s.name,s.correlationId)},discardMeasurement:function(){return o.discardMeasurements(s.correlationId)},measurement:a,event:s}},e.prototype.endMeasurement=function(e){var t=this.measurementsById.get(e.eventId);if(t){this.measurementsById.delete(e.eventId),t.endMeasurement();var n=t.flushMeasurement();if(null!==n)return this.logger.trace("PerformanceClient: Performance measurement ended for "+e.name+": "+n+" ms",e.correlationId),gn(gn({durationMs:Math.round(n)},e),{status:sn.Completed});this.logger.trace("PerformanceClient: Performance measurement not taken",e.correlationId)}else this.logger.trace("PerformanceClient: Measurement not found for "+e.eventId,e.correlationId);return null},e.prototype.cacheEventByCorrelationId=function(e){var t=this.eventsByCorrelationId.get(e.correlationId);t?(this.logger.trace("PerformanceClient: Performance measurement for "+e.name+" added/updated",e.correlationId),t.set(e.eventId,e)):(this.logger.trace("PerformanceClient: Performance measurement for "+e.name+" started",e.correlationId),this.eventsByCorrelationId.set(e.correlationId,(new Map).set(e.eventId,e)))},e.prototype.cacheMeasurement=function(e,t){this.measurementsById.set(e.eventId,t)},e.prototype.flushMeasurements=function(e,t){var n=this;this.logger.trace("PerformanceClient: Performance measurements flushed for "+e,t);var r=this.eventsByCorrelationId.get(t);if(r){this.discardMeasurements(t);var o=[];r.forEach((function(r){if(r.name!==e&&r.status!==sn.Completed){n.logger.trace("PerformanceClient: Incomplete submeasurement "+r.name+" found for "+e,t);var i=n.endMeasurement(r);i&&o.push(i)}o.push(r)}));var i=o.sort((function(e,t){return e.startTimeMs-t.startTimeMs})),a=i.filter((function(t){return t.name===e&&t.status===sn.Completed}));if(a.length>0){a.length>1&&this.logger.verbose("PerformanceClient: Multiple distinct top-level performance events found, using the first",t);var s=a[0];this.logger.verbose("PerformanceClient: Measurement found for "+e,t);var c=i.reduce((function(r,o){if(o.name!==e){n.logger.trace("PerformanceClient: Complete submeasurement found for "+o.name,t);var i=o.name+"DurationMs";r[i]?n.logger.verbose("PerformanceClient: Submeasurement for "+e+" already exists for "+o.name+", ignoring",t):r[i]=o.durationMs,o.accessTokenSize&&(r.accessTokenSize=o.accessTokenSize),o.idTokenSize&&(r.idTokenSize=o.idTokenSize)}return r}),s);this.emitEvents([c],c.correlationId)}else this.logger.verbose("PerformanceClient: No completed top-level measurements found for "+e,t)}else this.logger.verbose("PerformanceClient: No measurements found",t)},e.prototype.discardMeasurements=function(e){this.logger.trace("PerformanceClient: Performance measurements discarded",e),this.eventsByCorrelationId.delete(e)},e.prototype.addPerformanceCallback=function(e){var t=this.generateId();return this.callbacks.set(t,e),this.logger.verbose("PerformanceClient: Performance callback registered with id: "+t),t},e.prototype.removePerformanceCallback=function(e){var t=this.callbacks.delete(e);return t?this.logger.verbose("PerformanceClient: Performance callback "+e+" removed."):this.logger.verbose("PerformanceClient: Performance callback "+e+" not removed."),t},e.prototype.emitEvents=function(e,t){var n=this;this.logger.verbose("PerformanceClient: Emitting performance events",t),this.callbacks.forEach((function(r,o){n.logger.trace("PerformanceClient: Emitting event to callback "+o,t),r.apply(null,[e])}))},e}(),Pi=function(){function e(){}return e.prototype.startMeasurement=function(){},e.prototype.endMeasurement=function(){},e.prototype.flushMeasurement=function(){return null},e}(),Ni=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fn(t,e),t.prototype.generateId=function(){return"callback-id"},t.prototype.startPerformanceMeasuremeant=function(){return new Pi},t}(Ri),Oi={createNewGuid:function(){throw Ir.createUnexpectedError("Crypto interface - createNewGuid() has not been implemented")},base64Decode:function(){throw Ir.createUnexpectedError("Crypto interface - base64Decode() has not been implemented")},base64Encode:function(){throw Ir.createUnexpectedError("Crypto interface - base64Encode() has not been implemented")},generatePkceCodes:function(){return mn(this,void 0,void 0,(function(){return vn(this,(function(e){throw"Crypto interface - generatePkceCodes() has not been implemented",Ir.createUnexpectedError("Crypto interface - generatePkceCodes() has not been implemented")}))}))},getPublicKeyThumbprint:function(){return mn(this,void 0,void 0,(function(){return vn(this,(function(e){throw"Crypto interface - getPublicKeyThumbprint() has not been implemented",Ir.createUnexpectedError("Crypto interface - getPublicKeyThumbprint() has not been implemented")}))}))},removeTokenBindingKey:function(){return mn(this,void 0,void 0,(function(){return vn(this,(function(e){throw"Crypto interface - removeTokenBindingKey() has not been implemented",Ir.createUnexpectedError("Crypto interface - removeTokenBindingKey() has not been implemented")}))}))},clearKeystore:function(){return mn(this,void 0,void 0,(function(){return vn(this,(function(e){throw"Crypto interface - clearKeystore() has not been implemented",Ir.createUnexpectedError("Crypto interface - clearKeystore() has not been implemented")}))}))},signJwt:function(){return mn(this,void 0,void 0,(function(){return vn(this,(function(e){throw"Crypto interface - signJwt() has not been implemented",Ir.createUnexpectedError("Crypto interface - signJwt() has not been implemented")}))}))},hashString:function(){return mn(this,void 0,void 0,(function(){return vn(this,(function(e){throw"Crypto interface - hashString() has not been implemented",Ir.createUnexpectedError("Crypto interface - hashString() has not been implemented")}))}))}},Mi=["interaction_required","consent_required","login_required"],xi=["message_only","additional_action","basic_action","user_password_expired","consent_required"],Ui={code:"no_tokens_found",desc:"No refresh token found in the cache. Please sign-in."},Li={code:"native_account_unavailable",desc:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API."},Di=function(e){function t(n,r,o){var i=e.call(this,n,r,o)||this;return i.name="InteractionRequiredAuthError",Object.setPrototypeOf(i,t.prototype),i}return fn(t,e),t.isInteractionRequiredError=function(e,t,n){var r=!!e&&Mi.indexOf(e)>-1,o=!!n&&xi.indexOf(n)>-1,i=!!t&&Mi.some((function(e){return t.indexOf(e)>-1}));return r||i||o},t.createNoTokensFoundError=function(){return new t(Ui.code,Ui.desc)},t.createNativeAccountUnavailableError=function(){return new t(Li.code,Li.desc)},t}(Ir),qi=function(e){function t(n,r,o){var i=e.call(this,n,r,o)||this;return i.name="ServerError",Object.setPrototypeOf(i,t.prototype),i}return fn(t,e),t}(Ir);function Hi(e,t){if(Io.isEmpty(e))throw To.createClientInfoEmptyError();try{var n=t.base64Decode(e);return JSON.parse(n)}catch(r){throw To.createClientInfoDecodingError(r)}}function Fi(e){if(Io.isEmpty(e))throw To.createClientInfoDecodingError("Home account ID was empty.");var t=e.split(On.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?Sn.EMPTY_STRING:t[1]}}!function(e){e[e.Default=0]="Default",e[e.Adfs=1]="Adfs"}(ki||(ki={}));var zi,ji=function(){function e(){}return e.prototype.generateAccountId=function(){return[this.homeAccountId,this.environment].join(On.CACHE_KEY_SEPARATOR).toLowerCase()},e.prototype.generateAccountKey=function(){return e.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})},e.prototype.generateType=function(){switch(this.authorityType){case Nn.ADFS_ACCOUNT_TYPE:return Un.ADFS;case Nn.MSAV1_ACCOUNT_TYPE:return Un.MSA;case Nn.MSSTS_ACCOUNT_TYPE:return Un.MSSTS;case Nn.GENERIC_ACCOUNT_TYPE:return Un.GENERIC;default:throw To.createUnexpectedAccountTypeError()}},e.prototype.getAccountInfo=function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,idTokenClaims:this.idTokenClaims,nativeAccountId:this.nativeAccountId}},e.generateAccountCacheKey=function(e){return[e.homeAccountId,e.environment||Sn.EMPTY_STRING,e.tenantId||Sn.EMPTY_STRING].join(On.CACHE_KEY_SEPARATOR).toLowerCase()},e.createAccount=function(t,n,r,o,i,a,s,c){var u,l,d,h,p,f,g=new e;g.authorityType=Nn.MSSTS_ACCOUNT_TYPE,g.clientInfo=t,g.homeAccountId=n,g.nativeAccountId=c;var m=s||o&&o.getPreferredCache();if(!m)throw To.createInvalidCacheEnvironmentError();return g.environment=m,g.realm=(null===(u=null===r||void 0===r?void 0:r.claims)||void 0===u?void 0:u.tid)||Sn.EMPTY_STRING,r&&(g.idTokenClaims=r.claims,g.localAccountId=(null===(l=null===r||void 0===r?void 0:r.claims)||void 0===l?void 0:l.oid)||(null===(d=null===r||void 0===r?void 0:r.claims)||void 0===d?void 0:d.sub)||Sn.EMPTY_STRING,g.username=(null===(h=null===r||void 0===r?void 0:r.claims)||void 0===h?void 0:h.preferred_username)||((null===(p=null===r||void 0===r?void 0:r.claims)||void 0===p?void 0:p.emails)?r.claims.emails[0]:Sn.EMPTY_STRING),g.name=null===(f=null===r||void 0===r?void 0:r.claims)||void 0===f?void 0:f.name),g.cloudGraphHostName=i,g.msGraphHost=a,g},e.createGenericAccount=function(t,n,r,o,i,a){var s,c,u,l,d=new e;d.authorityType=r&&r.authorityType===ki.Adfs?Nn.ADFS_ACCOUNT_TYPE:Nn.GENERIC_ACCOUNT_TYPE,d.homeAccountId=t,d.realm=Sn.EMPTY_STRING;var h=a||r&&r.getPreferredCache();if(!h)throw To.createInvalidCacheEnvironmentError();return n&&(d.localAccountId=(null===(s=null===n||void 0===n?void 0:n.claims)||void 0===s?void 0:s.oid)||(null===(c=null===n||void 0===n?void 0:n.claims)||void 0===c?void 0:c.sub)||Sn.EMPTY_STRING,d.username=(null===(u=null===n||void 0===n?void 0:n.claims)||void 0===u?void 0:u.upn)||Sn.EMPTY_STRING,d.name=(null===(l=null===n||void 0===n?void 0:n.claims)||void 0===l?void 0:l.name)||Sn.EMPTY_STRING,d.idTokenClaims=null===n||void 0===n?void 0:n.claims),d.environment=h,d.cloudGraphHostName=o,d.msGraphHost=i,d},e.generateHomeAccountId=function(e,t,n,r,o){var i,a=(null===(i=null===o||void 0===o?void 0:o.claims)||void 0===i?void 0:i.sub)?o.claims.sub:Sn.EMPTY_STRING;if(t===ki.Adfs)return a;if(e)try{var s=Hi(e,r);if(!Io.isEmpty(s.uid)&&!Io.isEmpty(s.utid))return""+s.uid+On.CLIENT_INFO_SEPARATOR+s.utid}catch(c){}return n.verbose("No client info in response"),a},e.isAccountEntity=function(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))},e.accountInfoIsEqual=function(e,t,n){if(!e||!t)return!1;var r=!0;if(n){var o=e.idTokenClaims||{},i=t.idTokenClaims||{};r=o.iat===i.iat&&o.nonce===i.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r},e}(),Ki=function(){function e(){}return e.prototype.generateAccountId=function(){return e.generateAccountIdForCacheKey(this.homeAccountId,this.environment)},e.prototype.generateCredentialId=function(){return e.generateCredentialIdForCacheKey(this.credentialType,this.clientId,this.realm,this.familyId)},e.prototype.generateTarget=function(){return e.generateTargetForCacheKey(this.target)},e.prototype.generateCredentialKey=function(){return e.generateCredentialCacheKey(this.homeAccountId,this.environment,this.credentialType,this.clientId,this.realm,this.target,this.familyId,this.tokenType,this.requestedClaimsHash)},e.prototype.generateType=function(){switch(this.credentialType){case Mn.ID_TOKEN:return Un.ID_TOKEN;case Mn.ACCESS_TOKEN:case Mn.ACCESS_TOKEN_WITH_AUTH_SCHEME:return Un.ACCESS_TOKEN;case Mn.REFRESH_TOKEN:return Un.REFRESH_TOKEN;default:throw To.createUnexpectedCredentialTypeError()}},e.getCredentialType=function(e){return-1!==e.indexOf(Mn.ACCESS_TOKEN.toLowerCase())?-1!==e.indexOf(Mn.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())?Mn.ACCESS_TOKEN_WITH_AUTH_SCHEME:Mn.ACCESS_TOKEN:-1!==e.indexOf(Mn.ID_TOKEN.toLowerCase())?Mn.ID_TOKEN:-1!==e.indexOf(Mn.REFRESH_TOKEN.toLowerCase())?Mn.REFRESH_TOKEN:Sn.NOT_DEFINED},e.generateCredentialCacheKey=function(e,t,n,r,o,i,a,s,c){return[this.generateAccountIdForCacheKey(e,t),this.generateCredentialIdForCacheKey(n,r,o,a),this.generateTargetForCacheKey(i),this.generateClaimsHashForCacheKey(c),this.generateSchemeForCacheKey(s)].join(On.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateAccountIdForCacheKey=function(e,t){return[e,t].join(On.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateCredentialIdForCacheKey=function(e,t,n,r){return[e,e===Mn.REFRESH_TOKEN&&r||t,n||Sn.EMPTY_STRING].join(On.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateTargetForCacheKey=function(e){return(e||Sn.EMPTY_STRING).toLowerCase()},e.generateClaimsHashForCacheKey=function(e){return(e||Sn.EMPTY_STRING).toLowerCase()},e.generateSchemeForCacheKey=function(e){return e&&e.toLowerCase()!==jn.BEARER.toLowerCase()?e.toLowerCase():Sn.EMPTY_STRING},e}(),Bi={code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},Gi={code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},Wi={code:"claims_request_parsing_error",desc:"Could not parse the given claims request object."},Vi={code:"authority_uri_insecure",desc:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options"},Yi={code:"url_parse_error",desc:"URL could not be parsed into appropriate segments."},Qi={code:"empty_url_error",desc:"URL was empty or null."},Ji={code:"empty_input_scopes_error",desc:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token."},$i={code:"clientid_input_scopes_error",desc:"Client ID can only be provided as a single scope."},Xi={code:"invalid_prompt_value",desc:"Supported prompt values are 'login', 'select_account', 'consent', 'create' and 'none'.  Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest"},Zi={code:"invalid_claims",desc:"Given claims parameter must be a stringified JSON object."},ea={code:"token_request_empty",desc:"Token request was empty and not found in cache."},ta={code:"logout_request_empty",desc:"The logout request was null or undefined."},na={code:"invalid_code_challenge_method",desc:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".'},ra={code:"pkce_params_missing",desc:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request"},oa={code:"invalid_cloud_discovery_metadata",desc:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields"},ia={code:"invalid_authority_metadata",desc:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields."},aa={code:"untrusted_authority",desc:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter."},sa={code:"invalid_azure_cloud_instance",desc:"Invalid AzureCloudInstance provided. Please refer MSAL JS docs: aks.ms/msaljs/azure_cloud_instance for valid values"},ca={code:"missing_ssh_jwk",desc:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme."},ua={code:"missing_ssh_kid",desc:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme."},la={code:"missing_nonce_authentication_header",desc:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce."},da={code:"invalid_authentication_header",desc:"Invalid authentication header provided"},ha=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.name="ClientConfigurationError",Object.setPrototypeOf(o,t.prototype),o}return fn(t,e),t.createRedirectUriEmptyError=function(){return new t(Bi.code,Bi.desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(Gi.code,Gi.desc)},t.createClaimsRequestParsingError=function(e){return new t(Wi.code,Wi.desc+" Given value: "+e)},t.createInsecureAuthorityUriError=function(e){return new t(Vi.code,Vi.desc+" Given URI: "+e)},t.createUrlParseError=function(e){return new t(Yi.code,Yi.desc+" Given Error: "+e)},t.createUrlEmptyError=function(){return new t(Qi.code,Qi.desc)},t.createEmptyScopesArrayError=function(){return new t(Ji.code,""+Ji.desc)},t.createClientIdSingleScopeError=function(e){return new t($i.code,$i.desc+" Given Scopes: "+e)},t.createInvalidPromptError=function(e){return new t(Xi.code,Xi.desc+" Given value: "+e)},t.createInvalidClaimsRequestError=function(){return new t(Zi.code,Zi.desc)},t.createEmptyLogoutRequestError=function(){return new t(ta.code,ta.desc)},t.createEmptyTokenRequestError=function(){return new t(ea.code,ea.desc)},t.createInvalidCodeChallengeMethodError=function(){return new t(na.code,na.desc)},t.createInvalidCodeChallengeParamsError=function(){return new t(ra.code,ra.desc)},t.createInvalidCloudDiscoveryMetadataError=function(){return new t(oa.code,oa.desc)},t.createInvalidAuthorityMetadataError=function(){return new t(ia.code,ia.desc)},t.createUntrustedAuthorityError=function(){return new t(aa.code,aa.desc)},t.createInvalidAzureCloudInstanceError=function(){return new t(sa.code,sa.desc)},t.createMissingSshJwkError=function(){return new t(ca.code,ca.desc)},t.createMissingSshKidError=function(){return new t(ua.code,ua.desc)},t.createMissingNonceAuthenticationHeadersError=function(){return new t(la.code,la.desc)},t.createInvalidAuthenticationHeaderError=function(e,n){return new t(da.code,da.desc+". Invalid header: "+e+". Details: "+n)},t}(To),pa=function(){function e(e){var t=this,n=e?Io.trimArrayEntries(yn(e)):[],r=n?Io.removeEmptyStringsFromArray(n):[];this.validateInputScopes(r),this.scopes=new Set,r.forEach((function(e){return t.scopes.add(e)}))}return e.fromString=function(t){return new e((t||Sn.EMPTY_STRING).split(" "))},e.prototype.validateInputScopes=function(e){if(!e||e.length<1)throw ha.createEmptyScopesArrayError()},e.prototype.containsScope=function(t){var n=new e(this.printScopesLowerCase().split(" "));return!Io.isEmpty(t)&&n.scopes.has(t.toLowerCase())},e.prototype.containsScopeSet=function(e){var t=this;return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((function(e){return t.containsScope(e)})))},e.prototype.containsOnlyOIDCScopes=function(){var e=this,t=0;return In.forEach((function(n){e.containsScope(n)&&(t+=1)})),this.scopes.size===t},e.prototype.appendScope=function(e){Io.isEmpty(e)||this.scopes.add(e.trim())},e.prototype.appendScopes=function(e){var t=this;try{e.forEach((function(e){return t.appendScope(e)}))}catch(n){throw To.createAppendScopeSetError(n)}},e.prototype.removeScope=function(e){if(Io.isEmpty(e))throw To.createRemoveEmptyScopeFromSetError(e);this.scopes.delete(e.trim())},e.prototype.removeOIDCScopes=function(){var e=this;In.forEach((function(t){e.scopes.delete(t)}))},e.prototype.unionScopeSets=function(e){if(!e)throw To.createEmptyInputScopeSetError();var t=new Set;return e.scopes.forEach((function(e){return t.add(e.toLowerCase())})),this.scopes.forEach((function(e){return t.add(e.toLowerCase())})),t},e.prototype.intersectingScopeSets=function(e){if(!e)throw To.createEmptyInputScopeSetError();e.containsOnlyOIDCScopes()||e.removeOIDCScopes();var t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n},e.prototype.getScopeCount=function(){return this.scopes.size},e.prototype.asArray=function(){var e=[];return this.scopes.forEach((function(t){return e.push(t)})),e},e.prototype.printScopes=function(){return this.scopes?this.asArray().join(" "):Sn.EMPTY_STRING},e.prototype.printScopesLowerCase=function(){return this.printScopes().toLowerCase()},e}(),fa=function(){function e(t,n){if(Io.isEmpty(t))throw To.createTokenNullOrEmptyError(t);this.rawToken=t,this.claims=e.extractTokenClaims(t,n)}return e.extractTokenClaims=function(e,t){var n=Io.decodeAuthToken(e);try{var r=n.JWSPayload,o=t.base64Decode(r);return JSON.parse(o)}catch(i){throw To.createTokenParsingError(i)}},e}(),ga=function(){function e(e,t){this.clientId=e,this.cryptoImpl=t}return e.prototype.getAllAccounts=function(){var t=this,n=this.getAccountsFilteredBy(),r=Object.keys(n).map((function(e){return n[e]}));return r.length<1?[]:r.map((function(n){var r=e.toObject(new ji,n).getAccountInfo(),o=t.readIdTokenFromCache(t.clientId,r);return o&&!r.idTokenClaims&&(r.idTokenClaims=new fa(o.secret,t.cryptoImpl).claims),r}))},e.prototype.saveCacheRecord=function(e){return mn(this,void 0,void 0,(function(){return vn(this,(function(t){switch(t.label){case 0:if(!e)throw To.createNullOrUndefinedCacheRecord();return e.account&&this.setAccount(e.account),e.idToken&&this.setIdTokenCredential(e.idToken),e.accessToken?[4,this.saveAccessToken(e.accessToken)]:[3,2];case 1:t.sent(),t.label=2;case 2:return e.refreshToken&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata),[2]}}))}))},e.prototype.saveAccessToken=function(e){return mn(this,void 0,void 0,(function(){var t,n,r,o,i=this;return vn(this,(function(a){switch(a.label){case 0:return t=this.getCredentialsFilteredBy({clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash}),n=pa.fromString(e.target),(r=Object.keys(t.accessTokens).map((function(e){return t.accessTokens[e]})))?(o=[],r.forEach((function(e){pa.fromString(e.target).intersectingScopeSets(n)&&o.push(i.removeCredential(e))})),[4,Promise.all(o)]):[3,2];case 1:a.sent(),a.label=2;case 2:return this.setAccessTokenCredential(e),[2]}}))}))},e.prototype.getAccountsFilteredBy=function(e){return this.getAccountsFilteredByInternal(e?e.homeAccountId:Sn.EMPTY_STRING,e?e.environment:Sn.EMPTY_STRING,e?e.realm:Sn.EMPTY_STRING,e?e.nativeAccountId:Sn.EMPTY_STRING)},e.prototype.getAccountsFilteredByInternal=function(e,t,n,r){var o=this,i=this.getKeys(),a={};return i.forEach((function(i){var s=o.getAccount(i);s&&(e&&!o.matchHomeAccountId(s,e)||t&&!o.matchEnvironment(s,t)||n&&!o.matchRealm(s,n)||r&&!o.matchNativeAccountId(s,r)||(a[i]=s))})),a},e.prototype.getCredentialsFilteredBy=function(e){return this.getCredentialsFilteredByInternal(e.homeAccountId,e.environment,e.credentialType,e.clientId,e.familyId,e.realm,e.target,e.userAssertionHash,e.tokenType,e.keyId,e.requestedClaimsHash)},e.prototype.getCredentialsFilteredByInternal=function(e,t,n,r,o,i,a,s,c,u,l){var d=this,h=this.getKeys(),p={idTokens:{},accessTokens:{},refreshTokens:{}};return h.forEach((function(h){var f=Ki.getCredentialType(h);if(f!==Sn.NOT_DEFINED){var g=d.getSpecificCredential(h,f);if(g&&(!s||d.matchUserAssertionHash(g,s))&&(!e||d.matchHomeAccountId(g,e))&&(!t||d.matchEnvironment(g,t))&&(!i||d.matchRealm(g,i))&&(!n||d.matchCredentialType(g,n))&&(!r||d.matchClientId(g,r))&&(!o||d.matchFamilyId(g,o))&&(!a||d.matchTarget(g,a))&&(!l&&!g.requestedClaimsHash||g.requestedClaimsHash===l)){if(n===Mn.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(c&&!d.matchTokenType(g,c))return;if(c===jn.SSH&&u&&!d.matchKeyId(g,u))return}var m=d.updateCredentialCacheKey(h,g);switch(f){case Mn.ID_TOKEN:p.idTokens[m]=g;break;case Mn.ACCESS_TOKEN:case Mn.ACCESS_TOKEN_WITH_AUTH_SCHEME:p.accessTokens[m]=g;break;case Mn.REFRESH_TOKEN:p.refreshTokens[m]=g}}}})),p},e.prototype.getAppMetadataFilteredBy=function(e){return this.getAppMetadataFilteredByInternal(e.environment,e.clientId)},e.prototype.getAppMetadataFilteredByInternal=function(e,t){var n=this,r=this.getKeys(),o={};return r.forEach((function(r){if(n.isAppMetadata(r)){var i=n.getAppMetadata(r);i&&(e&&!n.matchEnvironment(i,e)||t&&!n.matchClientId(i,t)||(o[r]=i))}})),o},e.prototype.getAuthorityMetadataByAlias=function(e){var t=this,n=this.getAuthorityMetadataKeys(),r=null;return n.forEach((function(n){if(t.isAuthorityMetadata(n)&&-1!==n.indexOf(t.clientId)){var o=t.getAuthorityMetadata(n);o&&-1!==o.aliases.indexOf(e)&&(r=o)}})),r},e.prototype.removeAllAccounts=function(){return mn(this,void 0,void 0,(function(){var e,t,n=this;return vn(this,(function(r){switch(r.label){case 0:return e=this.getKeys(),t=[],e.forEach((function(e){n.getAccount(e)&&t.push(n.removeAccount(e))})),[4,Promise.all(t)];case 1:return r.sent(),[2,!0]}}))}))},e.prototype.removeAccount=function(e){return mn(this,void 0,void 0,(function(){var t;return vn(this,(function(n){switch(n.label){case 0:if(!(t=this.getAccount(e)))throw To.createNoAccountFoundError();return[4,this.removeAccountContext(t)];case 1:return[2,n.sent()&&this.removeItem(e,xn.ACCOUNT)]}}))}))},e.prototype.removeAccountContext=function(e){return mn(this,void 0,void 0,(function(){var t,n,r,o=this;return vn(this,(function(i){switch(i.label){case 0:return t=this.getKeys(),n=e.generateAccountId(),r=[],t.forEach((function(e){var t=Ki.getCredentialType(e);if(t!==Sn.NOT_DEFINED){var i=o.getSpecificCredential(e,t);i&&n===i.generateAccountId()&&r.push(o.removeCredential(i))}})),[4,Promise.all(r)];case 1:return i.sent(),[2,!0]}}))}))},e.prototype.removeCredential=function(e){return mn(this,void 0,void 0,(function(){var t,n;return vn(this,(function(r){switch(r.label){case 0:if(t=e.generateCredentialKey(),e.credentialType.toLowerCase()!==Mn.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())return[3,4];if(e.tokenType!==jn.POP)return[3,4];if(!(n=e.keyId))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.cryptoImpl.removeTokenBindingKey(n)];case 2:return r.sent(),[3,4];case 3:throw r.sent(),To.createBindingKeyNotRemovedError();case 4:return[2,this.removeItem(t,xn.CREDENTIAL)]}}))}))},e.prototype.removeAppMetadata=function(){var e=this;return this.getKeys().forEach((function(t){e.isAppMetadata(t)&&e.removeItem(t,xn.APP_METADATA)})),!0},e.prototype.readCacheRecord=function(e,t,n,r){var o=this.readAccountFromCache(e),i=this.readIdTokenFromCache(t,e),a=this.readAccessTokenFromCache(t,e,n),s=this.readRefreshTokenFromCache(t,e,!1),c=this.readAppMetadataFromCache(r,t);return o&&i&&(o.idTokenClaims=new fa(i.secret,this.cryptoImpl).claims),{account:o,idToken:i,accessToken:a,refreshToken:s,appMetadata:c}},e.prototype.readAccountFromCache=function(e){var t=ji.generateAccountCacheKey(e);return this.getAccount(t)},e.prototype.readAccountFromCacheWithNativeAccountId=function(e){var t={nativeAccountId:e},n=this.getAccountsFilteredBy(t),r=Object.keys(n).map((function(e){return n[e]}));if(r.length<1)return null;if(r.length>1)throw To.createMultipleMatchingAccountsInCacheError();return n[0]},e.prototype.readIdTokenFromCache=function(e,t){var n={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:Mn.ID_TOKEN,clientId:e,realm:t.tenantId},r=this.getCredentialsFilteredBy(n),o=Object.keys(r.idTokens).map((function(e){return r.idTokens[e]})),i=o.length;if(i<1)return null;if(i>1)throw To.createMultipleMatchingTokensInCacheError();return o[0]},e.prototype.readAccessTokenFromCache=function(e,t,n){var r=new pa(n.scopes||[]),o=n.authenticationScheme||jn.BEARER,i=o&&o.toLowerCase()!==jn.BEARER.toLowerCase()?Mn.ACCESS_TOKEN_WITH_AUTH_SCHEME:Mn.ACCESS_TOKEN,a={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:i,clientId:e,realm:t.tenantId,target:r.printScopesLowerCase(),tokenType:o,keyId:n.sshKid,requestedClaimsHash:n.requestedClaimsHash},s=this.getCredentialsFilteredBy(a),c=Object.keys(s.accessTokens).map((function(e){return s.accessTokens[e]})),u=c.length;if(u<1)return null;if(u>1)throw To.createMultipleMatchingTokensInCacheError();return c[0]},e.prototype.readRefreshTokenFromCache=function(e,t,n){var r=n?Hn:void 0,o={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:Mn.REFRESH_TOKEN,clientId:e,familyId:r},i=this.getCredentialsFilteredBy(o),a=Object.keys(i.refreshTokens).map((function(e){return i.refreshTokens[e]}));return a.length<1?null:a[0]},e.prototype.readAppMetadataFromCache=function(e,t){var n={environment:e,clientId:t},r=this.getAppMetadataFilteredBy(n),o=Object.keys(r).map((function(e){return r[e]})),i=o.length;if(i<1)return null;if(i>1)throw To.createMultipleMatchingAppMetadataInCacheError();return o[0]},e.prototype.isAppMetadataFOCI=function(e,t){var n=this.readAppMetadataFromCache(e,t);return!(!n||n.familyId!==Hn)},e.prototype.matchHomeAccountId=function(e,t){return!(!e.homeAccountId||t!==e.homeAccountId)},e.prototype.matchUserAssertionHash=function(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)},e.prototype.matchEnvironment=function(e,t){var n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)},e.prototype.matchCredentialType=function(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()},e.prototype.matchClientId=function(e,t){return!(!e.clientId||t!==e.clientId)},e.prototype.matchFamilyId=function(e,t){return!(!e.familyId||t!==e.familyId)},e.prototype.matchRealm=function(e,t){return!(!e.realm||t!==e.realm)},e.prototype.matchNativeAccountId=function(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)},e.prototype.matchTarget=function(e,t){if(e.credentialType!==Mn.ACCESS_TOKEN&&e.credentialType!==Mn.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;var n=pa.fromString(e.target),r=pa.fromString(t);return r.containsOnlyOIDCScopes()?r.removeScope(Sn.OFFLINE_ACCESS_SCOPE):r.removeOIDCScopes(),n.containsScopeSet(r)},e.prototype.matchTokenType=function(e,t){return!(!e.tokenType||e.tokenType!==t)},e.prototype.matchKeyId=function(e,t){return!(!e.keyId||e.keyId!==t)},e.prototype.isAppMetadata=function(e){return-1!==e.indexOf(qn)},e.prototype.isAuthorityMetadata=function(e){return-1!==e.indexOf(Fn)},e.prototype.generateAuthorityMetadataCacheKey=function(e){return Fn+"-"+this.clientId+"-"+e},e.prototype.getSpecificCredential=function(e,t){switch(t){case Mn.ID_TOKEN:return this.getIdTokenCredential(e);case Mn.ACCESS_TOKEN:case Mn.ACCESS_TOKEN_WITH_AUTH_SCHEME:return this.getAccessTokenCredential(e);case Mn.REFRESH_TOKEN:return this.getRefreshTokenCredential(e);default:return null}},e.toObject=function(e,t){for(var n in t)e[n]=t[n];return e},e}(),ma=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fn(t,e),t.prototype.setAccount=function(){throw Ir.createUnexpectedError("Storage interface - setAccount() has not been implemented for the cacheStorage interface.")},t.prototype.getAccount=function(){throw Ir.createUnexpectedError("Storage interface - getAccount() has not been implemented for the cacheStorage interface.")},t.prototype.setIdTokenCredential=function(){throw Ir.createUnexpectedError("Storage interface - setIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getIdTokenCredential=function(){throw Ir.createUnexpectedError("Storage interface - getIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAccessTokenCredential=function(){throw Ir.createUnexpectedError("Storage interface - setAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getAccessTokenCredential=function(){throw Ir.createUnexpectedError("Storage interface - getAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setRefreshTokenCredential=function(){throw Ir.createUnexpectedError("Storage interface - setRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getRefreshTokenCredential=function(){throw Ir.createUnexpectedError("Storage interface - getRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAppMetadata=function(){throw Ir.createUnexpectedError("Storage interface - setAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAppMetadata=function(){throw Ir.createUnexpectedError("Storage interface - getAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.setServerTelemetry=function(){throw Ir.createUnexpectedError("Storage interface - setServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.getServerTelemetry=function(){throw Ir.createUnexpectedError("Storage interface - getServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.setAuthorityMetadata=function(){throw Ir.createUnexpectedError("Storage interface - setAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadata=function(){throw Ir.createUnexpectedError("Storage interface - getAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadataKeys=function(){throw Ir.createUnexpectedError("Storage interface - getAuthorityMetadataKeys() has not been implemented for the cacheStorage interface.")},t.prototype.setThrottlingCache=function(){throw Ir.createUnexpectedError("Storage interface - setThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.getThrottlingCache=function(){throw Ir.createUnexpectedError("Storage interface - getThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.removeItem=function(){throw Ir.createUnexpectedError("Storage interface - removeItem() has not been implemented for the cacheStorage interface.")},t.prototype.containsKey=function(){throw Ir.createUnexpectedError("Storage interface - containsKey() has not been implemented for the cacheStorage interface.")},t.prototype.getKeys=function(){throw Ir.createUnexpectedError("Storage interface - getKeys() has not been implemented for the cacheStorage interface.")},t.prototype.clear=function(){return mn(this,void 0,void 0,(function(){return vn(this,(function(e){throw"Storage interface - clear() has not been implemented for the cacheStorage interface.",Ir.createUnexpectedError("Storage interface - clear() has not been implemented for the cacheStorage interface.")}))}))},t.prototype.updateCredentialCacheKey=function(){throw Ir.createUnexpectedError("Storage interface - updateCredentialCacheKey() has not been implemented for the cacheStorage interface.")},t}(ga),va=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fn(t,e),t.createIdTokenEntity=function(e,n,r,o,i){var a=new t;return a.credentialType=Mn.ID_TOKEN,a.homeAccountId=e,a.environment=n,a.clientId=o,a.secret=r,a.realm=i,a},t.isIdTokenEntity=function(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===Mn.ID_TOKEN)},t}(Ki),ya=function(){function e(){}return e.nowSeconds=function(){return Math.round((new Date).getTime()/1e3)},e.isTokenExpired=function(t,n){var r=Number(t)||0;return e.nowSeconds()+n>r},e.wasClockTurnedBack=function(t){return Number(t)>e.nowSeconds()},e.delay=function(e,t){return new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))},e}(),ba=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fn(t,e),t.createAccessTokenEntity=function(e,n,r,o,i,a,s,c,u,l,d,h,p,f,g){var m,v,y=new t;y.homeAccountId=e,y.credentialType=Mn.ACCESS_TOKEN,y.secret=r;var b=ya.nowSeconds();if(y.cachedAt=b.toString(),y.expiresOn=s.toString(),y.extendedExpiresOn=c.toString(),l&&(y.refreshOn=l.toString()),y.environment=n,y.clientId=o,y.realm=i,y.target=a,y.userAssertionHash=h,y.tokenType=Io.isEmpty(d)?jn.BEARER:d,f&&(y.requestedClaims=f,y.requestedClaimsHash=g),(null===(m=y.tokenType)||void 0===m?void 0:m.toLowerCase())!==jn.BEARER.toLowerCase())switch(y.credentialType=Mn.ACCESS_TOKEN_WITH_AUTH_SCHEME,y.tokenType){case jn.POP:var w=fa.extractTokenClaims(r,u);if(!(null===(v=null===w||void 0===w?void 0:w.cnf)||void 0===v?void 0:v.kid))throw To.createTokenClaimsRequiredError();y.keyId=w.cnf.kid;break;case jn.SSH:y.keyId=p}return y},t.isAccessTokenEntity=function(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.hasOwnProperty("target")&&(e.credentialType===Mn.ACCESS_TOKEN||e.credentialType===Mn.ACCESS_TOKEN_WITH_AUTH_SCHEME))},t}(Ki),wa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fn(t,e),t.createRefreshTokenEntity=function(e,n,r,o,i,a){var s=new t;return s.clientId=o,s.credentialType=Mn.REFRESH_TOKEN,s.environment=n,s.homeAccountId=e,s.secret=r,s.userAssertionHash=a,i&&(s.familyId=i),s},t.isRefreshTokenEntity=function(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===Mn.REFRESH_TOKEN)},t}(Ki),Ea=function(){function e(){}return e.prototype.generateAppMetadataKey=function(){return e.generateAppMetadataCacheKey(this.environment,this.clientId)},e.generateAppMetadataCacheKey=function(e,t){return[qn,e,t].join(On.CACHE_KEY_SEPARATOR).toLowerCase()},e.createAppMetadataEntity=function(t,n,r){var o=new e;return o.clientId=t,o.environment=n,r&&(o.familyId=r),o},e.isAppMetadataEntity=function(e,t){return!!t&&(0===e.indexOf(qn)&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment"))},e}(),Ca=function(){function e(){this.failedRequests=[],this.errors=[],this.cacheHits=0}return e.isServerTelemetryEntity=function(e,t){var n=0===e.indexOf(Kn.CACHE_KEY),r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r},e}(),_a=function(){function e(){this.expiresAt=ya.nowSeconds()+zn}return e.prototype.updateCloudDiscoveryMetadata=function(e,t){this.aliases=e.aliases,this.preferred_cache=e.preferred_cache,this.preferred_network=e.preferred_network,this.aliasesFromNetwork=t},e.prototype.updateEndpointMetadata=function(e,t){this.authorization_endpoint=e.authorization_endpoint,this.token_endpoint=e.token_endpoint,this.end_session_endpoint=e.end_session_endpoint,this.issuer=e.issuer,this.endpointsFromNetwork=t,this.jwks_uri=e.jwks_uri},e.prototype.updateCanonicalAuthority=function(e){this.canonical_authority=e},e.prototype.resetExpiresAt=function(){this.expiresAt=ya.nowSeconds()+zn},e.prototype.isExpired=function(){return this.expiresAt<=ya.nowSeconds()},e.isAuthorityMetadataEntity=function(e,t){return!!t&&(0===e.indexOf(Fn)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri"))},e}(),Sa=function(){function e(){}return e.isThrottlingEntity=function(e,t){var n=!1;e&&(n=0===e.indexOf(Xn));var r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r},e}(),Ta=function(){function e(){}return e.setRequestState=function(t,n,r){var o=e.generateLibraryState(t,r);return Io.isEmpty(n)?o:""+o+Sn.RESOURCE_DELIM+n},e.generateLibraryState=function(e,t){if(!e)throw To.createNoCryptoObjectError("generateLibraryState");var n={id:e.createNewGuid()};t&&(n.meta=t);var r=JSON.stringify(n);return e.base64Encode(r)},e.parseRequestState=function(e,t){if(!e)throw To.createNoCryptoObjectError("parseRequestState");if(Io.isEmpty(t))throw To.createInvalidStateError(t,"Null, undefined or empty state");try{var n=t.split(Sn.RESOURCE_DELIM),r=n[0],o=n.length>1?n.slice(1).join(Sn.RESOURCE_DELIM):Sn.EMPTY_STRING,i=e.base64Decode(r),a=JSON.parse(i);return{userRequestState:Io.isEmpty(o)?Sn.EMPTY_STRING:o,libraryState:a}}catch(s){throw To.createInvalidStateError(t,s)}},e}();!function(e){e.HOME_ACCOUNT_ID="home_account_id",e.UPN="UPN"}(zi||(zi={}));var Ia,ka,Aa={code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},Ra={code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},Pa={code:"storage_not_supported",desc:"Given storage configuration option was not supported."},Na={code:"no_redirect_callbacks",desc:"No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},Oa={code:"stubbed_public_client_application_called",desc:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors"},Ma={code:"in_mem_redirect_unavailable",desc:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."},xa=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.name="BrowserConfigurationAuthError",Object.setPrototypeOf(o,t.prototype),o}return on(t,e),t.createRedirectUriEmptyError=function(){return new t(Aa.code,Aa.desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(Ra.code,Ra.desc)},t.createStorageNotSupportedError=function(e){return new t(Pa.code,Pa.desc+" Given Location: "+e)},t.createRedirectCallbacksNotSetError=function(){return new t(Na.code,Na.desc)},t.createStubPcaInstanceCalledError=function(){return new t(Oa.code,Oa.desc)},t.createInMemoryRedirectUnavailableError=function(){return new t(Ma.code,Ma.desc)},t}(Ir),Ua=function(){function e(e){this.validateWindowStorage(e),this.windowStorage=window[e]}return e.prototype.validateWindowStorage=function(e){if(e!==rr.LocalStorage&&e!==rr.SessionStorage)throw xa.createStorageNotSupportedError(e);if(!!!window[e])throw xa.createStorageNotSupportedError(e)},e.prototype.getItem=function(e){return this.windowStorage.getItem(e)},e.prototype.setItem=function(e,t){this.windowStorage.setItem(e,t)},e.prototype.removeItem=function(e){this.windowStorage.removeItem(e)},e.prototype.getKeys=function(){return Object.keys(this.windowStorage)},e.prototype.containsKey=function(e){return this.windowStorage.hasOwnProperty(e)},e}(),La=function(){function e(t){if(this._urlString=t,Io.isEmpty(this._urlString))throw ha.createUrlEmptyError();Io.isEmpty(this.getHash())&&(this._urlString=e.canonicalizeUri(t))}return Object.defineProperty(e.prototype,"urlString",{get:function(){return this._urlString},enumerable:!1,configurable:!0}),e.canonicalizeUri=function(e){if(e){var t=e.toLowerCase();return Io.endsWith(t,"?")?t=t.slice(0,-1):Io.endsWith(t,"?/")&&(t=t.slice(0,-2)),Io.endsWith(t,"/")||(t+="/"),t}return e},e.prototype.validateAsUri=function(){var e;try{e=this.getUrlComponents()}catch(t){throw ha.createUrlParseError(t)}if(!e.HostNameAndPort||!e.PathSegments)throw ha.createUrlParseError("Given url string: "+this.urlString);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw ha.createInsecureAuthorityUriError(this.urlString)},e.appendQueryString=function(e,t){return Io.isEmpty(t)?e:e.indexOf("?")<0?e+"?"+t:e+"&"+t},e.removeHashFromUrl=function(t){return e.canonicalizeUri(t.split("#")[0])},e.prototype.replaceTenantPath=function(t){var n=this.getUrlComponents(),r=n.PathSegments;return!t||0===r.length||r[0]!==En.COMMON&&r[0]!==En.ORGANIZATIONS||(r[0]=t),e.constructAuthorityUriFromObject(n)},e.prototype.getHash=function(){return e.parseHash(this.urlString)},e.prototype.getUrlComponents=function(){var e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw ha.createUrlParseError("Given url string: "+this.urlString);var n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]},r=n.AbsolutePath.split("/");return r=r.filter((function(e){return e&&e.length>0})),n.PathSegments=r,!Io.isEmpty(n.QueryString)&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n},e.getDomainFromUrl=function(e){var t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw ha.createUrlParseError("Given url string: "+e);return n[2]},e.getAbsoluteUrl=function(t,n){if(t[0]===Sn.FORWARD_SLASH){var r=new e(n).getUrlComponents();return r.Protocol+"//"+r.HostNameAndPort+t}return t},e.parseHash=function(e){var t=e.indexOf("#"),n=e.indexOf("#/");return n>-1?e.substring(n+2):t>-1?e.substring(t+1):Sn.EMPTY_STRING},e.constructAuthorityUriFromObject=function(t){return new e(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))},e.getDeserializedHash=function(t){if(Io.isEmpty(t))return{};var n=e.parseHash(t),r=Io.queryStringToObject(Io.isEmpty(n)?t:n);if(!r)throw To.createHashNotDeserializedError(JSON.stringify(r));return r},e.hashContainsKnownProperties=function(t){if(Io.isEmpty(t)||t.indexOf("=")<0)return!1;var n=e.getDeserializedHash(t);return!!(n.code||n.error_description||n.error||n.state)},e}(),Da=function(){function e(){}return e.extractBrowserRequestState=function(e,t){if(Io.isEmpty(t))return null;try{return Ta.parseRequestState(e,t).libraryState.meta}catch(n){throw To.createInvalidStateError(t,n)}},e.parseServerResponseFromHash=function(e){if(!e)return{};var t=new La(e);return La.getDeserializedHash(t.getHash())},e}(),qa=function(e){function t(t,n,r,o){var i=e.call(this,t,r)||this;return i.COOKIE_LIFE_MULTIPLIER=864e5,i.cacheConfig=n,i.logger=o,i.internalStorage=new _i,i.browserStorage=i.setupBrowserStorage(i.cacheConfig.cacheLocation),i.temporaryCacheStorage=i.setupTemporaryCacheStorage(i.cacheConfig.cacheLocation),i.migrateCacheEntries(),i}return on(t,e),t.prototype.setupBrowserStorage=function(e){switch(e){case rr.LocalStorage:case rr.SessionStorage:try{return new Ua(e)}catch(t){this.logger.verbose(t);break}}return this.cacheConfig.cacheLocation=rr.MemoryStorage,new _i},t.prototype.setupTemporaryCacheStorage=function(e){switch(e){case rr.LocalStorage:case rr.SessionStorage:try{return new Ua(rr.SessionStorage)}catch(t){return this.logger.verbose(t),this.internalStorage}case rr.MemoryStorage:default:return this.internalStorage}},t.prototype.migrateCacheEntries=function(){var e=this,t=Sn.CACHE_PREFIX+"."+wn.ID_TOKEN,n=Sn.CACHE_PREFIX+"."+wn.CLIENT_INFO,r=Sn.CACHE_PREFIX+"."+wn.ERROR,o=Sn.CACHE_PREFIX+"."+wn.ERROR_DESC,i=[this.browserStorage.getItem(t),this.browserStorage.getItem(n),this.browserStorage.getItem(r),this.browserStorage.getItem(o)];[wn.ID_TOKEN,wn.CLIENT_INFO,wn.ERROR,wn.ERROR_DESC].forEach((function(t,n){return e.migrateCacheEntry(t,i[n])}))},t.prototype.migrateCacheEntry=function(e,t){t&&this.setTemporaryCache(e,t,!0)},t.prototype.validateAndParseJson=function(e){try{var t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(n){return null}},t.prototype.getItem=function(e){return this.browserStorage.getItem(e)},t.prototype.setItem=function(e,t){this.browserStorage.setItem(e,t)},t.prototype.getAccount=function(e){var t=this.getItem(e);if(!t)return null;var n=this.validateAndParseJson(t);return n&&ji.isAccountEntity(n)?ga.toObject(new ji,n):null},t.prototype.setAccount=function(e){this.logger.trace("BrowserCacheManager.setAccount called");var t=e.generateAccountKey();this.setItem(t,JSON.stringify(e))},t.prototype.getIdTokenCredential=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null;var n=this.validateAndParseJson(t);return n&&va.isIdTokenEntity(n)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),ga.toObject(new va,n)):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null)},t.prototype.setIdTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e))},t.prototype.getAccessTokenCredential=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null;var n=this.validateAndParseJson(t);return n&&ba.isAccessTokenEntity(n)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),ga.toObject(new ba,n)):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null)},t.prototype.setAccessTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e))},t.prototype.getRefreshTokenCredential=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null;var n=this.validateAndParseJson(t);return n&&wa.isRefreshTokenEntity(n)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),ga.toObject(new wa,n)):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null)},t.prototype.setRefreshTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e))},t.prototype.getAppMetadata=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;var n=this.validateAndParseJson(t);return n&&Ea.isAppMetadataEntity(e,n)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),ga.toObject(new Ea,n)):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)},t.prototype.setAppMetadata=function(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");var t=e.generateAppMetadataKey();this.setItem(t,JSON.stringify(e))},t.prototype.getServerTelemetry=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;var n=this.validateAndParseJson(t);return n&&Ca.isServerTelemetryEntity(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),ga.toObject(new Ca,n)):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)},t.prototype.setServerTelemetry=function(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))},t.prototype.getAuthorityMetadata=function(e){var t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;var n=this.validateAndParseJson(t);return n&&_a.isAuthorityMetadataEntity(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),ga.toObject(new _a,n)):null},t.prototype.getAuthorityMetadataKeys=function(){var e=this;return this.internalStorage.getKeys().filter((function(t){return e.isAuthorityMetadata(t)}))},t.prototype.setWrapperMetadata=function(e,t){this.internalStorage.setItem(ar.WRAPPER_SKU,e),this.internalStorage.setItem(ar.WRAPPER_VER,t)},t.prototype.getWrapperMetadata=function(){return[this.internalStorage.getItem(ar.WRAPPER_SKU)||Sn.EMPTY_STRING,this.internalStorage.getItem(ar.WRAPPER_VER)||Sn.EMPTY_STRING]},t.prototype.setAuthorityMetadata=function(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))},t.prototype.getActiveAccount=function(){var e=this.generateCacheKey(wn.ACTIVE_ACCOUNT_FILTERS),t=this.getItem(e);if(!t){this.logger.trace("No active account filters cache schema found, looking for legacy schema");var n=this.generateCacheKey(wn.ACTIVE_ACCOUNT),r=this.getItem(n);if(!r)return this.logger.trace("No active account found"),null;var o=this.getAccountInfoByFilter({localAccountId:r})[0]||null;return o?(this.logger.trace("Legacy active account cache schema found"),this.logger.trace("Adding active account filters cache schema"),this.setActiveAccount(o),o):null}var i=this.validateAndParseJson(t);return i?(this.logger.trace("Active account filters schema found"),this.getAccountInfoByFilter({homeAccountId:i.homeAccountId,localAccountId:i.localAccountId})[0]||null):(this.logger.trace("No active account found"),null)},t.prototype.setActiveAccount=function(e){var t=this.generateCacheKey(wn.ACTIVE_ACCOUNT_FILTERS),n=this.generateCacheKey(wn.ACTIVE_ACCOUNT);if(e){this.logger.verbose("setActiveAccount: Active account set");var r={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId};this.browserStorage.setItem(t,JSON.stringify(r)),this.browserStorage.setItem(n,e.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t),this.browserStorage.removeItem(n)},t.prototype.getAccountInfoByFilter=function(e){return this.getAllAccounts().filter((function(t){return(!e.username||e.username.toLowerCase()===t.username.toLowerCase())&&((!e.homeAccountId||e.homeAccountId===t.homeAccountId)&&((!e.localAccountId||e.localAccountId===t.localAccountId)&&((!e.tenantId||e.tenantId===t.tenantId)&&(!e.environment||e.environment===t.environment))))}))},t.prototype.getAccountInfoByHints=function(e,t){var n=this.getAllAccounts().filter((function(n){if(t){var r=n.idTokenClaims&&n.idTokenClaims.sid;return t===r}return!!e&&e===n.username}));if(1===n.length)return n[0];if(n.length>1)throw To.createMultipleMatchingAccountsInCacheError();return null},t.prototype.getThrottlingCache=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;var n=this.validateAndParseJson(t);return n&&Sa.isThrottlingEntity(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),ga.toObject(new Sa,n)):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)},t.prototype.setThrottlingCache=function(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))},t.prototype.getTemporaryCache=function(e,t){var n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){var r=this.getItemCookie(n);if(r)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),r}var o=this.temporaryCacheStorage.getItem(n);if(!o){if(this.cacheConfig.cacheLocation===rr.LocalStorage){var i=this.browserStorage.getItem(n);if(i)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),i}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),o},t.prototype.setTemporaryCache=function(e,t,n){var r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(r,t))},t.prototype.removeItem=function(e){return this.browserStorage.removeItem(e),this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e)),!0},t.prototype.containsKey=function(e){return this.browserStorage.containsKey(e)||this.temporaryCacheStorage.containsKey(e)},t.prototype.getKeys=function(){return hn(this.browserStorage.getKeys(),this.temporaryCacheStorage.getKeys())},t.prototype.clear=function(){return un(this,void 0,void 0,(function(){var e=this;return ln(this,(function(t){switch(t.label){case 0:return[4,this.removeAllAccounts()];case 1:return t.sent(),this.removeAppMetadata(),this.getKeys().forEach((function(t){!e.browserStorage.containsKey(t)&&!e.temporaryCacheStorage.containsKey(t)||-1===t.indexOf(Sn.CACHE_PREFIX)&&-1===t.indexOf(e.clientId)||e.removeItem(t)})),this.internalStorage.clear(),[2]}}))}))},t.prototype.setItemCookie=function(e,t,n){var r=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/;SameSite=Lax;";n&&(r+="expires="+this.getCookieExpirationTime(n)+";");this.cacheConfig.secureCookies&&(r+="Secure;"),document.cookie=r},t.prototype.getItemCookie=function(e){for(var t=encodeURIComponent(e)+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return decodeURIComponent(o.substring(t.length,o.length))}return Sn.EMPTY_STRING},t.prototype.clearMsalCookies=function(){var e=this,t=Sn.CACHE_PREFIX+"."+this.clientId;document.cookie.split(";").forEach((function(n){for(;" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(t)){var r=n.split("=")[0];e.clearItemCookie(r)}}))},t.prototype.clearItemCookie=function(e){this.setItemCookie(e,Sn.EMPTY_STRING,-1)},t.prototype.getCookieExpirationTime=function(e){var t=new Date;return new Date(t.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()},t.prototype.getCache=function(){return this.browserStorage},t.prototype.setCache=function(){},t.prototype.generateCacheKey=function(e){return this.validateAndParseJson(e)?JSON.stringify(e):Io.startsWith(e,Sn.CACHE_PREFIX)||Io.startsWith(e,wn.ADAL_ID_TOKEN)?e:Sn.CACHE_PREFIX+"."+this.clientId+"."+e},t.prototype.generateAuthorityKey=function(e){var t=Ta.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(ir.AUTHORITY+"."+t)},t.prototype.generateNonceKey=function(e){var t=Ta.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(ir.NONCE_IDTOKEN+"."+t)},t.prototype.generateStateKey=function(e){var t=Ta.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(ir.REQUEST_STATE+"."+t)},t.prototype.getCachedAuthority=function(e){var t=this.generateStateKey(e),n=this.getTemporaryCache(t);if(!n)return null;var r=this.generateAuthorityKey(n);return this.getTemporaryCache(r)},t.prototype.updateCacheEntries=function(e,t,n,r,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");var i=this.generateStateKey(e);this.setTemporaryCache(i,e,!1);var a=this.generateNonceKey(e);this.setTemporaryCache(a,t,!1);var s=this.generateAuthorityKey(e);if(this.setTemporaryCache(s,n,!1),o){var c={credential:o.homeAccountId,type:zi.HOME_ACCOUNT_ID};this.setTemporaryCache(ir.CCS_CREDENTIAL,JSON.stringify(c),!0)}else if(!Io.isEmpty(r)){c={credential:r,type:zi.UPN};this.setTemporaryCache(ir.CCS_CREDENTIAL,JSON.stringify(c),!0)}},t.prototype.resetRequestCache=function(e){var t=this;this.logger.trace("BrowserCacheManager.resetRequestCache called"),Io.isEmpty(e)||this.getKeys().forEach((function(n){-1!==n.indexOf(e)&&t.removeItem(n)})),e&&(this.removeItem(this.generateStateKey(e)),this.removeItem(this.generateNonceKey(e)),this.removeItem(this.generateAuthorityKey(e))),this.removeItem(this.generateCacheKey(ir.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(ir.ORIGIN_URI)),this.removeItem(this.generateCacheKey(ir.URL_HASH)),this.removeItem(this.generateCacheKey(ir.CORRELATION_ID)),this.removeItem(this.generateCacheKey(ir.CCS_CREDENTIAL)),this.removeItem(this.generateCacheKey(ir.NATIVE_REQUEST)),this.setInteractionInProgress(!1)},t.prototype.cleanRequestByState=function(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){var t=this.generateStateKey(e),n=this.temporaryCacheStorage.getItem(t);this.logger.infoPii("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: "+n),this.resetRequestCache(n||Sn.EMPTY_STRING)}this.clearMsalCookies()},t.prototype.cleanRequestByInteractionType=function(e){var t=this;this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach((function(n){if(-1!==n.indexOf(ir.REQUEST_STATE)){var r=t.temporaryCacheStorage.getItem(n);if(r){var o=Da.extractBrowserRequestState(t.cryptoImpl,r);o&&o.interactionType===e&&(t.logger.infoPii("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: "+r),t.resetRequestCache(r))}}})),this.clearMsalCookies(),this.setInteractionInProgress(!1)},t.prototype.cacheCodeRequest=function(e,t){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");var n=t.base64Encode(JSON.stringify(e));this.setTemporaryCache(ir.REQUEST_PARAMS,n,!0)},t.prototype.getCachedRequest=function(e,t){this.logger.trace("BrowserCacheManager.getCachedRequest called");var n=this.getTemporaryCache(ir.REQUEST_PARAMS,!0);if(!n)throw vi.createNoTokenRequestCacheError();var r=this.validateAndParseJson(t.base64Decode(n));if(!r)throw vi.createUnableToParseTokenRequestCacheError();if(this.removeItem(this.generateCacheKey(ir.REQUEST_PARAMS)),Io.isEmpty(r.authority)){var o=this.generateAuthorityKey(e),i=this.getTemporaryCache(o);if(!i)throw vi.createNoCachedAuthorityError();r.authority=i}return r},t.prototype.getCachedNativeRequest=function(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");var e=this.getTemporaryCache(ir.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;var t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)},t.prototype.isInteractionInProgress=function(e){var t=this.getInteractionInProgress();return e?t===this.clientId:!!t},t.prototype.getInteractionInProgress=function(){var e=Sn.CACHE_PREFIX+"."+ir.INTERACTION_STATUS_KEY;return this.getTemporaryCache(e,!1)},t.prototype.setInteractionInProgress=function(e){var t=Sn.CACHE_PREFIX+"."+ir.INTERACTION_STATUS_KEY;if(e){if(this.getInteractionInProgress())throw vi.createInteractionInProgressError();this.setTemporaryCache(t,this.clientId,!1)}else e||this.getInteractionInProgress()!==this.clientId||this.removeItem(t)},t.prototype.getLegacyLoginHint=function(){var e=this.getTemporaryCache(wn.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(wn.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));var t=this.getTemporaryCache(wn.ID_TOKEN,!0);t&&(this.removeItem(this.generateCacheKey(wn.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));var n=t||e;if(n){var r=new fa(n,this.cryptoImpl);if(r.claims&&r.claims.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),r.claims.preferred_username;if(r.claims&&r.claims.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),r.claims.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null},t.prototype.updateCredentialCacheKey=function(e,t){var n=t.generateCredentialKey();if(e!==n){var r=this.getItem(e);if(r)return this.removeItem(e),this.setItem(n,r),this.logger.verbose("Updated an outdated "+t.credentialType+" cache key"),n;this.logger.error("Attempted to update an outdated "+t.credentialType+" cache key but no item matching the outdated key was found in storage")}return e},t}(ga);!function(e){e.AAD="AAD",e.OIDC="OIDC"}(Ia||(Ia={})),function(e){e[e.None=0]="None",e.AzurePublic="https://login.microsoftonline.com",e.AzurePpe="https://login.windows-ppe.net",e.AzureChina="https://login.chinacloudapi.cn",e.AzureGermany="https://login.microsoftonline.de",e.AzureUsGovernment="https://login.microsoftonline.us"}(ka||(ka={}));var Ha="7.3.0",Fa={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1,proxyUrl:Sn.EMPTY_STRING},za={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:Ti.Info,correlationId:Sn.EMPTY_STRING},ja={sendGetRequestAsync:function(){return mn(this,void 0,void 0,(function(){return vn(this,(function(e){throw"Network interface - sendGetRequestAsync() has not been implemented",Ir.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented")}))}))},sendPostRequestAsync:function(){return mn(this,void 0,void 0,(function(){return vn(this,(function(e){throw"Network interface - sendPostRequestAsync() has not been implemented",Ir.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented")}))}))}},Ka={sku:Sn.SKU,version:Ha,cpu:Sn.EMPTY_STRING,os:Sn.EMPTY_STRING},Ba={clientSecret:Sn.EMPTY_STRING,clientAssertion:void 0},Ga={azureCloudInstance:ka.None,tenant:""+Sn.DEFAULT_COMMON_TENANT},Wa={application:{appName:"",appVersion:""}};var Va={sendGetRequestAsync:function(){return Promise.reject(Ir.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented for the Network interface."))},sendPostRequestAsync:function(){return Promise.reject(Ir.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented for the Network interface."))}},Ya=function(){function e(){}return e.prototype.sendGetRequestAsync=function(e,t){return un(this,void 0,void 0,(function(){var n,r,o;return ln(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,fetch(e,{method:or.GET,headers:this.getFetchHeaders(t)})];case 1:return n=i.sent(),[3,3];case 2:throw r=i.sent(),window.navigator.onLine?vi.createGetRequestFailedError(r,e):vi.createNoNetworkConnectivityError();case 3:return i.trys.push([3,5,,6]),o={headers:this.getHeaderDict(n.headers)},[4,n.json()];case 4:return[2,(o.body=i.sent(),o.status=n.status,o)];case 5:throw i.sent(),vi.createFailedToParseNetworkResponseError(e);case 6:return[2]}}))}))},e.prototype.sendPostRequestAsync=function(e,t){return un(this,void 0,void 0,(function(){var n,r,o,i;return ln(this,(function(a){switch(a.label){case 0:n=t&&t.body||Sn.EMPTY_STRING,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,fetch(e,{method:or.POST,headers:this.getFetchHeaders(t),body:n})];case 2:return r=a.sent(),[3,4];case 3:throw o=a.sent(),window.navigator.onLine?vi.createPostRequestFailedError(o,e):vi.createNoNetworkConnectivityError();case 4:return a.trys.push([4,6,,7]),i={headers:this.getHeaderDict(r.headers)},[4,r.json()];case 5:return[2,(i.body=a.sent(),i.status=r.status,i)];case 6:throw a.sent(),vi.createFailedToParseNetworkResponseError(e);case 7:return[2]}}))}))},e.prototype.getFetchHeaders=function(e){var t=new Headers;if(!e||!e.headers)return t;var n=e.headers;return Object.keys(n).forEach((function(e){t.append(e,n[e])})),t},e.prototype.getHeaderDict=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t},e}(),Qa=function(){function e(){}return e.prototype.sendGetRequestAsync=function(e,t){return un(this,void 0,void 0,(function(){return ln(this,(function(n){return[2,this.sendRequestAsync(e,or.GET,t)]}))}))},e.prototype.sendPostRequestAsync=function(e,t){return un(this,void 0,void 0,(function(){return ln(this,(function(n){return[2,this.sendRequestAsync(e,or.POST,t)]}))}))},e.prototype.sendRequestAsync=function(e,t,n){var r=this;return new Promise((function(o,i){var a=new XMLHttpRequest;if(a.open(t,e,!0),r.setXhrHeaders(a,n),a.onload=function(){(a.status<200||a.status>=300)&&(t===or.POST?i(vi.createPostRequestFailedError("Failed with status "+a.status,e)):i(vi.createGetRequestFailedError("Failed with status "+a.status,e)));try{var n=JSON.parse(a.responseText),s={headers:r.getHeaderDict(a),body:n,status:a.status};o(s)}catch(c){i(vi.createFailedToParseNetworkResponseError(e))}},a.onerror=function(){window.navigator.onLine?t===or.POST?i(vi.createPostRequestFailedError("Failed with status "+a.status,e)):i(vi.createGetRequestFailedError("Failed with status "+a.status,e)):i(vi.createNoNetworkConnectivityError())},t===or.POST&&n&&n.body)a.send(n.body);else{if(t!==or.GET)throw vi.createHttpMethodNotImplementedError(t);a.send()}}))},e.prototype.setXhrHeaders=function(e,t){if(t&&t.headers){var n=t.headers;Object.keys(n).forEach((function(t){e.setRequestHeader(t,n[t])}))}},e.prototype.getHeaderDict=function(e){var t=e.getAllResponseHeaders().trim().split(/[\r\n]+/),n={};return t.forEach((function(e){var t=e.split(": "),r=t.shift(),o=t.join(": ");r&&o&&(n[r]=o)})),n},e}(),Ja=function(){function e(){}return e.clearHash=function(e){e.location.hash=Sn.EMPTY_STRING,"function"===typeof e.history.replaceState&&e.history.replaceState(null,Sn.EMPTY_STRING,""+e.location.origin+e.location.pathname+e.location.search)},e.replaceHash=function(e){var t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):Sn.EMPTY_STRING},e.isInIframe=function(){return window.parent!==window},e.isInPopup=function(){return"undefined"!==typeof window&&!!window.opener&&window.opener!==window&&"string"===typeof window.name&&0===window.name.indexOf(pr+".")},e.getCurrentUri=function(){return window.location.href.split("?")[0].split("#")[0]},e.getHomepage=function(){var e=new La(window.location.href).getUrlComponents();return e.Protocol+"//"+e.HostNameAndPort+"/"},e.getBrowserNetworkClient=function(){return window.fetch&&window.Headers?new Ya:new Qa},e.blockReloadInHiddenIframes=function(){if(La.hashContainsKnownProperties(window.location.hash)&&e.isInIframe())throw vi.createBlockReloadInHiddenIframeError()},e.blockRedirectInIframe=function(t,n){var r=e.isInIframe();if(t===cr.Redirect&&r&&!n)throw vi.createRedirectInIframeError(r)},e.blockAcquireTokenInPopups=function(){if(e.isInPopup())throw vi.createBlockAcquireTokenInPopupsError()},e.blockNonBrowserEnvironment=function(e){if(!e)throw vi.createNonBrowserEnvironmentError()},e.blockNativeBrokerCalledBeforeInitialized=function(e,t){if(e&&!t)throw vi.createNativeBrokerCalledBeforeInitialize()},e.detectIEOrEdge=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/"),r=e.indexOf("Edge/");return t>0||n>0||r>0},e}(),$a=function(){function e(){}return e.prototype.navigateInternal=function(t,n){return e.defaultNavigateWindow(t,n)},e.prototype.navigateExternal=function(t,n){return e.defaultNavigateWindow(t,n)},e.defaultNavigateWindow=function(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((function(e){setTimeout((function(){e(!0)}),t.timeout)}))},e}(),Xa=6e3;var Za,es="@azure/msal-browser",ts="2.28.1";!function(e){e.INITIALIZE_START="msal:initializeStart",e.INITIALIZE_END="msal:initializeEnd",e.ACCOUNT_ADDED="msal:accountAdded",e.ACCOUNT_REMOVED="msal:accountRemoved",e.LOGIN_START="msal:loginStart",e.LOGIN_SUCCESS="msal:loginSuccess",e.LOGIN_FAILURE="msal:loginFailure",e.ACQUIRE_TOKEN_START="msal:acquireTokenStart",e.ACQUIRE_TOKEN_SUCCESS="msal:acquireTokenSuccess",e.ACQUIRE_TOKEN_FAILURE="msal:acquireTokenFailure",e.ACQUIRE_TOKEN_NETWORK_START="msal:acquireTokenFromNetworkStart",e.SSO_SILENT_START="msal:ssoSilentStart",e.SSO_SILENT_SUCCESS="msal:ssoSilentSuccess",e.SSO_SILENT_FAILURE="msal:ssoSilentFailure",e.ACQUIRE_TOKEN_BY_CODE_START="msal:acquireTokenByCodeStart",e.ACQUIRE_TOKEN_BY_CODE_SUCCESS="msal:acquireTokenByCodeSuccess",e.ACQUIRE_TOKEN_BY_CODE_FAILURE="msal:acquireTokenByCodeFailure",e.HANDLE_REDIRECT_START="msal:handleRedirectStart",e.HANDLE_REDIRECT_END="msal:handleRedirectEnd",e.POPUP_OPENED="msal:popupOpened",e.LOGOUT_START="msal:logoutStart",e.LOGOUT_SUCCESS="msal:logoutSuccess",e.LOGOUT_FAILURE="msal:logoutFailure",e.LOGOUT_END="msal:logoutEnd"}(Za||(Za={}));var ns,rs=function(){function e(e,t){this.eventCallbacks=new Map,this.logger=e,this.browserCrypto=t,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}return e.prototype.addEventCallback=function(e){if("undefined"!==typeof window){var t=this.browserCrypto.createNewGuid();return this.eventCallbacks.set(t,e),this.logger.verbose("Event callback registered with id: "+t),t}return null},e.prototype.removeEventCallback=function(e){this.eventCallbacks.delete(e),this.logger.verbose("Event callback "+e+" removed.")},e.prototype.enableAccountStorageEvents=function(){"undefined"!==typeof window&&(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))},e.prototype.disableAccountStorageEvents=function(){"undefined"!==typeof window&&(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))},e.prototype.emitEvent=function(e,t,n,r){var o=this;if("undefined"!==typeof window){var i={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};this.logger.info("Emitting event: "+e),this.eventCallbacks.forEach((function(t,n){o.logger.verbose("Emitting event to callback "+n+": "+e),t.apply(null,[i])}))}},e.prototype.handleAccountCacheChange=function(e){try{var t=e.newValue||e.oldValue;if(!t)return;var n=JSON.parse(t);if("object"!==typeof n||!ji.isAccountEntity(n))return;var r=ga.toObject(new ji,n).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(Za.ACCOUNT_ADDED,void 0,r)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(Za.ACCOUNT_REMOVED,void 0,r))}catch(e){return}},e}(),os=function(){function e(){}return e.generateThrottlingStorageKey=function(e){return Xn+"."+JSON.stringify(e)},e.preProcess=function(t,n){var r,o=e.generateThrottlingStorageKey(n),i=t.getThrottlingCache(o);if(i){if(i.throttleTime<Date.now())return void t.removeItem(o,xn.THROTTLING);throw new qi((null===(r=i.errorCodes)||void 0===r?void 0:r.join(" "))||Sn.EMPTY_STRING,i.errorMessage,i.subError)}},e.postProcess=function(t,n,r){if(e.checkResponseStatus(r)||e.checkResponseForRetryAfter(r)){var o={throttleTime:e.calculateThrottleTime(parseInt(r.headers[bn.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};t.setThrottlingCache(e.generateThrottlingStorageKey(n),o)}},e.checkResponseStatus=function(e){return 429===e.status||e.status>=500&&e.status<600},e.checkResponseForRetryAfter=function(e){return!!e.headers&&(e.headers.hasOwnProperty(bn.RETRY_AFTER)&&(e.status<200||e.status>=300))},e.calculateThrottleTime=function(e){var t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||Jn),n+$n))},e.removeThrottle=function(e,t,n,r){var o={clientId:t,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:r,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},i=this.generateThrottlingStorageKey(o);return e.removeItem(i,xn.THROTTLING)},e}(),is=function(){function e(e,t){this.networkClient=e,this.cacheManager=t}return e.prototype.sendPostRequest=function(e,t,n){return mn(this,void 0,void 0,(function(){var r,o;return vn(this,(function(i){switch(i.label){case 0:os.preProcess(this.cacheManager,e),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.networkClient.sendPostRequestAsync(t,n)];case 2:return r=i.sent(),[3,4];case 3:throw(o=i.sent())instanceof Ir?o:To.createNetworkError(t,o);case 4:return os.postProcess(this.cacheManager,e,r),[2,r]}}))}))},e}(),as=function(){function e(e,t){this.config=function(e){var t,n=e.authOptions,r=e.systemOptions,o=e.loggerOptions,i=e.storageInterface,a=e.networkInterface,s=e.cryptoInterface,c=e.clientCredentials,u=e.libraryInfo,l=e.telemetry,d=e.serverTelemetryManager,h=e.persistencePlugin,p=e.serializableCache,f=gn(gn({},za),o);return{authOptions:(t=n,gn({clientCapabilities:[],azureCloudOptions:Ga,skipAuthorityMetadataCache:!1},t)),systemOptions:gn(gn({},Fa),r),loggerOptions:f,storageInterface:i||new ma(n.clientId,Oi),networkInterface:a||ja,cryptoInterface:s||Oi,clientCredentials:c||Ba,libraryInfo:gn(gn({},Ka),u),telemetry:gn(gn({},Wa),l),serverTelemetryManager:d||null,persistencePlugin:h||null,serializableCache:p||null}}(e),this.logger=new Ai(this.config.loggerOptions,"@azure/msal-common",Ha),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new is(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}return e.prototype.createTokenRequestHeaders=function(e){var t={};if(t[bn.CONTENT_TYPE]=Sn.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case zi.HOME_ACCOUNT_ID:try{var n=Fi(e.credential);t[bn.CCS_HEADER]="Oid:"+n.uid+"@"+n.utid}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case zi.UPN:t[bn.CCS_HEADER]="UPN: "+e.credential}return t},e.prototype.executePostToTokenEndpoint=function(e,t,n,r){return mn(this,void 0,void 0,(function(){var o;return vn(this,(function(i){switch(i.label){case 0:return[4,this.networkManager.sendPostRequest(r,e,{body:t,headers:n,proxyUrl:this.config.systemOptions.proxyUrl})];case 1:return o=i.sent(),this.config.serverTelemetryManager&&o.status<500&&429!==o.status&&this.config.serverTelemetryManager.clearTelemetryCache(),[2,o]}}))}))},e.prototype.updateAuthority=function(e){if(!e.discoveryComplete())throw To.createEndpointDiscoveryIncompleteError("Updated authority has not completed endpoint discovery.");this.authority=e},e}(),ss=function(){function e(){}return e.validateRedirectUri=function(e){if(Io.isEmpty(e))throw ha.createRedirectUriEmptyError()},e.validatePrompt=function(e){var t=[];for(var n in An)t.push(An[n]);if(t.indexOf(e)<0)throw ha.createInvalidPromptError(e)},e.validateClaims=function(e){try{JSON.parse(e)}catch(t){throw ha.createInvalidClaimsRequestError()}},e.validateCodeChallengeParams=function(e,t){if(Io.isEmpty(e)||Io.isEmpty(t))throw ha.createInvalidCodeChallengeParamsError();this.validateCodeChallengeMethod(t)},e.validateCodeChallengeMethod=function(e){if([Ln.PLAIN,Ln.S256].indexOf(e)<0)throw ha.createInvalidCodeChallengeMethodError()},e.sanitizeEQParams=function(e,t){return e?(t.forEach((function(t,n){e[n]&&delete e[n]})),e):{}},e}(),cs=function(){function e(){this.parameters=new Map}return e.prototype.addResponseTypeCode=function(){this.parameters.set(Cn.RESPONSE_TYPE,encodeURIComponent(Sn.CODE_RESPONSE_TYPE))},e.prototype.addResponseTypeForTokenAndIdToken=function(){this.parameters.set(Cn.RESPONSE_TYPE,encodeURIComponent(Sn.TOKEN_RESPONSE_TYPE+" "+Sn.ID_TOKEN_RESPONSE_TYPE))},e.prototype.addResponseMode=function(e){this.parameters.set(Cn.RESPONSE_MODE,encodeURIComponent(e||Rn.QUERY))},e.prototype.addNativeBroker=function(){this.parameters.set(Cn.NATIVE_BROKER,encodeURIComponent("1"))},e.prototype.addScopes=function(e,t){void 0===t&&(t=!0);var n=t?yn(e||[],Tn):e||[],r=new pa(n);this.parameters.set(Cn.SCOPE,encodeURIComponent(r.printScopes()))},e.prototype.addClientId=function(e){this.parameters.set(Cn.CLIENT_ID,encodeURIComponent(e))},e.prototype.addRedirectUri=function(e){ss.validateRedirectUri(e),this.parameters.set(Cn.REDIRECT_URI,encodeURIComponent(e))},e.prototype.addPostLogoutRedirectUri=function(e){ss.validateRedirectUri(e),this.parameters.set(Cn.POST_LOGOUT_URI,encodeURIComponent(e))},e.prototype.addIdTokenHint=function(e){this.parameters.set(Cn.ID_TOKEN_HINT,encodeURIComponent(e))},e.prototype.addDomainHint=function(e){this.parameters.set(kn.DOMAIN_HINT,encodeURIComponent(e))},e.prototype.addLoginHint=function(e){this.parameters.set(kn.LOGIN_HINT,encodeURIComponent(e))},e.prototype.addCcsUpn=function(e){this.parameters.set(bn.CCS_HEADER,encodeURIComponent("UPN:"+e))},e.prototype.addCcsOid=function(e){this.parameters.set(bn.CCS_HEADER,encodeURIComponent("Oid:"+e.uid+"@"+e.utid))},e.prototype.addSid=function(e){this.parameters.set(kn.SID,encodeURIComponent(e))},e.prototype.addClaims=function(e,t){var n=this.addClientCapabilitiesToClaims(e,t);ss.validateClaims(n),this.parameters.set(Cn.CLAIMS,encodeURIComponent(n))},e.prototype.addCorrelationId=function(e){this.parameters.set(Cn.CLIENT_REQUEST_ID,encodeURIComponent(e))},e.prototype.addLibraryInfo=function(e){this.parameters.set(Cn.X_CLIENT_SKU,e.sku),this.parameters.set(Cn.X_CLIENT_VER,e.version),e.os&&this.parameters.set(Cn.X_CLIENT_OS,e.os),e.cpu&&this.parameters.set(Cn.X_CLIENT_CPU,e.cpu)},e.prototype.addApplicationTelemetry=function(e){(null===e||void 0===e?void 0:e.appName)&&this.parameters.set(Cn.X_APP_NAME,e.appName),(null===e||void 0===e?void 0:e.appVersion)&&this.parameters.set(Cn.X_APP_VER,e.appVersion)},e.prototype.addPrompt=function(e){ss.validatePrompt(e),this.parameters.set(""+Cn.PROMPT,encodeURIComponent(e))},e.prototype.addState=function(e){Io.isEmpty(e)||this.parameters.set(Cn.STATE,encodeURIComponent(e))},e.prototype.addNonce=function(e){this.parameters.set(Cn.NONCE,encodeURIComponent(e))},e.prototype.addCodeChallengeParams=function(e,t){if(ss.validateCodeChallengeParams(e,t),!e||!t)throw ha.createInvalidCodeChallengeParamsError();this.parameters.set(Cn.CODE_CHALLENGE,encodeURIComponent(e)),this.parameters.set(Cn.CODE_CHALLENGE_METHOD,encodeURIComponent(t))},e.prototype.addAuthorizationCode=function(e){this.parameters.set(Cn.CODE,encodeURIComponent(e))},e.prototype.addDeviceCode=function(e){this.parameters.set(Cn.DEVICE_CODE,encodeURIComponent(e))},e.prototype.addRefreshToken=function(e){this.parameters.set(Cn.REFRESH_TOKEN,encodeURIComponent(e))},e.prototype.addCodeVerifier=function(e){this.parameters.set(Cn.CODE_VERIFIER,encodeURIComponent(e))},e.prototype.addClientSecret=function(e){this.parameters.set(Cn.CLIENT_SECRET,encodeURIComponent(e))},e.prototype.addClientAssertion=function(e){Io.isEmpty(e)||this.parameters.set(Cn.CLIENT_ASSERTION,encodeURIComponent(e))},e.prototype.addClientAssertionType=function(e){Io.isEmpty(e)||this.parameters.set(Cn.CLIENT_ASSERTION_TYPE,encodeURIComponent(e))},e.prototype.addOboAssertion=function(e){this.parameters.set(Cn.OBO_ASSERTION,encodeURIComponent(e))},e.prototype.addRequestTokenUse=function(e){this.parameters.set(Cn.REQUESTED_TOKEN_USE,encodeURIComponent(e))},e.prototype.addGrantType=function(e){this.parameters.set(Cn.GRANT_TYPE,encodeURIComponent(e))},e.prototype.addClientInfo=function(){this.parameters.set("client_info","1")},e.prototype.addExtraQueryParameters=function(e){var t=this;ss.sanitizeEQParams(e,this.parameters),Object.keys(e).forEach((function(n){t.parameters.set(n,e[n])}))},e.prototype.addClientCapabilitiesToClaims=function(e,t){var n;if(e)try{n=JSON.parse(e)}catch(r){throw ha.createInvalidClaimsRequestError()}else n={};return t&&t.length>0&&(n.hasOwnProperty(_n.ACCESS_TOKEN)||(n[_n.ACCESS_TOKEN]={}),n[_n.ACCESS_TOKEN][_n.XMS_CC]={values:t}),JSON.stringify(n)},e.prototype.addUsername=function(e){this.parameters.set(Bn.username,encodeURIComponent(e))},e.prototype.addPassword=function(e){this.parameters.set(Bn.password,encodeURIComponent(e))},e.prototype.addPopToken=function(e){Io.isEmpty(e)||(this.parameters.set(Cn.TOKEN_TYPE,jn.POP),this.parameters.set(Cn.REQ_CNF,encodeURIComponent(e)))},e.prototype.addSshJwk=function(e){Io.isEmpty(e)||(this.parameters.set(Cn.TOKEN_TYPE,jn.SSH),this.parameters.set(Cn.REQ_CNF,encodeURIComponent(e)))},e.prototype.addServerTelemetry=function(e){this.parameters.set(Cn.X_CLIENT_CURR_TELEM,e.generateCurrentRequestHeaderValue()),this.parameters.set(Cn.X_CLIENT_LAST_TELEM,e.generateLastRequestHeaderValue())},e.prototype.addThrottling=function(){this.parameters.set(Cn.X_MS_LIB_CAPABILITY,Zn)},e.prototype.addLogoutHint=function(e){this.parameters.set(Cn.LOGOUT_HINT,encodeURIComponent(e))},e.prototype.createQueryString=function(){var e=new Array;return this.parameters.forEach((function(t,n){e.push(n+"="+t)})),e.join("&")},e}(),us=function(e,t,n,r,o){this.account=e||null,this.idToken=t||null,this.accessToken=n||null,this.refreshToken=r||null,this.appMetadata=o||null};!function(e){e.SW="sw",e.UHW="uhw"}(ns||(ns={}));var ls=function(){function e(e){this.cryptoUtils=e}return e.prototype.generateCnf=function(e){return mn(this,void 0,void 0,(function(){var t,n,r;return vn(this,(function(o){switch(o.label){case 0:return[4,this.generateKid(e)];case 1:return t=o.sent(),n=this.cryptoUtils.base64Encode(JSON.stringify(t)),r={kid:t.kid,reqCnfString:n},[4,this.cryptoUtils.hashString(n)];case 2:return[2,(r.reqCnfHash=o.sent(),r)]}}))}))},e.prototype.generateKid=function(e){return mn(this,void 0,void 0,(function(){return vn(this,(function(t){switch(t.label){case 0:return[4,this.cryptoUtils.getPublicKeyThumbprint(e)];case 1:return[2,{kid:t.sent(),xms_ksl:ns.SW}]}}))}))},e.prototype.signPopToken=function(e,t,n){return mn(this,void 0,void 0,(function(){return vn(this,(function(r){return[2,this.signPayload(e,t,n)]}))}))},e.prototype.signPayload=function(e,t,n,r){return mn(this,void 0,void 0,(function(){var o,i,a,s,c,u;return vn(this,(function(l){switch(l.label){case 0:return o=n.resourceRequestMethod,i=n.resourceRequestUri,a=n.shrClaims,s=n.shrNonce,c=i?new La(i):void 0,u=null===c||void 0===c?void 0:c.getUrlComponents(),[4,this.cryptoUtils.signJwt(gn({at:e,ts:ya.nowSeconds(),m:null===o||void 0===o?void 0:o.toUpperCase(),u:null===u||void 0===u?void 0:u.HostNameAndPort,nonce:s||this.cryptoUtils.createNewGuid(),p:null===u||void 0===u?void 0:u.AbsolutePath,q:(null===u||void 0===u?void 0:u.QueryString)?[[],u.QueryString]:void 0,client_claims:a||void 0},r),t,n.correlationId)];case 1:return[2,l.sent()]}}))}))},e}(),ds=function(){function e(e,t){this.cache=e,this.hasChanged=t}return Object.defineProperty(e.prototype,"cacheHasChanged",{get:function(){return this.hasChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tokenCache",{get:function(){return this.cache},enumerable:!1,configurable:!0}),e}(),hs=function(){function e(e,t,n,r,o,i){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=o,this.persistencePlugin=i}return e.prototype.validateServerAuthorizationCodeResponse=function(e,t,n){if(!e.state||!t)throw e.state?To.createStateNotFoundError("Cached State"):To.createStateNotFoundError("Server State");if(decodeURIComponent(e.state)!==decodeURIComponent(t))throw To.createStateMismatchError();if(e.error||e.error_description||e.suberror){if(Di.isInteractionRequiredError(e.error,e.error_description,e.suberror))throw new Di(e.error||Sn.EMPTY_STRING,e.error_description,e.suberror);throw new qi(e.error||Sn.EMPTY_STRING,e.error_description,e.suberror)}e.client_info&&Hi(e.client_info,n)},e.prototype.validateTokenResponse=function(e){if(e.error||e.error_description||e.suberror){if(Di.isInteractionRequiredError(e.error,e.error_description,e.suberror))throw new Di(e.error,e.error_description,e.suberror);var t=e.error_codes+" - ["+e.timestamp+"]: "+e.error_description+" - Correlation ID: "+e.correlation_id+" - Trace ID: "+e.trace_id;throw new qi(e.error,t,e.suberror)}},e.prototype.handleServerTokenResponse=function(t,n,r,o,i,a,s,c){return mn(this,void 0,void 0,(function(){var u,l,d,h,p;return vn(this,(function(f){switch(f.label){case 0:if(t.id_token&&(u=new fa(t.id_token||Sn.EMPTY_STRING,this.cryptoObj),i&&!Io.isEmpty(i.nonce)&&u.claims.nonce!==i.nonce))throw To.createNonceMismatchError();this.homeAccountIdentifier=ji.generateHomeAccountId(t.client_info||Sn.EMPTY_STRING,n.authorityType,this.logger,this.cryptoObj,u),i&&i.state&&(l=Ta.parseRequestState(this.cryptoObj,i.state)),t.key_id=t.key_id||o.sshKid||void 0,d=this.generateCacheRecord(t,n,r,o,u,a,i),f.label=1;case 1:return f.trys.push([1,,5,8]),this.persistencePlugin&&this.serializableCache?(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),h=new ds(this.serializableCache,!0),[4,this.persistencePlugin.beforeCacheAccess(h)]):[3,3];case 2:f.sent(),f.label=3;case 3:return!s||c||!d.account||(p=d.account.generateAccountKey(),this.cacheStorage.getAccount(p))?[4,this.cacheStorage.saveCacheRecord(d)]:(this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),[2,e.generateAuthenticationResult(this.cryptoObj,n,d,!1,o,u,l,void 0)]);case 4:return f.sent(),[3,8];case 5:return this.persistencePlugin&&this.serializableCache&&h?(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),[4,this.persistencePlugin.afterCacheAccess(h)]):[3,7];case 6:f.sent(),f.label=7;case 7:return[7];case 8:return[2,e.generateAuthenticationResult(this.cryptoObj,n,d,!1,o,u,l,t.spa_code)]}}))}))},e.prototype.generateCacheRecord=function(e,t,n,r,o,i,a){var s,c,u=t.getPreferredCache();if(Io.isEmpty(u))throw To.createInvalidCacheEnvironmentError();!Io.isEmpty(e.id_token)&&o&&(s=va.createIdTokenEntity(this.homeAccountIdentifier,u,e.id_token||Sn.EMPTY_STRING,this.clientId,o.claims.tid||Sn.EMPTY_STRING),c=this.generateAccountEntity(e,o,t,a));var l=null;if(!Io.isEmpty(e.access_token)){var d=e.scope?pa.fromString(e.scope):new pa(r.scopes||[]),h=("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,p=("string"===typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,f=("string"===typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,g=n+h,m=g+p,v=f&&f>0?n+f:void 0;l=ba.createAccessTokenEntity(this.homeAccountIdentifier,u,e.access_token||Sn.EMPTY_STRING,this.clientId,o?o.claims.tid||Sn.EMPTY_STRING:t.tenant,d.printScopes(),g,m,this.cryptoObj,v,e.token_type,i,e.key_id,r.claims,r.requestedClaimsHash)}var y=null;Io.isEmpty(e.refresh_token)||(y=wa.createRefreshTokenEntity(this.homeAccountIdentifier,u,e.refresh_token||Sn.EMPTY_STRING,this.clientId,e.foci,i));var b=null;return Io.isEmpty(e.foci)||(b=Ea.createAppMetadataEntity(this.clientId,u,e.foci)),new us(c,s,l,y,b)},e.prototype.generateAccountEntity=function(e,t,n,r){var o=n.authorityType,i=r?r.cloud_graph_host_name:Sn.EMPTY_STRING,a=r?r.msgraph_host:Sn.EMPTY_STRING;if(o===ki.Adfs)return this.logger.verbose("Authority type is ADFS, creating ADFS account"),ji.createGenericAccount(this.homeAccountIdentifier,t,n,i,a);if(Io.isEmpty(e.client_info)&&"AAD"===n.protocolMode)throw To.createClientInfoEmptyError();return e.client_info?ji.createAccount(e.client_info,this.homeAccountIdentifier,t,n,i,a):ji.createGenericAccount(this.homeAccountIdentifier,t,n,i,a)},e.generateAuthenticationResult=function(e,t,n,r,o,i,a,s){var c,u,l;return mn(this,void 0,void 0,(function(){var d,h,p,f,g,m,v,y,b,w,E;return vn(this,(function(C){switch(C.label){case 0:if(d=Sn.EMPTY_STRING,h=[],p=null,g=Sn.EMPTY_STRING,!n.accessToken)return[3,4];if(n.accessToken.tokenType!==jn.POP)return[3,2];if(m=new ls(e),v=n.accessToken,y=v.secret,!(b=v.keyId))throw To.createKeyIdMissingError();return[4,m.signPopToken(y,b,o)];case 1:return d=C.sent(),[3,3];case 2:d=n.accessToken.secret,C.label=3;case 3:h=pa.fromString(n.accessToken.target).asArray(),p=new Date(1e3*Number(n.accessToken.expiresOn)),f=new Date(1e3*Number(n.accessToken.extendedExpiresOn)),C.label=4;case 4:return n.appMetadata&&(g=n.appMetadata.familyId===Hn?Hn:Sn.EMPTY_STRING),w=(null===i||void 0===i?void 0:i.claims.oid)||(null===i||void 0===i?void 0:i.claims.sub)||Sn.EMPTY_STRING,E=(null===i||void 0===i?void 0:i.claims.tid)||Sn.EMPTY_STRING,[2,{authority:t.canonicalAuthority,uniqueId:w,tenantId:E,scopes:h,account:n.account?n.account.getAccountInfo():null,idToken:i?i.rawToken:Sn.EMPTY_STRING,idTokenClaims:i?i.claims:{},accessToken:d,fromCache:r,expiresOn:p,correlationId:o.correlationId,extExpiresOn:f,familyId:g,tokenType:(null===(c=n.accessToken)||void 0===c?void 0:c.tokenType)||Sn.EMPTY_STRING,state:a?a.userRequestState:Sn.EMPTY_STRING,cloudGraphHostName:(null===(u=n.account)||void 0===u?void 0:u.cloudGraphHostName)||Sn.EMPTY_STRING,msGraphHost:(null===(l=n.account)||void 0===l?void 0:l.msGraphHost)||Sn.EMPTY_STRING,code:s,fromNativeBroker:!1}]}}))}))},e}(),ps=function(e){function t(t){var n=e.call(this,t)||this;return n.includeRedirectUri=!0,n}return fn(t,e),t.prototype.getAuthCodeUrl=function(e){return mn(this,void 0,void 0,(function(){var t;return vn(this,(function(n){switch(n.label){case 0:return[4,this.createAuthCodeUrlQueryString(e)];case 1:return t=n.sent(),[2,La.appendQueryString(this.authority.authorizationEndpoint,t)]}}))}))},t.prototype.acquireToken=function(e,t){return mn(this,void 0,void 0,(function(){var n,r,o;return vn(this,(function(i){switch(i.label){case 0:if(this.logger.info("in acquireToken call"),!e||Io.isEmpty(e.code))throw To.createTokenRequestCannotBeMadeError();return n=ya.nowSeconds(),[4,this.executeTokenRequest(this.authority,e)];case 1:return r=i.sent(),(o=new hs(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(r.body),[4,o.handleServerTokenResponse(r.body,this.authority,n,e,t)];case 2:return[2,i.sent()]}}))}))},t.prototype.handleFragmentResponse=function(e,t){var n=new hs(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null),r=new La(e),o=La.getDeserializedHash(r.getHash());if(n.validateServerAuthorizationCodeResponse(o,t,this.cryptoUtils),!o.code)throw To.createNoAuthCodeInServerResponseError();return gn(gn({},o),{code:o.code})},t.prototype.getLogoutUri=function(e){if(!e)throw ha.createEmptyLogoutRequestError();var t=this.createLogoutUrlQueryString(e);return La.appendQueryString(this.authority.endSessionEndpoint,t)},t.prototype.executeTokenRequest=function(e,t){return mn(this,void 0,void 0,(function(){var n,r,o,i,a,s,c;return vn(this,(function(u){switch(u.label){case 0:return n={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid},[4,this.createTokenRequestBody(t)];case 1:if(r=u.sent(),o=this.createTokenQueryParameters(t),i=void 0,t.clientInfo)try{a=Hi(t.clientInfo,this.cryptoUtils),i={credential:""+a.uid+On.CLIENT_INFO_SEPARATOR+a.utid,type:zi.HOME_ACCOUNT_ID}}catch(l){this.logger.verbose("Could not parse client info for CCS Header: "+l)}return s=this.createTokenRequestHeaders(i||t.ccsCredential),c=Io.isEmpty(o)?e.tokenEndpoint:e.tokenEndpoint+"?"+o,[2,this.executePostToTokenEndpoint(c,r,s,n)]}}))}))},t.prototype.createTokenQueryParameters=function(e){var t=new cs;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()},t.prototype.createTokenRequestBody=function(e){return mn(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return vn(this,(function(c){switch(c.label){case 0:return(t=new cs).addClientId(this.config.authOptions.clientId),this.includeRedirectUri?t.addRedirectUri(e.redirectUri):ss.validateRedirectUri(e.redirectUri),t.addScopes(e.scopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(n=this.config.clientCredentials.clientAssertion,t.addClientAssertion(n.assertion),t.addClientAssertionType(n.assertionType)),t.addGrantType(Pn.AUTHORIZATION_CODE_GRANT),t.addClientInfo(),e.authenticationScheme!==jn.POP?[3,2]:[4,new ls(this.cryptoUtils).generateCnf(e)];case 1:return r=c.sent(),t.addPopToken(r.reqCnfString),[3,3];case 2:if(e.authenticationScheme===jn.SSH){if(!e.sshJwk)throw ha.createMissingSshJwkError();t.addSshJwk(e.sshJwk)}c.label=3;case 3:if(o=e.correlationId||this.config.cryptoInterface.createNewGuid(),t.addCorrelationId(o),(!Io.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),i=void 0,e.clientInfo)try{a=Hi(e.clientInfo,this.cryptoUtils),i={credential:""+a.uid+On.CLIENT_INFO_SEPARATOR+a.utid,type:zi.HOME_ACCOUNT_ID}}catch(u){this.logger.verbose("Could not parse client info for CCS Header: "+u)}else i=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&i)switch(i.type){case zi.HOME_ACCOUNT_ID:try{a=Fi(i.credential),t.addCcsOid(a)}catch(u){this.logger.verbose("Could not parse home account ID for CCS Header: "+u)}break;case zi.UPN:t.addCcsUpn(i.credential)}return e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[Cn.RETURN_SPA_CODE]||t.addExtraQueryParameters(((s={})[Cn.RETURN_SPA_CODE]="1",s)),[2,t.createQueryString()]}}))}))},t.prototype.createAuthCodeUrlQueryString=function(e){return mn(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return vn(this,(function(c){switch(c.label){case 0:if((t=new cs).addClientId(this.config.authOptions.clientId),n=yn(e.scopes||[],e.extraScopesToConsent||[]),t.addScopes(n),t.addRedirectUri(e.redirectUri),r=e.correlationId||this.config.cryptoInterface.createNewGuid(),t.addCorrelationId(r),t.addResponseMode(e.responseMode),t.addResponseTypeCode(),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&t.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&t.addPrompt(e.prompt),e.domainHint&&t.addDomainHint(e.domainHint),e.prompt!==An.SELECT_ACCOUNT)if(e.sid&&e.prompt===An.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),t.addSid(e.sid);else if(e.account){if(o=this.extractAccountSid(e.account),i=this.extractLoginHint(e.account)){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),t.addLoginHint(i);try{a=Fi(e.account.homeAccountId),t.addCcsOid(a)}catch(u){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(o&&e.prompt===An.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),t.addSid(o);try{a=Fi(e.account.homeAccountId),t.addCcsOid(a)}catch(u){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),t.addLoginHint(e.account.username);try{a=Fi(e.account.homeAccountId),t.addCcsOid(a)}catch(u){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&t.addNonce(e.nonce),e.state&&t.addState(e.state),(!Io.isEmpty(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),e.nativeBroker?(t.addNativeBroker(),e.authenticationScheme!==jn.POP?[3,2]:[4,new ls(this.cryptoUtils).generateCnf(e)]):[3,2];case 1:s=c.sent(),t.addPopToken(s.reqCnfHash),c.label=2;case 2:return[2,t.createQueryString()]}}))}))},t.prototype.createLogoutUrlQueryString=function(e){var t=new cs;return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()},t.prototype.extractAccountSid=function(e){var t;return(null===(t=e.idTokenClaims)||void 0===t?void 0:t.sid)||null},t.prototype.extractLoginHint=function(e){var t;return(null===(t=e.idTokenClaims)||void 0===t?void 0:t.login_hint)||null},t}(as);function fs(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}var gs={"https://login.microsoftonline.com/common/":{token_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/common/":{token_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/common/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/common/":{token_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/consumers/":{token_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/consumers/":{token_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/consumers/":{token_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/organizations/":{token_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/organizations/":{token_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/organizations/":{token_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"}},ms={"https://login.microsoftonline.com/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/common/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/consumers/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/organizations/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}};var vs,ys=function(){function e(e){this.networkInterface=e}return e.prototype.detectRegion=function(t,n,r){return mn(this,void 0,void 0,(function(){var o,i,a,s,c;return vn(this,(function(u){switch(u.label){case 0:if(o=t)return[3,8];i=e.IMDS_OPTIONS,r&&(i.proxyUrl=r),u.label=1;case 1:return u.trys.push([1,6,,7]),[4,this.getRegionFromIMDS(Sn.IMDS_VERSION,i)];case 2:return(a=u.sent()).status===Gn.httpSuccess&&(o=a.body,n.region_source=Wn.IMDS),a.status!==Gn.httpBadRequest?[3,5]:[4,this.getCurrentVersion(i)];case 3:return(s=u.sent())?[4,this.getRegionFromIMDS(s,i)]:(n.region_source=Wn.FAILED_AUTO_DETECTION,[2,null]);case 4:(c=u.sent()).status===Gn.httpSuccess&&(o=c.body,n.region_source=Wn.IMDS),u.label=5;case 5:return[3,7];case 6:return u.sent(),n.region_source=Wn.FAILED_AUTO_DETECTION,[2,null];case 7:return[3,9];case 8:n.region_source=Wn.ENVIRONMENT_VARIABLE,u.label=9;case 9:return o||(n.region_source=Wn.FAILED_AUTO_DETECTION),[2,o||null]}}))}))},e.prototype.getRegionFromIMDS=function(e,t){return mn(this,void 0,void 0,(function(){return vn(this,(function(n){return[2,this.networkInterface.sendGetRequestAsync(Sn.IMDS_ENDPOINT+"?api-version="+e+"&format=text",t,Sn.IMDS_TIMEOUT)]}))}))},e.prototype.getCurrentVersion=function(e){return mn(this,void 0,void 0,(function(){var t;return vn(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.networkInterface.sendGetRequestAsync(Sn.IMDS_ENDPOINT+"?format=json",e)];case 1:return(t=n.sent()).status===Gn.httpBadRequest&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?[2,t.body["newest-versions"][0]]:[2,null];case 2:return n.sent(),[2,null];case 3:return[2]}}))}))},e.IMDS_OPTIONS={headers:{Metadata:"true"}},e}(),bs=function(){function e(e,t,n,r,o){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscovery=new ys(t),this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.proxyUrl=o||Sn.EMPTY_STRING}return Object.defineProperty(e.prototype,"authorityType",{get:function(){var e=this.canonicalAuthorityUrlComponents.PathSegments;return e.length&&e[0].toLowerCase()===Sn.ADFS?ki.Adfs:ki.Default},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"protocolMode",{get:function(){return this.authorityOptions.protocolMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.authorityOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canonicalAuthority",{get:function(){return this._canonicalAuthority.urlString},set:function(e){this._canonicalAuthority=new La(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canonicalAuthorityUrlComponents",{get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hostnameAndPort",{get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tenant",{get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authorizationEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.authorization_endpoint);return this.replaceTenant(e)}throw To.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tokenEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.token_endpoint);return this.replaceTenant(e)}throw To.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceCodeEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));return this.replaceTenant(e)}throw To.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endSessionEndpoint",{get:function(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw To.createLogoutNotSupportedError();var e=this.replacePath(this.metadata.end_session_endpoint);return this.replaceTenant(e)}throw To.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selfSignedJwtAudience",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.issuer);return this.replaceTenant(e)}throw To.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"jwksUri",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.jwks_uri);return this.replaceTenant(e)}throw To.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),e.prototype.replaceTenant=function(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)},e.prototype.replacePath=function(e){var t=e,n=new La(this.metadata.canonical_authority).getUrlComponents().PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((function(e,r){var o=n[r];e!==o&&(t=t.replace("/"+o+"/","/"+e+"/"))})),t},Object.defineProperty(e.prototype,"defaultOpenIdConfigurationEndpoint",{get:function(){return this.authorityType===ki.Adfs||this.protocolMode===Ia.OIDC?this.canonicalAuthority+".well-known/openid-configuration":this.canonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!1,configurable:!0}),e.prototype.discoveryComplete=function(){return!!this.metadata},e.prototype.resolveEndpointsAsync=function(){return mn(this,void 0,void 0,(function(){var e,t,n,r;return vn(this,(function(o){switch(o.label){case 0:return(e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort))||(e=new _a).updateCanonicalAuthority(this.canonicalAuthority),[4,this.updateCloudDiscoveryMetadata(e)];case 1:return t=o.sent(),this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network),[4,this.updateEndpointMetadata(e)];case 2:return n=o.sent(),t!==Dn.CACHE&&n!==Dn.CACHE&&(e.resetExpiresAt(),e.updateCanonicalAuthority(this.canonicalAuthority)),r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache),this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e,[2]}}))}))},e.prototype.updateEndpointMetadata=function(e){var t,n;return mn(this,void 0,void 0,(function(){var r,o;return vn(this,(function(i){switch(i.label){case 0:return(r=this.getEndpointMetadataFromConfig())?(e.updateEndpointMetadata(r,!1),[2,Dn.CONFIG]):this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!e.isExpired()?[2,Dn.CACHE]:(o=this.getEndpointMetadataFromHardcodedValues(),[4,this.getEndpointMetadataFromNetwork()]);case 1:return(r=i.sent())?(null===(t=this.authorityOptions.azureRegionConfiguration)||void 0===t?void 0:t.azureRegion)?[4,this.updateMetadataWithRegionalInformation(r)]:[3,3]:[3,4];case 2:r=i.sent(),i.label=3;case 3:return e.updateEndpointMetadata(r,!0),[2,Dn.NETWORK];case 4:return!o||this.authorityOptions.skipAuthorityMetadataCache?[3,7]:(null===(n=this.authorityOptions.azureRegionConfiguration)||void 0===n?void 0:n.azureRegion)?[4,this.updateMetadataWithRegionalInformation(o)]:[3,6];case 5:o=i.sent(),i.label=6;case 6:return e.updateEndpointMetadata(o,!1),[2,Dn.HARDCODED_VALUES];case 7:throw To.createUnableToGetOpenidConfigError(this.defaultOpenIdConfigurationEndpoint)}}))}))},e.prototype.isAuthoritySameType=function(e){return new La(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length},e.prototype.getEndpointMetadataFromConfig=function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw ha.createInvalidAuthorityMetadataError()}return null},e.prototype.getEndpointMetadataFromNetwork=function(){return mn(this,void 0,void 0,(function(){var e,t;return vn(this,(function(n){switch(n.label){case 0:e={},this.proxyUrl&&(e.proxyUrl=this.proxyUrl),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(this.defaultOpenIdConfigurationEndpoint,e)];case 2:return[2,fs((t=n.sent()).body)?t.body:null];case 3:return n.sent(),[2,null];case 4:return[2]}}))}))},e.prototype.getEndpointMetadataFromHardcodedValues=function(){return this.canonicalAuthority in gs?gs[this.canonicalAuthority]:null},e.prototype.updateMetadataWithRegionalInformation=function(t){var n,r,o,i,a;return mn(this,void 0,void 0,(function(){var s,c;return vn(this,(function(u){switch(u.label){case 0:return[4,this.regionDiscovery.detectRegion(null===(n=this.authorityOptions.azureRegionConfiguration)||void 0===n?void 0:n.environmentRegion,this.regionDiscoveryMetadata,this.proxyUrl)];case 1:return s=u.sent(),c=(null===(r=this.authorityOptions.azureRegionConfiguration)||void 0===r?void 0:r.azureRegion)===Sn.AZURE_REGION_AUTO_DISCOVER_FLAG?s:null===(o=this.authorityOptions.azureRegionConfiguration)||void 0===o?void 0:o.azureRegion,(null===(i=this.authorityOptions.azureRegionConfiguration)||void 0===i?void 0:i.azureRegion)===Sn.AZURE_REGION_AUTO_DISCOVER_FLAG?this.regionDiscoveryMetadata.region_outcome=s?Vn.AUTO_DETECTION_REQUESTED_SUCCESSFUL:Vn.AUTO_DETECTION_REQUESTED_FAILED:this.regionDiscoveryMetadata.region_outcome=s?(null===(a=this.authorityOptions.azureRegionConfiguration)||void 0===a?void 0:a.azureRegion)===s?Vn.CONFIGURED_MATCHES_DETECTED:Vn.CONFIGURED_NOT_DETECTED:Vn.CONFIGURED_NO_AUTO_DETECTION,c?(this.regionDiscoveryMetadata.region_used=c,[2,e.replaceWithRegionalInformation(t,c)]):[2,t]}}))}))},e.prototype.updateCloudDiscoveryMetadata=function(e){return mn(this,void 0,void 0,(function(){var t,n;return vn(this,(function(r){switch(r.label){case 0:return(t=this.getCloudDiscoveryMetadataFromConfig())?(e.updateCloudDiscoveryMetadata(t,!1),[2,Dn.CONFIG]):this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!e.isExpired()?[2,Dn.CACHE]:(n=this.getCloudDiscoveryMetadataFromHarcodedValues(),[4,this.getCloudDiscoveryMetadataFromNetwork()]);case 1:if(t=r.sent())return e.updateCloudDiscoveryMetadata(t,!0),[2,Dn.NETWORK];if(n&&!this.options.skipAuthorityMetadataCache)return e.updateCloudDiscoveryMetadata(n,!1),[2,Dn.HARDCODED_VALUES];throw ha.createUntrustedAuthorityError()}}))}))},e.prototype.getCloudDiscoveryMetadataFromConfig=function(){if(this.authorityOptions.cloudDiscoveryMetadata)try{var t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),n=e.getCloudDiscoveryMetadataFromNetworkResponse(t.metadata,this.hostnameAndPort);if(n)return n}catch(r){throw ha.createInvalidCloudDiscoveryMetadataError()}return this.isInKnownAuthorities()?e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort):null},e.prototype.getCloudDiscoveryMetadataFromNetwork=function(){return mn(this,void 0,void 0,(function(){var t,n,r,o,i;return vn(this,(function(a){switch(a.label){case 0:t=""+Sn.AAD_INSTANCE_DISCOVERY_ENDPT+this.canonicalAuthority+"oauth2/v2.0/authorize",n={},this.proxyUrl&&(n.proxyUrl=this.proxyUrl),r=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(t,n)];case 2:return o=a.sent(),i=function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(o.body)?o.body.metadata:[],0===i.length?[2,null]:(r=e.getCloudDiscoveryMetadataFromNetworkResponse(i,this.hostnameAndPort),[3,4]);case 3:return a.sent(),[2,null];case 4:return r||(r=e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),[2,r]}}))}))},e.prototype.getCloudDiscoveryMetadataFromHarcodedValues=function(){return this.canonicalAuthority in ms?ms[this.canonicalAuthority]:null},e.prototype.isInKnownAuthorities=function(){var e=this;return this.authorityOptions.knownAuthorities.filter((function(t){return La.getDomainFromUrl(t).toLowerCase()===e.hostnameAndPort})).length>0},e.generateAuthority=function(e,t){var n;if(t&&t.azureCloudInstance!==ka.None){var r=t.tenant?t.tenant:Sn.DEFAULT_COMMON_TENANT;n=t.azureCloudInstance+"/"+r+"/"}return n||e},e.createCloudDiscoveryMetadataFromHost=function(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}},e.getCloudDiscoveryMetadataFromNetworkResponse=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.aliases.indexOf(t)>-1)return r}return null},e.prototype.getPreferredCache=function(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw To.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},e.prototype.isAlias=function(e){return this.metadata.aliases.indexOf(e)>-1},e.isPublicCloudAuthority=function(e){return Sn.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0},e.buildRegionalAuthorityString=function(e,t,n){var r=new La(e);r.validateAsUri();var o=r.getUrlComponents(),i=t+"."+o.HostNameAndPort;this.isPublicCloudAuthority(o.HostNameAndPort)&&(i=t+"."+Sn.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX);var a=La.constructAuthorityUriFromObject(gn(gn({},r.getUrlComponents()),{HostNameAndPort:i})).urlString;return n?a+"?"+n:a},e.replaceWithRegionalInformation=function(t,n){return t.authorization_endpoint=e.buildRegionalAuthorityString(t.authorization_endpoint,n),t.token_endpoint=e.buildRegionalAuthorityString(t.token_endpoint,n,"allowestsrnonmsi=true"),t.end_session_endpoint&&(t.end_session_endpoint=e.buildRegionalAuthorityString(t.end_session_endpoint,n)),t},e}(),ws=function(){function e(){}return e.createDiscoveredInstance=function(t,n,r,o,i){return mn(this,void 0,void 0,(function(){var a,s;return vn(this,(function(c){switch(c.label){case 0:a=e.createInstance(t,n,r,o,i),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,a.resolveEndpointsAsync()];case 2:return c.sent(),[2,a];case 3:throw s=c.sent(),To.createEndpointDiscoveryIncompleteError(s);case 4:return[2]}}))}))},e.createInstance=function(e,t,n,r,o){if(Io.isEmpty(e))throw ha.createUrlEmptyError();return new bs(e,t,n,r,o)},e}(),Es=function(){function e(e,t){this.cacheOutcome=Yn.NO_CACHE_HIT,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||Sn.EMPTY_STRING,this.wrapperVer=e.wrapperVer||Sn.EMPTY_STRING,this.telemetryCacheKey=Kn.CACHE_KEY+On.CACHE_KEY_SEPARATOR+e.clientId}return e.prototype.generateCurrentRequestHeaderValue=function(){var e=""+this.apiId+Kn.VALUE_SEPARATOR+this.cacheOutcome,t=[this.wrapperSKU,this.wrapperVer].join(Kn.VALUE_SEPARATOR),n=[e,this.getRegionDiscoveryFields()].join(Kn.VALUE_SEPARATOR);return[Kn.SCHEMA_VERSION,n,t].join(Kn.CATEGORY_SEPARATOR)},e.prototype.generateLastRequestHeaderValue=function(){var t=this.getLastRequests(),n=e.maxErrorsToSend(t),r=t.failedRequests.slice(0,2*n).join(Kn.VALUE_SEPARATOR),o=t.errors.slice(0,n).join(Kn.VALUE_SEPARATOR),i=t.errors.length,a=[i,n<i?Kn.OVERFLOW_TRUE:Kn.OVERFLOW_FALSE].join(Kn.VALUE_SEPARATOR);return[Kn.SCHEMA_VERSION,t.cacheHits,r,o,a].join(Kn.CATEGORY_SEPARATOR)},e.prototype.cacheFailedRequest=function(e){var t=this.getLastRequests();t.errors.length>=Kn.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),Io.isEmpty(e.subError)?Io.isEmpty(e.errorCode)?e&&e.toString()?t.errors.push(e.toString()):t.errors.push(Kn.UNKNOWN_ERROR):t.errors.push(e.errorCode):t.errors.push(e.subError),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)},e.prototype.incrementCacheHits=function(){var e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits},e.prototype.getLastRequests=function(){var e=new Ca;return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e},e.prototype.clearTelemetryCache=function(){var t=this.getLastRequests(),n=e.maxErrorsToSend(t);if(n===t.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{var r=new Ca;r.failedRequests=t.failedRequests.slice(2*n),r.errors=t.errors.slice(n),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r)}},e.maxErrorsToSend=function(e){var t,n=0,r=0,o=e.errors.length;for(t=0;t<o;t++){var i=e.failedRequests[2*t]||Sn.EMPTY_STRING,a=e.failedRequests[2*t+1]||Sn.EMPTY_STRING,s=e.errors[t]||Sn.EMPTY_STRING;if(!((r+=i.toString().length+a.toString().length+s.length+3)<Kn.MAX_LAST_HEADER_BYTES))break;n+=1}return n},e.prototype.getRegionDiscoveryFields=function(){var e=[];return e.push(this.regionUsed||Sn.EMPTY_STRING),e.push(this.regionSource||Sn.EMPTY_STRING),e.push(this.regionOutcome||Sn.EMPTY_STRING),e.join(",")},e.prototype.updateRegionDiscoveryMetadata=function(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome},e.prototype.setCacheOutcome=function(e){this.cacheOutcome=e},e}(),Cs=function(){function e(e,t,n,r,o,i,a,s,c){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=i,this.nativeMessageHandler=s,this.correlationId=c||this.browserCrypto.createNewGuid(),this.logger=r.clone(gr,ts,this.correlationId),this.performanceClient=a}return e.prototype.clearCacheOnLogout=function(e){return un(this,void 0,void 0,(function(){return ln(this,(function(t){switch(t.label){case 0:if(!e)return[3,5];ji.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null)),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.browserStorage.removeAccount(ji.generateAccountCacheKey(e))];case 2:return t.sent(),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request."),[3,4];case 3:return t.sent(),this.logger.error("Account provided in logout request was not found. Local cache unchanged."),[3,4];case 4:return[3,9];case 5:return t.trys.push([5,8,,9]),this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),[4,this.browserStorage.clear()];case 6:return t.sent(),[4,this.browserCrypto.clearKeystore()];case 7:return t.sent(),[3,9];case 8:return t.sent(),this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged."),[3,9];case 9:return[2]}}))}))},e.prototype.initializeBaseRequest=function(e){return un(this,void 0,void 0,(function(){var t,n,r,o;return ln(this,(function(i){switch(i.label){case 0:if(this.logger.verbose("Initializing BaseAuthRequest"),t=e.authority||this.config.auth.authority,n=hn(e&&e.scopes||[]),(r=cn(cn({},e),{correlationId:this.correlationId,authority:t,scopes:n})).authenticationScheme){if(r.authenticationScheme===jn.SSH){if(!e.sshJwk)throw ha.createMissingSshJwkError();if(!e.sshKid)throw ha.createMissingSshKidError()}this.logger.verbose('Authentication Scheme set to "'+r.authenticationScheme+'" as configured in Auth request')}else r.authenticationScheme=jn.BEARER,this.logger.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return!e.claims||Io.isEmpty(e.claims)?[3,2]:(o=r,[4,this.browserCrypto.hashString(e.claims)]);case 1:o.requestedClaimsHash=i.sent(),i.label=2;case 2:return[2,r]}}))}))},e.prototype.getRedirectUri=function(e){this.logger.verbose("getRedirectUri called");var t=e||this.config.auth.redirectUri||Ja.getCurrentUri();return La.getAbsoluteUrl(t,Ja.getCurrentUri())},e.prototype.initializeServerTelemetryManager=function(e,t){this.logger.verbose("initializeServerTelemetryManager called");var n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Es(n,this.browserStorage)},e.prototype.getDiscoveredAuthority=function(e){return un(this,void 0,void 0,(function(){var t;return ln(this,(function(n){switch(n.label){case 0:return this.logger.verbose("getDiscoveredAuthority called"),t={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},e?(this.logger.verbose("Creating discovered authority with request authority"),[4,ws.createDiscoveredInstance(e,this.config.system.networkClient,this.browserStorage,t)]):[3,2];case 1:case 3:return[2,n.sent()];case 2:return this.logger.verbose("Creating discovered authority with configured authority"),[4,ws.createDiscoveredInstance(this.config.auth.authority,this.config.system.networkClient,this.browserStorage,t)]}}))}))},e}(),_s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return on(t,e),t.prototype.initializeAuthorizationCodeRequest=function(e){return un(this,void 0,void 0,(function(){var t,n;return ln(this,(function(r){switch(r.label){case 0:return this.logger.verbose("initializeAuthorizationRequest called",e.correlationId),[4,this.browserCrypto.generatePkceCodes()];case 1:return t=r.sent(),n=cn(cn({},e),{redirectUri:e.redirectUri,code:Sn.EMPTY_STRING,codeVerifier:t.verifier}),e.codeChallenge=t.challenge,e.codeChallengeMethod=Sn.S256_CODE_CHALLENGE_METHOD,[2,n]}}))}))},t.prototype.initializeLogoutRequest=function(e){this.logger.verbose("initializeLogoutRequest called",null===e||void 0===e?void 0:e.correlationId);var t=cn({correlationId:this.correlationId||this.browserCrypto.createNewGuid()},e);if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){var n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=La.getAbsoluteUrl(e.postLogoutRedirectUri,Ja.getCurrentUri())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=La.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Ja.getCurrentUri())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=La.getAbsoluteUrl(Ja.getCurrentUri(),Ja.getCurrentUri())),t},t.prototype.getLogoutHintFromIdTokenClaims=function(e){var t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null},t.prototype.createAuthCodeClient=function(e,t,n){return un(this,void 0,void 0,(function(){var r;return ln(this,(function(o){switch(o.label){case 0:return[4,this.getClientConfiguration(e,t,n)];case 1:return r=o.sent(),[2,new ps(r)]}}))}))},t.prototype.getClientConfiguration=function(e,t,n){return un(this,void 0,void 0,(function(){var r;return ln(this,(function(o){switch(o.label){case 0:return this.logger.verbose("getClientConfiguration called",this.correlationId),[4,this.getDiscoveredAuthority(t,n)];case 1:return r=o.sent(),[2,{authOptions:{clientId:this.config.auth.clientId,authority:r,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,logLevel:this.config.system.loggerOptions.logLevel,correlationId:this.correlationId},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:gr,version:ts,cpu:Sn.EMPTY_STRING,os:Sn.EMPTY_STRING},telemetry:this.config.telemetry}]}}))}))},t.prototype.validateAndExtractStateFromHash=function(e,t,n){if(this.logger.verbose("validateAndExtractStateFromHash called",n),!e.state)throw vi.createHashDoesNotContainStateError();var r=Da.extractBrowserRequestState(this.browserCrypto,e.state);if(!r)throw vi.createUnableToParseStateError();if(r.interactionType!==t)throw vi.createStateInteractionTypeMismatchError();return this.logger.verbose("Returning state from hash",n),e.state},t.prototype.getDiscoveredAuthority=function(e,t){return un(this,void 0,void 0,(function(){var n,r,o,i;return ln(this,(function(a){switch(a.label){case 0:return this.logger.verbose("getDiscoveredAuthority called",this.correlationId),n=this.performanceClient.startMeasurement(an.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),r={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e||this.config.auth.authority,i=bs.generateAuthority(o,t||this.config.auth.azureCloudOptions),this.logger.verbose("Creating discovered authority with configured authority",this.correlationId),[4,ws.createDiscoveredInstance(i,this.config.system.networkClient,this.browserStorage,r).then((function(e){return n.endMeasurement({success:!0}),e})).catch((function(e){throw n.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e}))];case 1:return[2,a.sent()]}}))}))},t.prototype.initializeAuthorizationRequest=function(e,t){return un(this,void 0,void 0,(function(){var n,r,o,i,a,s,c;return ln(this,(function(u){switch(u.label){case 0:return this.logger.verbose("initializeAuthorizationRequest called",this.correlationId),n=this.getRedirectUri(e.redirectUri),r={interactionType:t},o=Ta.setRequestState(this.browserCrypto,e&&e.state||Sn.EMPTY_STRING,r),a=[{}],[4,this.initializeBaseRequest(e)];case 1:return i=cn.apply(void 0,[cn.apply(void 0,a.concat([u.sent()])),{redirectUri:n,state:o,nonce:e.nonce||this.browserCrypto.createNewGuid(),responseMode:Rn.FRAGMENT}]),(s=e.account||this.browserStorage.getActiveAccount())&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii("Setting validated request account: "+s.homeAccountId,this.correlationId),i.account=s),Io.isEmpty(i.loginHint)&&!s&&(c=this.browserStorage.getLegacyLoginHint())&&(i.loginHint=c),[2,i]}}))}))},t}(Cs);!function(e){e.USER_INTERACTION_REQUIRED="USER_INTERACTION_REQUIRED",e.USER_CANCEL="USER_CANCEL",e.NO_NETWORK="NO_NETWORK",e.TRANSIENT_ERROR="TRANSIENT_ERROR",e.PERSISTENT_ERROR="PERSISTENT_ERROR",e.DISABLED="DISABLED",e.ACCOUNT_UNAVAILABLE="ACCOUNT_UNAVAILABLE"}(vs||(vs={}));var Ss={code:"ContentError"},Ts={code:"user_switch",desc:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."},Is={code:"tokens_not_found_in_internal_memory_cache",desc:"Tokens not cached in MSAL JS internal memory, please make the WAM request"},ks=function(e){function t(n,r,o){var i=e.call(this,n,r)||this;return Object.setPrototypeOf(i,t.prototype),i.name="NativeAuthError",i.ext=o,i}return on(t,e),t.prototype.isFatal=function(){return!(!this.ext||!this.ext.status||this.ext.status!==vs.PERSISTENT_ERROR&&this.ext.status!==vs.DISABLED)||this.errorCode===Ss.code},t.createError=function(e,n,r){if(r&&r.status)switch(r.status){case vs.ACCOUNT_UNAVAILABLE:return Di.createNativeAccountUnavailableError();case vs.USER_INTERACTION_REQUIRED:return new Di(e,n);case vs.USER_CANCEL:return vi.createUserCancelledError();case vs.NO_NETWORK:return vi.createNoNetworkConnectivityError()}return new t(e,n,r)},t.createUserSwitchError=function(){return new t(Ts.code,Ts.desc)},t.createTokensNotFoundInCacheError=function(){return new t(Is.code,Is.desc)},t}(Ir),As=function(e){function t(t,n){return e.call(this,t,n)||this}return fn(t,e),t.prototype.acquireToken=function(e){return mn(this,void 0,void 0,(function(){var t,n,r;return vn(this,(function(o){switch(o.label){case 0:return t=ya.nowSeconds(),[4,this.executeTokenRequest(e,this.authority)];case 1:return n=o.sent(),(r=new hs(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(n.body),[2,r.handleServerTokenResponse(n.body,this.authority,t,e,void 0,void 0,!0,e.forceCache)]}}))}))},t.prototype.acquireTokenByRefreshToken=function(e){return mn(this,void 0,void 0,(function(){var t,n;return vn(this,(function(r){if(!e)throw ha.createEmptyTokenRequestError();if(!e.account)throw To.createNoAccountInSilentRequestError();if(this.cacheManager.isAppMetadataFOCI(e.account.environment,this.config.authOptions.clientId))try{return[2,this.acquireTokenWithCachedRefreshToken(e,!0)]}catch(o){if(t=o instanceof Di&&o.errorCode===Ui.code,n=o instanceof qi&&o.errorCode===er&&o.subError===tr,t||n)return[2,this.acquireTokenWithCachedRefreshToken(e,!1)];throw o}return[2,this.acquireTokenWithCachedRefreshToken(e,!1)]}))}))},t.prototype.acquireTokenWithCachedRefreshToken=function(e,t){return mn(this,void 0,void 0,(function(){var n,r;return vn(this,(function(o){if(!(n=this.cacheManager.readRefreshTokenFromCache(this.config.authOptions.clientId,e.account,t)))throw Di.createNoTokensFoundError();return r=gn(gn({},e),{refreshToken:n.secret,authenticationScheme:e.authenticationScheme||jn.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:zi.HOME_ACCOUNT_ID}}),[2,this.acquireToken(r)]}))}))},t.prototype.executeTokenRequest=function(e,t){var n;return mn(this,void 0,void 0,(function(){var r,o,i,a,s,c;return vn(this,(function(u){switch(u.label){case 0:return r=null===(n=this.performanceClient)||void 0===n?void 0:n.startMeasurement(an.RefreshTokenClientExecuteTokenRequest,e.correlationId),[4,this.createTokenRequestBody(e)];case 1:return o=u.sent(),i=this.createTokenQueryParameters(e),a=this.createTokenRequestHeaders(e.ccsCredential),s={clientId:this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},c=La.appendQueryString(t.tokenEndpoint,i),[2,this.executePostToTokenEndpoint(c,o,a,s).then((function(e){return null===r||void 0===r||r.endMeasurement({success:!0}),e})).catch((function(e){throw null===r||void 0===r||r.endMeasurement({success:!1}),e}))]}}))}))},t.prototype.createTokenQueryParameters=function(e){var t=new cs;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()},t.prototype.createTokenRequestBody=function(e){var t;return mn(this,void 0,void 0,(function(){var n,r,o,i,a,s;return vn(this,(function(c){switch(c.label){case 0:return n=e.correlationId,r=null===(t=this.performanceClient)||void 0===t?void 0:t.startMeasurement(an.BaseClientCreateTokenRequestHeaders,n),(o=new cs).addClientId(this.config.authOptions.clientId),o.addScopes(e.scopes),o.addGrantType(Pn.REFRESH_TOKEN_GRANT),o.addClientInfo(),o.addLibraryInfo(this.config.libraryInfo),o.addApplicationTelemetry(this.config.telemetry.application),o.addThrottling(),this.serverTelemetryManager&&o.addServerTelemetry(this.serverTelemetryManager),o.addCorrelationId(n),o.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&o.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(i=this.config.clientCredentials.clientAssertion,o.addClientAssertion(i.assertion),o.addClientAssertionType(i.assertionType)),e.authenticationScheme!==jn.POP?[3,2]:[4,new ls(this.cryptoUtils).generateCnf(e)];case 1:return a=c.sent(),o.addPopToken(a.reqCnfString),[3,3];case 2:if(e.authenticationScheme===jn.SSH){if(!e.sshJwk)throw null===r||void 0===r||r.endMeasurement({success:!1}),ha.createMissingSshJwkError();o.addSshJwk(e.sshJwk)}c.label=3;case 3:if((!Io.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&o.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case zi.HOME_ACCOUNT_ID:try{s=Fi(e.ccsCredential.credential),o.addCcsOid(s)}catch(u){this.logger.verbose("Could not parse home account ID for CCS Header: "+u)}break;case zi.UPN:o.addCcsUpn(e.ccsCredential.credential)}return null===r||void 0===r||r.endMeasurement({success:!0}),[2,o.createQueryString()]}}))}))},t}(as),Rs=function(e){function t(t,n){return e.call(this,t,n)||this}return fn(t,e),t.prototype.acquireToken=function(e){return mn(this,void 0,void 0,(function(){var t;return vn(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.acquireCachedToken(e)];case 1:return[2,n.sent()];case 2:if((t=n.sent())instanceof To&&t.errorCode===yo.code)return[2,new As(this.config,this.performanceClient).acquireTokenByRefreshToken(e)];throw t;case 3:return[2]}}))}))},t.prototype.acquireCachedToken=function(e){var t,n,r,o;return mn(this,void 0,void 0,(function(){var i,a;return vn(this,(function(s){switch(s.label){case 0:if(!e)throw ha.createEmptyTokenRequestError();if(e.forceRefresh)throw null===(t=this.serverTelemetryManager)||void 0===t||t.setCacheOutcome(Yn.FORCE_REFRESH),this.logger.info("SilentFlowClient:acquireCachedToken - Skipping cache because forceRefresh is true."),To.createRefreshRequiredError();if(!e.account)throw To.createNoAccountInSilentRequestError();if(i=e.authority||this.authority.getPreferredCache(),!(a=this.cacheManager.readCacheRecord(e.account,this.config.authOptions.clientId,e,i)).accessToken)throw null===(n=this.serverTelemetryManager)||void 0===n||n.setCacheOutcome(Yn.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),To.createRefreshRequiredError();if(ya.wasClockTurnedBack(a.accessToken.cachedAt)||ya.isTokenExpired(a.accessToken.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw null===(r=this.serverTelemetryManager)||void 0===r||r.setCacheOutcome(Yn.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token is expired or will expire within "+this.config.systemOptions.tokenRenewalOffsetSeconds+" seconds."),To.createRefreshRequiredError();if(a.accessToken.refreshOn&&ya.isTokenExpired(a.accessToken.refreshOn,0))throw null===(o=this.serverTelemetryManager)||void 0===o||o.setCacheOutcome(Yn.REFRESH_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'."),To.createRefreshRequiredError();return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[4,this.generateResultFromCacheRecord(a,e)];case 1:return[2,s.sent()]}}))}))},t.prototype.generateResultFromCacheRecord=function(e,t){return mn(this,void 0,void 0,(function(){var n;return vn(this,(function(r){switch(r.label){case 0:return e.idToken&&(n=new fa(e.idToken.secret,this.config.cryptoInterface)),[4,hs.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)];case 1:return[2,r.sent()]}}))}))},t}(as),Ps=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return on(t,e),t.prototype.acquireToken=function(e){return un(this,void 0,void 0,(function(){var t,n,r,o,i;return ln(this,(function(a){switch(a.label){case 0:return t=this.performanceClient.startMeasurement(an.SilentCacheClientAcquireToken,e.correlationId),n=this.initializeServerTelemetryManager(sr.acquireTokenSilent_silentFlow),[4,this.createSilentFlowClient(n,e.authority,e.azureCloudOptions)];case 1:r=a.sent(),this.logger.verbose("Silent auth client created"),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,r.acquireCachedToken(e)];case 3:return o=a.sent(),t.endMeasurement({success:!0,fromCache:!0}),[2,o];case 4:throw(i=a.sent())instanceof vi&&i.errorCode===si.code&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),t.endMeasurement({errorCode:i instanceof Ir&&i.errorCode||void 0,subErrorCode:i instanceof Ir&&i.subError||void 0,success:!1}),i;case 5:return[2]}}))}))},t.prototype.logout=function(){return Promise.reject(vi.createSilentLogoutUnsupportedError())},t.prototype.createSilentFlowClient=function(e,t,n){return un(this,void 0,void 0,(function(){var r;return ln(this,(function(o){switch(o.label){case 0:return[4,this.getClientConfiguration(e,t,n)];case 1:return r=o.sent(),[2,new Rs(r,this.performanceClient)]}}))}))},t.prototype.initializeSilentRequest=function(e,t){return un(this,void 0,void 0,(function(){var n;return ln(this,(function(r){switch(r.label){case 0:return n=[cn({},e)],[4,this.initializeBaseRequest(e)];case 1:return[2,cn.apply(void 0,[cn.apply(void 0,n.concat([r.sent()])),{account:t,forceRefresh:e.forceRefresh||!1}])]}}))}))},t}(_s),Ns=function(e){function t(t,n,r,o,i,a,s,c,u,l,d,h){var p=e.call(this,t,n,r,o,i,a,c,u,h)||this;return p.apiId=s,p.accountId=l,p.nativeMessageHandler=u,p.nativeStorageManager=d,p.silentCacheClient=new Ps(t,p.nativeStorageManager,r,o,i,a,c,u,h),p}return on(t,e),t.prototype.acquireToken=function(e){return un(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return ln(this,(function(c){switch(c.label){case 0:return this.logger.trace("NativeInteractionClient - acquireToken called."),t=this.performanceClient.startMeasurement(an.NativeInteractionClientAcquireToken,e.correlationId),n=ya.nowSeconds(),[4,this.initializeNativeRequest(e)];case 1:r=c.sent(),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.acquireTokensFromCache(this.accountId,r)];case 3:return o=c.sent(),t.endMeasurement({success:!0,isNativeBroker:!0,fromCache:!0}),[2,o];case 4:return c.sent(),this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call"),[3,5];case 5:return i={method:nr.GetToken,request:r},[4,this.nativeMessageHandler.sendMessage(i)];case 6:return a=c.sent(),s=this.validateNativeResponse(a),[2,this.handleNativeResponse(s,r,n).then((function(e){return t.endMeasurement({success:!0,isNativeBroker:!0}),e})).catch((function(e){throw t.endMeasurement({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))]}}))}))},t.prototype.createSilentCacheRequest=function(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:pa.fromString(e.scope).asArray(),account:t,forceRefresh:!1}},t.prototype.acquireTokensFromCache=function(e,t){return un(this,void 0,void 0,(function(){var n,r,o;return ln(this,(function(i){switch(i.label){case 0:if(!(n=this.browserStorage.readAccountFromCacheWithNativeAccountId(e)))throw To.createNoAccountFoundError();r=n.getAccountInfo(),i.label=1;case 1:return i.trys.push([1,3,,4]),o=this.createSilentCacheRequest(t,r),[4,this.silentCacheClient.acquireToken(o)];case 2:return[2,i.sent()];case 3:throw i.sent();case 4:return[2]}}))}))},t.prototype.acquireTokenRedirect=function(e){return un(this,void 0,void 0,(function(){var t,n,r,o,i,a;return ln(this,(function(s){switch(s.label){case 0:return this.logger.trace("NativeInteractionClient - acquireTokenRedirect called."),[4,this.initializeNativeRequest(e)];case 1:t=s.sent(),n={method:nr.GetToken,request:t},s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.nativeMessageHandler.sendMessage(n)];case 3:return r=s.sent(),this.validateNativeResponse(r),[3,5];case 4:if((o=s.sent())instanceof ks&&o.isFatal())throw o;return[3,5];case 5:return this.browserStorage.setTemporaryCache(ir.NATIVE_REQUEST,JSON.stringify(t),!0),i={apiId:sr.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri),[4,this.navigationClient.navigateExternal(a,i)];case 6:return s.sent(),[2]}}))}))},t.prototype.handleRedirectPromise=function(){return un(this,void 0,void 0,(function(){var e,t,n,r,o,i;return ln(this,(function(a){switch(a.label){case 0:if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(e=this.browserStorage.getCachedNativeRequest()))return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),[2,null];this.browserStorage.removeItem(this.browserStorage.generateCacheKey(ir.NATIVE_REQUEST)),t={method:nr.GetToken,request:e},n=ya.nowSeconds(),a.label=1;case 1:return a.trys.push([1,3,,4]),this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker."),[4,this.nativeMessageHandler.sendMessage(t)];case 2:return r=a.sent(),this.validateNativeResponse(r),o=this.handleNativeResponse(r,e,n),this.browserStorage.setInteractionInProgress(!1),[2,o];case 3:throw i=a.sent(),this.browserStorage.setInteractionInProgress(!1),i;case 4:return[2]}}))}))},t.prototype.logout=function(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")},t.prototype.handleNativeResponse=function(e,t,n){return un(this,void 0,void 0,(function(){var r,o,i,a,s,c,u,l,d,h,p,f,g,m,v,y,b,w,E,C=this;return ln(this,(function(_){switch(_.label){case 0:if(this.logger.trace("NativeInteractionClient - handleNativeResponse called."),e.account.id!==t.accountId)throw ks.createUserSwitchError();return r=new fa(e.id_token||Sn.EMPTY_STRING,this.browserCrypto),[4,this.getDiscoveredAuthority(t.authority)];case 1:return o=_.sent(),i=o.getPreferredCache(),a=ji.generateHomeAccountId(e.client_info||Sn.EMPTY_STRING,ki.Default,this.logger,this.browserCrypto,r),s=ji.createAccount(e.client_info,a,r,void 0,void 0,void 0,i,e.account.id),this.browserStorage.setAccount(s),c=e.scope?pa.fromString(e.scope):pa.fromString(t.scope),u=e.account.properties||{},l=u.UID||r.claims.oid||r.claims.sub||Sn.EMPTY_STRING,d=u.TenantId||r.claims.tid||Sn.EMPTY_STRING,p=jn.BEARER,t.tokenType===jn.POP?[3,2]:[3,4];case 2:if(p=jn.POP,e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),h=e.shr,[3,5];if(f=new ls(this.browserCrypto),g={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce},!t.keyId)throw To.createKeyIdMissingError();return[4,f.signPopToken(e.access_token,t.keyId,g)];case 3:return h=_.sent(),[3,5];case 4:h=e.access_token,_.label=5;case 5:return m=this.getMATSFromResponse(e),v={authority:o.canonicalAuthority,uniqueId:l,tenantId:d,scopes:c.asArray(),account:s.getAccountInfo(),idToken:e.id_token,idTokenClaims:r.claims,accessToken:h,fromCache:!!m&&this.isResponseFromCache(m),expiresOn:new Date(1e3*Number(n+e.expires_in)),tokenType:p,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0},y=va.createIdTokenEntity(a,t.authority,e.id_token||Sn.EMPTY_STRING,t.clientId,r.claims.tid||Sn.EMPTY_STRING),this.nativeStorageManager.setIdTokenCredential(y),b=p===jn.POP?Sn.SHR_NONCE_VALIDITY:("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,w=n+b,E=ba.createAccessTokenEntity(a,t.authority,h,t.clientId,d,c.printScopes(),w,0,this.browserCrypto),this.nativeStorageManager.setAccessTokenCredential(E),this.browserStorage.removeAccountContext(s).catch((function(e){C.logger.error("Error occurred while removing account context from browser storage. "+e)})),[2,v]}}))}))},t.prototype.validateNativeResponse=function(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw ks.createUnexpectedError("Response missing expected properties.")},t.prototype.getMATSFromResponse=function(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch(t){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null},t.prototype.isResponseFromCache=function(e){return"undefined"===typeof e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached},t.prototype.initializeNativeRequest=function(e){return un(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c,u,l=this;return ln(this,(function(d){switch(d.label){case 0:return this.logger.trace("NativeInteractionClient - initializeNativeRequest called"),t=e.authority||this.config.auth.authority,(n=new La(t)).validateAsUri(),r=e.scopes,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["scopes"]),(i=new pa(r||[])).appendScopes(Tn),a=function(){switch(l.apiId){case sr.ssoSilent:case sr.acquireTokenSilent_silentFlow:return l.logger.trace("initializeNativeRequest: silent request sets prompt to none"),An.NONE}if(e.prompt)switch(e.prompt){case An.NONE:case An.CONSENT:case An.LOGIN:return l.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw l.logger.trace("initializeNativeRequest: prompt = "+e.prompt+" is not compatible with native flow"),vi.createNativePromptParameterNotSupportedError()}else l.logger.trace("initializeNativeRequest: prompt was not provided")},s=cn(cn({},o),{accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:i.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:a(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:cn(cn(cn({},e.extraQueryParameters),e.tokenQueryParameters),{telemetry:yr}),extendedExpiryToken:!1}),e.authenticationScheme!==jn.POP?[3,2]:(c={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},[4,new ls(this.browserCrypto).generateCnf(c)]);case 1:u=d.sent(),s.reqCnf=u.reqCnfHash,s.keyId=u.kid,d.label=2;case 2:return[2,s]}}))}))},t}(Cs),Os=function(){function e(e,t,n){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=n,this.resolvers=new Map,this.handshakeResolvers=new Map,this.responseId=0,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this)}return e.prototype.sendMessage=function(e){return un(this,void 0,void 0,(function(){var t,n=this;return ln(this,(function(r){return this.logger.trace("NativeMessageHandler - sendMessage called."),t={channel:mr,extensionId:this.extensionId,responseId:this.responseId++,body:e},this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii("NativeMessageHandler - Sending request to browser extension: "+JSON.stringify(t)),this.messageChannel.port1.postMessage(t),[2,new Promise((function(e,r){n.resolvers.set(t.responseId,{resolve:e,reject:r})}))]}))}))},e.createProvider=function(t,n){return un(this,void 0,void 0,(function(){var r,o;return ln(this,(function(i){switch(i.label){case 0:t.trace("NativeMessageHandler - createProvider called."),i.label=1;case 1:return i.trys.push([1,3,,5]),[4,(r=new e(t,n,vr)).sendHandshakeRequest()];case 2:return i.sent(),[2,r];case 3:return i.sent(),[4,(o=new e(t,n)).sendHandshakeRequest()];case 4:return i.sent(),[2,o];case 5:return[2]}}))}))},e.prototype.sendHandshakeRequest=function(){return un(this,void 0,void 0,(function(){var e,t=this;return ln(this,(function(n){return this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1),e={channel:mr,extensionId:this.extensionId,responseId:this.responseId++,body:{method:nr.HandshakeRequest}},this.messageChannel.port1.onmessage=function(e){t.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),[2,new Promise((function(n,r){t.handshakeResolvers.set(e.responseId,{resolve:n,reject:r}),t.timeoutId=window.setTimeout((function(){window.removeEventListener("message",t.windowListener,!1),t.messageChannel.port1.close(),t.messageChannel.port2.close(),r(vi.createNativeHandshakeTimeoutError()),t.handshakeResolvers.delete(e.responseId)}),t.handshakeTimeoutMs)}))]}))}))},e.prototype.onWindowMessage=function(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source===window){var t=e.data;if(t.channel&&t.channel===mr&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===nr.HandshakeRequest){this.logger.verbose(t.extensionId?"Extension with id: "+t.extensionId+" not installed":"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1);var n=this.handshakeResolvers.get(t.responseId);n&&n.reject(vi.createNativeExtensionNotInstalledError())}}},e.prototype.onChannelMessage=function(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");var t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{var o=t.body.method;if(o===nr.Response){if(!n)return;var i=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii("NativeMessageHandler - Received response from browser extension: "+JSON.stringify(i)),"Success"!==i.status)n.reject(ks.createError(i.code,i.description,i.ext));else{if(!i.result)throw Ir.createUnexpectedError("Event does not contain result.");i.result.code&&i.result.description?n.reject(ks.createError(i.result.code,i.result.description,i.result.ext)):n.resolve(i.result)}this.resolvers.delete(t.responseId)}else if(o===nr.HandshakeResponse){if(!r)return;clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.logger.verbose("NativeMessageHandler - Received HandshakeResponse from extension: "+this.extensionId),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(a){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii("Error parsing response from WAM Extension: "+a.toString()),this.logger.errorPii("Unable to parse "+e),n?n.reject(a):r&&r.reject(a)}},e.isNativeAvailable=function(e,t,n,r){if(t.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return t.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!n)return t.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(r)switch(r){case jn.BEARER:case jn.POP:return t.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0},e}(),Ms=function(){function e(e,t,n,r){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r}return e.prototype.handleCodeResponseFromHash=function(e,t,n,r){return un(this,void 0,void 0,(function(){var o,i,a;return ln(this,(function(s){if(this.logger.verbose("InteractionHandler.handleCodeResponse called"),Io.isEmpty(e))throw vi.createEmptyHashError(e);if(o=this.browserStorage.generateStateKey(t),!(i=this.browserStorage.getTemporaryCache(o)))throw To.createStateNotFoundError("Cached State");try{a=this.authModule.handleFragmentResponse(e,i)}catch(c){throw c instanceof qi&&c.subError===Ho.code?vi.createUserCancelledError():c}return[2,this.handleCodeResponseFromServer(a,t,n,r)]}))}))},e.prototype.handleCodeResponseFromServer=function(e,t,n,r,o){return void 0===o&&(o=!0),un(this,void 0,void 0,(function(){var i,a,s,c,u,l;return ln(this,(function(d){switch(d.label){case 0:if(this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),i=this.browserStorage.generateStateKey(t),!(a=this.browserStorage.getTemporaryCache(i)))throw To.createStateNotFoundError("Cached State");return s=this.browserStorage.generateNonceKey(a),c=this.browserStorage.getTemporaryCache(s),this.authCodeRequest.code=e.code,e.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(e.cloud_instance_host_name,n,r)]:[3,2];case 1:d.sent(),d.label=2;case 2:return o&&(e.nonce=c||void 0),e.state=a,e.client_info?this.authCodeRequest.clientInfo=e.client_info:(u=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=u),[4,this.authModule.acquireToken(this.authCodeRequest,e)];case 3:return l=d.sent(),this.browserStorage.cleanRequestByState(t),[2,l]}}))}))},e.prototype.updateTokenEndpointAuthority=function(e,t,n){return un(this,void 0,void 0,(function(){var r,o;return ln(this,(function(i){switch(i.label){case 0:return r="https://"+e+"/"+t.tenant+"/",[4,ws.createDiscoveredInstance(r,n,this.browserStorage,t.options)];case 1:return o=i.sent(),this.authModule.updateAuthority(o),[2]}}))}))},e.prototype.checkCcsCredentials=function(){var e=this.browserStorage.getTemporaryCache(ir.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch(t){this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii("Cache credential could not be parsed: "+e)}return null},e}(),xs=function(e){function t(t,n,r,o,i,a,s,c,u,l){var d=e.call(this,t,n,r,o,i,a,s,u,l)||this;return d.unloadWindow=d.unloadWindow.bind(d),d.nativeStorage=c,d}return on(t,e),t.prototype.acquireToken=function(e){try{var t=this.generatePopupName(e.scopes||Tn,e.authority||this.config.auth.authority),n=e.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,t,n);this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");var r=this.openSizedPopup("about:blank",t,n);return this.acquireTokenPopupAsync(e,t,n,r)}catch(o){return Promise.reject(o)}},t.prototype.logout=function(e){try{this.logger.verbose("logoutPopup called");var t=this.initializeLogoutRequest(e),n=this.generateLogoutPopupName(t),r=e&&e.authority,o=e&&e.mainWindowRedirectUri,i=(null===e||void 0===e?void 0:e.popupWindowAttributes)||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,n,i,r,void 0,o);this.logger.verbose("asyncPopup set to false, opening popup");var a=this.openSizedPopup("about:blank",n,i);return this.logoutPopupAsync(t,n,i,r,a,o)}catch(s){return Promise.reject(s)}},t.prototype.acquireTokenPopupAsync=function(e,t,n,r){return un(this,void 0,void 0,(function(){var o,i,a,s,c,u,l,d,h,p,f,g,m,v,y,b,w=this;return ln(this,(function(E){switch(E.label){case 0:return this.logger.verbose("acquireTokenPopupAsync called"),o=this.initializeServerTelemetryManager(sr.acquireTokenPopup),[4,this.initializeAuthorizationRequest(e,cr.Popup)];case 1:i=E.sent(),this.browserStorage.updateCacheEntries(i.state,i.nonce,i.authority,i.loginHint||Sn.EMPTY_STRING,i.account||null),E.label=2;case 2:return E.trys.push([2,8,,9]),[4,this.initializeAuthorizationCodeRequest(i)];case 3:return a=E.sent(),[4,this.createAuthCodeClient(o,i.authority,i.azureCloudOptions)];case 4:return s=E.sent(),this.logger.verbose("Auth code client created"),c=Os.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme),u=void 0,c&&(u=this.performanceClient.startMeasurement(an.FetchAccountIdWithNativeBroker,e.correlationId)),[4,s.getAuthCodeUrl(cn(cn({},i),{nativeBroker:c}))];case 5:return l=E.sent(),d=new Ms(s,this.browserStorage,a,this.logger),h={popup:r,popupName:t,popupWindowAttributes:n},p=this.initiateAuthRequest(l,h),this.eventHandler.emitEvent(Za.POPUP_OPENED,cr.Popup,{popupWindow:p},null),[4,this.monitorPopupForHash(p)];case 6:if(f=E.sent(),g=La.getDeserializedHash(f),m=this.validateAndExtractStateFromHash(g,cr.Popup,i.correlationId),os.removeThrottle(this.browserStorage,this.config.auth.clientId,a),g.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),u&&u.endMeasurement({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw vi.createNativeConnectionNotEstablishedError();return v=new Ns(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,sr.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,g.accountId,this.nativeStorage,i.correlationId),y=Ta.parseRequestState(this.browserCrypto,m).userRequestState,[2,v.acquireToken(cn(cn({},i),{state:y,prompt:void 0})).finally((function(){w.browserStorage.cleanRequestByState(m)}))]}return[4,d.handleCodeResponseFromHash(f,m,s.authority,this.networkClient)];case 7:return[2,E.sent()];case 8:throw b=E.sent(),r&&r.close(),b instanceof Ir&&b.setCorrelationId(this.correlationId),o.cacheFailedRequest(b),this.browserStorage.cleanRequestByState(i.state),b;case 9:return[2]}}))}))},t.prototype.logoutPopupAsync=function(e,t,n,r,o,i){return un(this,void 0,void 0,(function(){var a,s,c,u,l,d,h;return ln(this,(function(p){switch(p.label){case 0:this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(Za.LOGOUT_START,cr.Popup,e),a=this.initializeServerTelemetryManager(sr.logoutPopup),p.label=1;case 1:return p.trys.push([1,5,,6]),[4,this.clearCacheOnLogout(e.account)];case 2:return p.sent(),[4,this.createAuthCodeClient(a,r)];case 3:return s=p.sent(),this.logger.verbose("Auth code client created"),c=s.getLogoutUri(e),this.eventHandler.emitEvent(Za.LOGOUT_SUCCESS,cr.Popup,e),u=this.openPopup(c,{popupName:t,popupWindowAttributes:n,popup:o}),this.eventHandler.emitEvent(Za.POPUP_OPENED,cr.Popup,{popupWindow:u},null),[4,this.waitForLogoutPopup(u)];case 4:return p.sent(),i?(l={apiId:sr.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},d=La.getAbsoluteUrl(i,Ja.getCurrentUri()),this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecting main window to: "+d),this.navigationClient.navigateInternal(d,l)):this.logger.verbose("No main window navigation requested"),[3,6];case 5:throw h=p.sent(),o&&o.close(),h instanceof Ir&&h.setCorrelationId(this.correlationId),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(Za.LOGOUT_FAILURE,cr.Popup,null,h),this.eventHandler.emitEvent(Za.LOGOUT_END,cr.Popup),a.cacheFailedRequest(h),h;case 6:return this.eventHandler.emitEvent(Za.LOGOUT_END,cr.Popup),[2]}}))}))},t.prototype.initiateAuthRequest=function(e,t){if(Io.isEmpty(e))throw this.logger.error("Navigate url is empty"),vi.createEmptyNavigationUriError();return this.logger.infoPii("Navigate to: "+e),this.openPopup(e,t)},t.prototype.monitorPopupForHash=function(e){var t=this;return new Promise((function(n,r){var o=t.config.system.windowHashTimeout/fr,i=0;t.logger.verbose("PopupHandler.monitorPopupForHash - polling started");var a=setInterval((function(){if(e.closed)return t.logger.error("PopupHandler.monitorPopupForHash - window closed"),t.cleanPopup(),clearInterval(a),void r(vi.createUserCancelledError());var s=Sn.EMPTY_STRING,c=Sn.EMPTY_STRING;try{s=e.location.href,c=e.location.hash}catch(u){}Io.isEmpty(s)||"about:blank"===s||(t.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),i++,c?(t.logger.verbose("PopupHandler.monitorPopupForHash - found hash in url"),clearInterval(a),t.cleanPopup(e),La.hashContainsKnownProperties(c)?(t.logger.verbose("PopupHandler.monitorPopupForHash - hash contains known properties, returning."),n(c)):(t.logger.error("PopupHandler.monitorPopupForHash - found hash in url but it does not contain known properties. Check that your router is not changing the hash prematurely."),t.logger.errorPii("PopupHandler.monitorPopupForHash - hash found: "+c),r(vi.createHashDoesNotContainKnownPropertiesError()))):i>o&&(t.logger.error("PopupHandler.monitorPopupForHash - unable to find hash in url, timing out"),clearInterval(a),r(vi.createMonitorPopupTimeoutError())))}),fr)}))},t.prototype.waitForLogoutPopup=function(e){var t=this;return new Promise((function(n){t.logger.verbose("PopupHandler.waitForLogoutPopup - polling started");var r=setInterval((function(){e.closed&&(t.logger.error("PopupHandler.waitForLogoutPopup - window closed"),t.cleanPopup(),clearInterval(r),n());var o=Sn.EMPTY_STRING;try{o=e.location.href}catch(i){}Io.isEmpty(o)||"about:blank"===o||(t.logger.verbose("PopupHandler.waitForLogoutPopup - popup window is on same origin as caller, closing."),clearInterval(r),t.cleanPopup(e),n())}),fr)}))},t.prototype.openPopup=function(e,t){try{var n=void 0;if(t.popup?(n=t.popup,this.logger.verbosePii("Navigating popup window to: "+e),n.location.assign(e)):"undefined"===typeof t.popup&&(this.logger.verbosePii("Opening popup window to: "+e),n=this.openSizedPopup(e,t.popupName,t.popupWindowAttributes)),!n)throw vi.createEmptyWindowCreatedError();return n.focus&&n.focus(),this.currentWindow=n,window.addEventListener("beforeunload",this.unloadWindow),n}catch(r){throw this.logger.error("error opening popup "+r.message),this.browserStorage.setInteractionInProgress(!1),vi.createPopupWindowError(r.toString())}},t.prototype.openSizedPopup=function(e,t,n){var r,o,i,a,s=window.screenLeft?window.screenLeft:window.screenX,c=window.screenTop?window.screenTop:window.screenY,u=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=null===(r=n.popupSize)||void 0===r?void 0:r.width,h=null===(o=n.popupSize)||void 0===o?void 0:o.height,p=null===(i=n.popupPosition)||void 0===i?void 0:i.top,f=null===(a=n.popupPosition)||void 0===a?void 0:a.left;return(!d||d<0||d>u)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),d=dr),(!h||h<0||h>l)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),h=hr),(!p||p<0||p>l)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),p=Math.max(0,l/2-hr/2+c)),(!f||f<0||f>u)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),f=Math.max(0,u/2-dr/2+s)),window.open(e,t,"width="+d+", height="+h+", top="+p+", left="+f+", scrollbars=yes")},t.prototype.unloadWindow=function(e){this.browserStorage.cleanRequestByInteractionType(cr.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()},t.prototype.cleanPopup=function(e){e&&e.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)},t.prototype.generatePopupName=function(e,t){return pr+"."+this.config.auth.clientId+"."+e.join("-")+"."+t+"."+this.correlationId},t.prototype.generateLogoutPopupName=function(e){var t=e.account&&e.account.homeAccountId;return pr+"."+this.config.auth.clientId+"."+t+"."+this.correlationId},t}(_s),Us=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.browserCrypto=i,a}return on(t,e),t.prototype.initiateAuthRequest=function(e,t){return un(this,void 0,void 0,(function(){var n;return ln(this,(function(r){switch(r.label){case 0:return this.logger.verbose("RedirectHandler.initiateAuthRequest called"),Io.isEmpty(e)?[3,7]:(t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(ir.ORIGIN_URI,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(ir.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest,this.browserCrypto),this.logger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: "+e),n={apiId:sr.acquireTokenRedirect,timeout:t.redirectTimeout,noHistory:!1},"function"!==typeof t.onRedirectNavigate?[3,4]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1===t.onRedirectNavigate(e)?[3,2]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),[4,t.navigationClient.navigateExternal(e,n)])));case 1:case 5:return r.sent(),[2];case 2:return this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation"),[2];case 3:return[3,6];case 4:return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),[4,t.navigationClient.navigateExternal(e,n)];case 6:return[3,8];case 7:throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),vi.createEmptyNavigationUriError();case 8:return[2]}}))}))},t.prototype.handleCodeResponseFromHash=function(e,t,n,r){return un(this,void 0,void 0,(function(){var o,i,a,s,c,u,l;return ln(this,(function(d){switch(d.label){case 0:if(this.logger.verbose("RedirectHandler.handleCodeResponse called"),Io.isEmpty(e))throw vi.createEmptyHashError(e);if(this.browserStorage.setInteractionInProgress(!1),o=this.browserStorage.generateStateKey(t),!(i=this.browserStorage.getTemporaryCache(o)))throw To.createStateNotFoundError("Cached State");try{a=this.authModule.handleFragmentResponse(e,i)}catch(h){throw h instanceof qi&&h.subError===Ho.code?vi.createUserCancelledError():h}return s=this.browserStorage.generateNonceKey(i),c=this.browserStorage.getTemporaryCache(s),this.authCodeRequest.code=a.code,a.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(a.cloud_instance_host_name,n,r)]:[3,2];case 1:d.sent(),d.label=2;case 2:return a.nonce=c||void 0,a.state=i,a.client_info?this.authCodeRequest.clientInfo=a.client_info:(u=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=u),[4,this.authModule.acquireToken(this.authCodeRequest,a)];case 3:return l=d.sent(),this.browserStorage.cleanRequestByState(t),[2,l]}}))}))},t}(Ms),Ls=function(e){function t(t,n,r,o,i,a,s,c,u,l){var d=e.call(this,t,n,r,o,i,a,s,u,l)||this;return d.nativeStorage=c,d}return on(t,e),t.prototype.acquireToken=function(e){return un(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c,u,l=this;return ln(this,(function(d){switch(d.label){case 0:return[4,this.initializeAuthorizationRequest(e,cr.Redirect)];case 1:t=d.sent(),this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||Sn.EMPTY_STRING,t.account||null),n=this.initializeServerTelemetryManager(sr.acquireTokenRedirect),r=function(e){e.persisted&&(l.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),l.browserStorage.cleanRequestByState(t.state))},d.label=2;case 2:return d.trys.push([2,7,,8]),[4,this.initializeAuthorizationCodeRequest(t)];case 3:return o=d.sent(),[4,this.createAuthCodeClient(n,t.authority,t.azureCloudOptions)];case 4:return i=d.sent(),this.logger.verbose("Auth code client created"),a=new Us(i,this.browserStorage,o,this.logger,this.browserCrypto),[4,i.getAuthCodeUrl(cn(cn({},t),{nativeBroker:Os.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}))];case 5:return s=d.sent(),c=this.getRedirectStartPage(e.redirectStartPage),this.logger.verbosePii("Redirect start page: "+c),window.addEventListener("pageshow",r),[4,a.initiateAuthRequest(s,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:c,onRedirectNavigate:e.onRedirectNavigate})];case 6:return[2,d.sent()];case 7:throw(u=d.sent())instanceof Ir&&u.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",r),n.cacheFailedRequest(u),this.browserStorage.cleanRequestByState(t.state),u;case 8:return[2]}}))}))},t.prototype.handleRedirectPromise=function(e){return un(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c,u,l,d,h;return ln(this,(function(p){switch(p.label){case 0:t=this.initializeServerTelemetryManager(sr.handleRedirectPromise),p.label=1;case 1:if(p.trys.push([1,10,,11]),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(n=this.getRedirectResponseHash(e||window.location.hash)))return this.logger.info("handleRedirectPromise did not detect a response hash as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(cr.Redirect),[2,null];r=void 0;try{o=La.getDeserializedHash(n),r=this.validateAndExtractStateFromHash(o,cr.Redirect),this.logger.verbose("State extracted from hash")}catch(f){return this.logger.info("handleRedirectPromise was unable to extract state due to: "+f),this.browserStorage.cleanRequestByInteractionType(cr.Redirect),[2,null]}return i=this.browserStorage.getTemporaryCache(ir.ORIGIN_URI,!0)||Sn.EMPTY_STRING,a=La.removeHashFromUrl(i),s=La.removeHashFromUrl(window.location.href),a===s&&this.config.auth.navigateToLoginRequestUrl?(this.logger.verbose("Current page is loginRequestUrl, handling hash"),[4,this.handleHash(n,r,t)]):[3,3];case 2:return c=p.sent(),i.indexOf("#")>-1&&Ja.replaceHash(i),[2,c];case 3:return this.config.auth.navigateToLoginRequestUrl?[3,4]:(this.logger.verbose("NavigateToLoginRequestUrl set to false, handling hash"),[2,this.handleHash(n,r,t)]);case 4:return Ja.isInIframe()&&!this.config.system.allowRedirectInIframe?[3,9]:(this.browserStorage.setTemporaryCache(ir.URL_HASH,n,!0),u={apiId:sr.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},l=!0,i&&"null"!==i?[3,6]:(d=Ja.getHomepage(),this.browserStorage.setTemporaryCache(ir.ORIGIN_URI,d,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),[4,this.navigationClient.navigateInternal(d,u)]));case 5:return l=p.sent(),[3,8];case 6:return this.logger.verbose("Navigating to loginRequestUrl: "+i),[4,this.navigationClient.navigateInternal(i,u)];case 7:l=p.sent(),p.label=8;case 8:if(!l)return[2,this.handleHash(n,r,t)];p.label=9;case 9:return[2,null];case 10:throw(h=p.sent())instanceof Ir&&h.setCorrelationId(this.correlationId),t.cacheFailedRequest(h),this.browserStorage.cleanRequestByInteractionType(cr.Redirect),h;case 11:return[2]}}))}))},t.prototype.getRedirectResponseHash=function(e){if(this.logger.verbose("getRedirectResponseHash called"),La.hashContainsKnownProperties(e))return Ja.clearHash(window),this.logger.verbose("Hash contains known properties, returning response hash"),e;var t=this.browserStorage.getTemporaryCache(ir.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(ir.URL_HASH)),this.logger.verbose("Hash does not contain known properties, returning cached hash"),t},t.prototype.handleHash=function(e,t,n){return un(this,void 0,void 0,(function(){var r,o,i,a,s,c,u=this;return ln(this,(function(l){switch(l.label){case 0:if(r=this.browserStorage.getCachedRequest(t,this.browserCrypto),this.logger.verbose("handleHash called, retrieved cached request"),(o=La.getDeserializedHash(e)).accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw vi.createNativeConnectionNotEstablishedError();return i=new Ns(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,sr.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,o.accountId,this.browserStorage,r.correlationId),a=Ta.parseRequestState(this.browserCrypto,t).userRequestState,[2,i.acquireToken(cn(cn({},r),{state:a,prompt:void 0})).finally((function(){u.browserStorage.cleanRequestByState(t)}))]}if(!(s=this.browserStorage.getCachedAuthority(t)))throw vi.createNoCachedAuthorityError();return[4,this.createAuthCodeClient(n,s)];case 1:return c=l.sent(),this.logger.verbose("Auth code client created"),os.removeThrottle(this.browserStorage,this.config.auth.clientId,r),[4,new Us(c,this.browserStorage,r,this.logger,this.browserCrypto).handleCodeResponseFromHash(e,t,c.authority,this.networkClient)];case 2:return[2,l.sent()]}}))}))},t.prototype.logout=function(e){return un(this,void 0,void 0,(function(){var t,n,r,o,i,a;return ln(this,(function(s){switch(s.label){case 0:this.logger.verbose("logoutRedirect called"),t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(sr.logout),s.label=1;case 1:return s.trys.push([1,10,,11]),this.eventHandler.emitEvent(Za.LOGOUT_START,cr.Redirect,e),[4,this.clearCacheOnLogout(t.account)];case 2:return s.sent(),r={apiId:sr.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},[4,this.createAuthCodeClient(n,e&&e.authority)];case 3:return o=s.sent(),this.logger.verbose("Auth code client created"),i=o.getLogoutUri(t),this.eventHandler.emitEvent(Za.LOGOUT_SUCCESS,cr.Redirect,t),e&&"function"===typeof e.onRedirectNavigate?!1===e.onRedirectNavigate(i)?[3,5]:(this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(i,r)]):[3,7];case 4:return s.sent(),[2];case 5:this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation"),s.label=6;case 6:return[3,9];case 7:return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(i,r)];case 8:return s.sent(),[2];case 9:return[3,11];case 10:throw(a=s.sent())instanceof Ir&&a.setCorrelationId(this.correlationId),n.cacheFailedRequest(a),this.eventHandler.emitEvent(Za.LOGOUT_FAILURE,cr.Redirect,null,a),this.eventHandler.emitEvent(Za.LOGOUT_END,cr.Redirect),a;case 11:return this.eventHandler.emitEvent(Za.LOGOUT_END,cr.Redirect),[2]}}))}))},t.prototype.getRedirectStartPage=function(e){var t=e||window.location.href;return La.getAbsoluteUrl(t,Ja.getCurrentUri())},t}(_s),Ds=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.navigateFrameWait=i,a}return on(t,e),t.prototype.initiateAuthRequest=function(e){return un(this,void 0,void 0,(function(){var t;return ln(this,(function(n){switch(n.label){case 0:if(Io.isEmpty(e))throw this.logger.info("Navigate url is empty"),vi.createEmptyNavigationUriError();return this.navigateFrameWait?[4,this.loadFrame(e)]:[3,2];case 1:return t=n.sent(),[3,3];case 2:t=this.loadFrameSync(e),n.label=3;case 3:return[2,t]}}))}))},t.prototype.monitorIframeForHash=function(e,t){var n=this;return new Promise((function(r,o){t<Xa&&n.logger.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower ("+t+"ms) than the default ("+"6000ms). This may result in timeouts.");var i=window.performance.now()+t,a=setInterval((function(){if(window.performance.now()>i)return n.removeHiddenIframe(e),clearInterval(a),void o(vi.createMonitorIframeTimeoutError());var t=Sn.EMPTY_STRING,s=e.contentWindow;try{t=s?s.location.href:Sn.EMPTY_STRING}catch(u){}if(!Io.isEmpty(t)){var c=s?s.location.hash:Sn.EMPTY_STRING;return La.hashContainsKnownProperties(c)?(n.removeHiddenIframe(e),clearInterval(a),void r(c)):void 0}}),fr)}))},t.prototype.loadFrame=function(e){var t=this;return new Promise((function(n,r){var o=t.createHiddenIframe();setTimeout((function(){o?(o.src=e,n(o)):r("Unable to load iframe")}),t.navigateFrameWait)}))},t.prototype.loadFrameSync=function(e){var t=this.createHiddenIframe();return t.src=e,t},t.prototype.createHiddenIframe=function(){var e=document.createElement("iframe");return e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.getElementsByTagName("body")[0].appendChild(e),e},t.prototype.removeHiddenIframe=function(e){document.body===e.parentNode&&document.body.removeChild(e)},t}(Ms),qs=function(e){function t(t,n,r,o,i,a,s,c,u,l,d){var h=e.call(this,t,n,r,o,i,a,c,l,d)||this;return h.apiId=s,h.nativeStorage=u,h}return on(t,e),t.prototype.acquireToken=function(e){return un(this,void 0,void 0,(function(){var t,n,r,o,i;return ln(this,(function(a){switch(a.label){case 0:if(this.logger.verbose("acquireTokenByIframe called"),t=this.performanceClient.startMeasurement(an.SilentIframeClientAcquireToken,e.correlationId),Io.isEmpty(e.loginHint)&&Io.isEmpty(e.sid)&&(!e.account||Io.isEmpty(e.account.username))&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request."),e.prompt&&e.prompt!==An.NONE)throw t.endMeasurement({success:!1}),vi.createSilentPromptValueError(e.prompt);return[4,this.initializeAuthorizationRequest(cn(cn({},e),{prompt:An.NONE}),cr.Silent)];case 1:n=a.sent(),this.browserStorage.updateCacheEntries(n.state,n.nonce,n.authority,n.loginHint||Sn.EMPTY_STRING,n.account||null),r=this.initializeServerTelemetryManager(this.apiId),a.label=2;case 2:return a.trys.push([2,5,,6]),[4,this.createAuthCodeClient(r,n.authority,n.azureCloudOptions)];case 3:return o=a.sent(),this.logger.verbose("Auth code client created"),[4,this.silentTokenHelper(o,n).then((function(e){return t.endMeasurement({success:!0,fromCache:!1}),e}))];case 4:return[2,a.sent()];case 5:throw(i=a.sent())instanceof Ir&&i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i),this.browserStorage.cleanRequestByState(n.state),t.endMeasurement({errorCode:i instanceof Ir&&i.errorCode||void 0,subErrorCode:i instanceof Ir&&i.subError||void 0,success:!1}),i;case 6:return[2]}}))}))},t.prototype.logout=function(){return Promise.reject(vi.createSilentLogoutUnsupportedError())},t.prototype.silentTokenHelper=function(e,t){return un(this,void 0,void 0,(function(){var n,r,o,i,a,s,c,u,l,d=this;return ln(this,(function(h){switch(h.label){case 0:return[4,this.initializeAuthorizationCodeRequest(t)];case 1:return n=h.sent(),[4,e.getAuthCodeUrl(cn(cn({},t),{nativeBroker:Os.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}))];case 2:return r=h.sent(),[4,(o=new Ds(e,this.browserStorage,n,this.logger,this.config.system.navigateFrameWait)).initiateAuthRequest(r)];case 3:return i=h.sent(),[4,o.monitorIframeForHash(i,this.config.system.iframeHashTimeout)];case 4:if(a=h.sent(),s=La.getDeserializedHash(a),c=this.validateAndExtractStateFromHash(s,cr.Silent,n.correlationId),s.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw vi.createNativeConnectionNotEstablishedError();return u=new Ns(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,s.accountId,this.browserStorage,this.correlationId),l=Ta.parseRequestState(this.browserCrypto,c).userRequestState,[2,u.acquireToken(cn(cn({},t),{state:l,prompt:An.NONE})).finally((function(){d.browserStorage.cleanRequestByState(c)}))]}return[2,o.handleCodeResponseFromHash(a,c,e.authority,this.networkClient)]}}))}))},t}(_s),Hs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return on(t,e),t.prototype.acquireToken=function(e){return un(this,void 0,void 0,(function(){var t,n,r,o,i,a=this;return ln(this,(function(s){switch(s.label){case 0:return n=[cn({},e)],[4,this.initializeBaseRequest(e)];case 1:return t=cn.apply(void 0,n.concat([s.sent()])),r=this.performanceClient.startMeasurement(an.SilentRefreshClientAcquireToken,t.correlationId),o=this.initializeServerTelemetryManager(sr.acquireTokenSilent_silentFlow),[4,this.createRefreshTokenClient(o,t.authority,t.azureCloudOptions)];case 2:return i=s.sent(),this.logger.verbose("Refresh token client created"),[2,i.acquireTokenByRefreshToken(t).then((function(e){return r.endMeasurement({success:!0,fromCache:e.fromCache}),e})).catch((function(e){throw e instanceof Ir&&e.setCorrelationId(a.correlationId),o.cacheFailedRequest(e),r.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e}))]}}))}))},t.prototype.logout=function(){return Promise.reject(vi.createSilentLogoutUnsupportedError())},t.prototype.createRefreshTokenClient=function(e,t,n){return un(this,void 0,void 0,(function(){var r;return ln(this,(function(o){switch(o.label){case 0:return[4,this.getClientConfiguration(e,t,n)];case 1:return r=o.sent(),[2,new As(r,this.performanceClient)]}}))}))},t}(_s),Fs=function(){function e(e,t,n,r){this.isBrowserEnvironment="undefined"!==typeof window,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}return e.prototype.loadExternalTokens=function(e,t,n){if(this.logger.info("TokenCache - loadExternalTokens called"),!t.id_token)throw vi.createUnableToLoadTokenError("Please ensure server response includes id token.");if(e.account)this.loadIdToken(t.id_token,e.account.homeAccountId,e.account.environment,e.account.tenantId,n),this.loadAccessToken(e,t,e.account.homeAccountId,e.account.environment,e.account.tenantId,n);else{if(!e.authority)throw vi.createUnableToLoadTokenError("Please provide a request with an account or a request with authority.");var r=bs.generateAuthority(e.authority,e.azureCloudOptions),o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},i=new bs(r,this.config.system.networkClient,this.storage,o);if(n.clientInfo)this.logger.trace("TokenCache - homeAccountId from options"),this.loadIdToken(t.id_token,n.clientInfo,i.hostnameAndPort,i.tenant,n),this.loadAccessToken(e,t,n.clientInfo,i.hostnameAndPort,i.tenant,n);else{if(!t.client_info)throw vi.createUnableToLoadTokenError("Please provide clientInfo in the response or options.");this.logger.trace("TokenCache - homeAccountId from response"),this.loadIdToken(t.id_token,t.client_info,i.hostnameAndPort,i.tenant,n),this.loadAccessToken(e,t,t.client_info,i.hostnameAndPort,i.tenant,n)}}},e.prototype.loadIdToken=function(e,t,n,r,o){var i=va.createIdTokenEntity(t,n,e,this.config.auth.clientId,r),a=new fa(e,this.cryptoObj),s=o.clientInfo?ji.createAccount(o.clientInfo,t,a,void 0,void 0,void 0,n):ji.createGenericAccount(t,a,void 0,void 0,void 0,n);if(!this.isBrowserEnvironment)throw vi.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.");this.logger.verbose("TokenCache - loading id token"),this.storage.setAccount(s),this.storage.setIdTokenCredential(i)},e.prototype.loadAccessToken=function(e,t,n,r,o,i){if(t.access_token){if(!t.expires_in)throw vi.createUnableToLoadTokenError("Please ensure server response includes expires_in value.");if(!i.extendedExpiresOn)throw vi.createUnableToLoadTokenError("Please provide an extendedExpiresOn value in the options.");var a=new pa(e.scopes).printScopes(),s=i.expiresOn||t.expires_in+(new Date).getTime()/1e3,c=i.extendedExpiresOn,u=ba.createAccessTokenEntity(n,r,t.access_token,this.config.auth.clientId,o,a,s,c,this.cryptoObj);if(!this.isBrowserEnvironment)throw vi.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.");this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(u)}else this.logger.verbose("TokenCache - No access token provided for caching")},e}(),zs=function(e){function t(t){var n=e.call(this,t)||this;return n.includeRedirectUri=!1,n}return on(t,e),t}(ps),js=function(e){function t(t,n,r,o,i,a,s,c,u,l){var d=e.call(this,t,n,r,o,i,a,c,u,l)||this;return d.apiId=s,d}return on(t,e),t.prototype.acquireToken=function(e){return un(this,void 0,void 0,(function(){var t,n,r,o,i,a;return ln(this,(function(s){switch(s.label){case 0:if(this.logger.trace("SilentAuthCodeClient.acquireToken called"),!e.code)throw vi.createAuthCodeRequiredError();return[4,this.initializeAuthorizationRequest(e,cr.Silent)];case 1:t=s.sent(),this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||Sn.EMPTY_STRING,t.account||null),n=this.initializeServerTelemetryManager(this.apiId),s.label=2;case 2:return s.trys.push([2,4,,5]),r=cn(cn({},t),{code:e.code}),[4,this.getClientConfiguration(n,t.authority)];case 3:return o=s.sent(),i=new zs(o),this.logger.verbose("Auth code client created"),[2,new Ds(i,this.browserStorage,r,this.logger,this.config.system.navigateFrameWait).handleCodeResponseFromServer({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t.state,i.authority,this.networkClient,!1)];case 4:throw(a=s.sent())instanceof Ir&&a.setCorrelationId(this.correlationId),n.cacheFailedRequest(a),this.browserStorage.cleanRequestByState(t.state),a;case 5:return[2]}}))}))},t.prototype.logout=function(){return Promise.reject(vi.createSilentLogoutUnsupportedError())},t}(_s),Ks=function(){function e(e,t){this.correlationId=t,this.measureName="msal.measure."+e+"."+this.correlationId,this.startMark="msal.start."+e+"."+this.correlationId,this.endMark="msal.end."+e+"."+this.correlationId}return e.supportsBrowserPerformance=function(){return"undefined"!==typeof window&&"undefined"!==typeof window.performance&&"function"===typeof window.performance.mark&&"function"===typeof window.performance.measure&&"function"===typeof window.performance.clearMarks&&"function"===typeof window.performance.clearMeasures&&"function"===typeof window.performance.getEntriesByName},e.prototype.startMeasurement=function(){if(e.supportsBrowserPerformance())try{window.performance.mark(this.startMark)}catch(t){}},e.prototype.endMeasurement=function(){if(e.supportsBrowserPerformance())try{window.performance.mark(this.endMark),window.performance.measure(this.measureName,this.startMark,this.endMark)}catch(t){}},e.prototype.flushMeasurement=function(){if(e.supportsBrowserPerformance())try{var t=window.performance.getEntriesByName(this.measureName,"measure");if(t.length>0){var n=t[0].duration;return window.performance.clearMeasures(this.measureName),window.performance.clearMarks(this.startMark),window.performance.clearMarks(this.endMark),n}}catch(r){}return null},e}(),Bs=function(e){function t(t,n,r,o,i,a){var s=e.call(this,t,n,r,o,i,a)||this;return s.browserCrypto=new Ei(s.logger),s.guidGenerator=new Or(s.browserCrypto),s}return on(t,e),t.prototype.startPerformanceMeasuremeant=function(e,t){return new Ks(e,t)},t.prototype.generateId=function(){return this.guidGenerator.generateGuid()},t.prototype.getPageVisibility=function(){var e;return(null===(e=document.visibilityState)||void 0===e?void 0:e.toString())||null},t.prototype.startMeasurement=function(t,n){var r=this,o=this.getPageVisibility(),i=e.prototype.startMeasurement.call(this,t,n);return cn(cn({},i),{endMeasurement:function(e){return i.endMeasurement(cn({startPageVisibility:o,endPageVisibility:r.getPageVisibility()},e))}})},t}(Ri),Gs=function(){function e(e){this.isBrowserEnvironment="undefined"!==typeof window,this.config=function(e,t){var n=e.auth,r=e.cache,o=e.system,i=e.telemetry,a={clientId:Sn.EMPTY_STRING,authority:""+Sn.DEFAULT_AUTHORITY,knownAuthorities:[],cloudDiscoveryMetadata:Sn.EMPTY_STRING,authorityMetadata:Sn.EMPTY_STRING,redirectUri:Sn.EMPTY_STRING,postLogoutRedirectUri:Sn.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Ia.AAD,azureCloudOptions:{azureCloudInstance:ka.None,tenant:Sn.EMPTY_STRING},skipAuthorityMetadataCache:!1},s={cacheLocation:rr.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1},c={loggerCallback:function(){},logLevel:Ti.Info,piiLoggingEnabled:!1},u=cn(cn({},Fa),{loggerOptions:c,networkClient:t?Ja.getBrowserNetworkClient():Va,navigationClient:new $a,loadFrameTimeout:0,windowHashTimeout:(null===o||void 0===o?void 0:o.loadFrameTimeout)||6e4,iframeHashTimeout:(null===o||void 0===o?void 0:o.loadFrameTimeout)||Xa,navigateFrameWait:t&&Ja.detectIEOrEdge()?500:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:(null===o||void 0===o?void 0:o.nativeBrokerHandshakeTimeout)||2e3}),l={application:{appName:Sn.EMPTY_STRING,appVersion:Sn.EMPTY_STRING}};return{auth:cn(cn({},a),n),cache:cn(cn({},s),r),system:cn(cn({},u),o),telemetry:cn(cn({},l),i)}}(e,this.isBrowserEnvironment),this.initialized=!1,this.logger=new Ai(this.config.system.loggerOptions,es,ts),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.isBrowserEnvironment?new Bs(this.config.auth.clientId,this.config.auth.authority,this.logger,es,ts,this.config.telemetry.application):new Ni(this.config.auth.clientId,this.config.auth.authority,this.logger,es,ts,this.config.telemetry.application),this.browserCrypto=this.isBrowserEnvironment?new Ii(this.logger,this.performanceClient):Oi,this.eventHandler=new rs(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new qa(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger):function(e,t){var n={cacheLocation:rr.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1};return new qa(e,n,Oi,t)}(this.config.auth.clientId,this.logger);var t={cacheLocation:rr.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1};this.nativeInternalStorage=new qa(this.config.auth.clientId,t,this.browserCrypto,this.logger),this.tokenCache=new Fs(this.config,this.browserStorage,this.logger,this.browserCrypto)}return e.prototype.initialize=function(){return un(this,void 0,void 0,(function(){var e,t;return ln(this,(function(n){switch(n.label){case 0:if(this.logger.trace("initialize called"),this.initialized)return this.logger.info("initialize has already been called, exiting early."),[2];if(this.eventHandler.emitEvent(Za.INITIALIZE_START),!this.config.system.allowNativeBroker)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),e=this,[4,Os.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout)];case 2:return e.nativeExtensionProvider=n.sent(),[3,4];case 3:return t=n.sent(),this.logger.verbose(t),[3,4];case 4:return this.initialized=!0,this.eventHandler.emitEvent(Za.INITIALIZE_END),[2]}}))}))},e.prototype.handleRedirectPromise=function(e){return un(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c,u=this;return ln(this,(function(l){return this.logger.verbose("handleRedirectPromise called"),Ja.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),t=this.getAllAccounts(),this.isBrowserEnvironment?(n=e||Sn.EMPTY_STRING,"undefined"===typeof(r=this.redirectResponse.get(n))?(this.eventHandler.emitEvent(Za.HANDLE_REDIRECT_START,cr.Redirect),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise"),o=this.browserStorage.getCachedNativeRequest(),i=void 0,o&&Os.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e?(this.logger.trace("handleRedirectPromise - acquiring token from native platform"),a=new Ns(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,sr.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,o.accountId,this.nativeInternalStorage,o.correlationId),i=a.handleRedirectPromise()):(this.logger.trace("handleRedirectPromise - acquiring token from web flow"),s=this.browserStorage.getTemporaryCache(ir.CORRELATION_ID,!0)||Sn.EMPTY_STRING,c=this.createRedirectClient(s),i=c.handleRedirectPromise(e)),r=i.then((function(e){e&&(t.length<u.getAllAccounts().length?(u.eventHandler.emitEvent(Za.LOGIN_SUCCESS,cr.Redirect,e),u.logger.verbose("handleRedirectResponse returned result, login success")):(u.eventHandler.emitEvent(Za.ACQUIRE_TOKEN_SUCCESS,cr.Redirect,e),u.logger.verbose("handleRedirectResponse returned result, acquire token success")));return u.eventHandler.emitEvent(Za.HANDLE_REDIRECT_END,cr.Redirect),e})).catch((function(e){throw t.length>0?u.eventHandler.emitEvent(Za.ACQUIRE_TOKEN_FAILURE,cr.Redirect,null,e):u.eventHandler.emitEvent(Za.LOGIN_FAILURE,cr.Redirect,null,e),u.eventHandler.emitEvent(Za.HANDLE_REDIRECT_END,cr.Redirect),e})),this.redirectResponse.set(n,r)):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),[2,r]):(this.logger.verbose("handleRedirectPromise returns null, not browser environment"),[2,null])}))}))},e.prototype.acquireTokenRedirect=function(e){return un(this,void 0,void 0,(function(){var t,n,r,o,i,a=this;return ln(this,(function(s){return t=this.getRequestCorrelationId(e),this.logger.verbose("acquireTokenRedirect called",t),this.preflightBrowserEnvironmentCheck(cr.Redirect),(n=this.getAllAccounts().length>0)?this.eventHandler.emitEvent(Za.ACQUIRE_TOKEN_START,cr.Redirect,e):this.eventHandler.emitEvent(Za.LOGIN_START,cr.Redirect,e),this.nativeExtensionProvider&&this.canUseNative(e)?(o=new Ns(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,sr.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId),r=o.acquireTokenRedirect(e).catch((function(t){if(t instanceof ks&&t.isFatal())return a.nativeExtensionProvider=void 0,a.createRedirectClient(e.correlationId).acquireToken(e);if(t instanceof Di)return a.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),a.createRedirectClient(e.correlationId).acquireToken(e);throw a.browserStorage.setInteractionInProgress(!1),t}))):(i=this.createRedirectClient(e.correlationId),r=i.acquireToken(e)),[2,r.catch((function(e){throw n?a.eventHandler.emitEvent(Za.ACQUIRE_TOKEN_FAILURE,cr.Redirect,null,e):a.eventHandler.emitEvent(Za.LOGIN_FAILURE,cr.Redirect,null,e),e}))]}))}))},e.prototype.acquireTokenPopup=function(e){var t=this,n=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(an.AcquireTokenPopup,n);try{this.logger.verbose("acquireTokenPopup called",n),this.preflightBrowserEnvironmentCheck(cr.Popup)}catch(a){return Promise.reject(a)}var o,i=this.getAllAccounts();(i.length>0?this.eventHandler.emitEvent(Za.ACQUIRE_TOKEN_START,cr.Popup,e):this.eventHandler.emitEvent(Za.LOGIN_START,cr.Popup,e),this.canUseNative(e))?o=this.acquireTokenNative(e,sr.acquireTokenPopup).then((function(e){return t.browserStorage.setInteractionInProgress(!1),r.endMeasurement({success:!0,isNativeBroker:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length}),r.flushMeasurement(),e})).catch((function(n){if(n instanceof ks&&n.isFatal())return t.nativeExtensionProvider=void 0,t.createPopupClient(e.correlationId).acquireToken(e);if(n instanceof Di)return t.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),t.createPopupClient(e.correlationId).acquireToken(e);throw t.browserStorage.setInteractionInProgress(!1),n})):o=this.createPopupClient(e.correlationId).acquireToken(e);return o.then((function(e){return i.length<t.getAllAccounts().length?t.eventHandler.emitEvent(Za.LOGIN_SUCCESS,cr.Popup,e):t.eventHandler.emitEvent(Za.ACQUIRE_TOKEN_SUCCESS,cr.Popup,e),r.endMeasurement({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length}),r.flushMeasurement(),e})).catch((function(e){return i.length>0?t.eventHandler.emitEvent(Za.ACQUIRE_TOKEN_FAILURE,cr.Popup,null,e):t.eventHandler.emitEvent(Za.LOGIN_FAILURE,cr.Popup,null,e),r.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),r.flushMeasurement(),Promise.reject(e)}))},e.prototype.ssoSilent=function(e){return un(this,void 0,void 0,(function(){var t,n,r,o,i,a=this;return ln(this,(function(s){return t=this.getRequestCorrelationId(e),n=cn(cn({},e),{prompt:An.NONE,correlationId:t}),this.preflightBrowserEnvironmentCheck(cr.Silent),r=this.performanceClient.startMeasurement(an.SsoSilent,t),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(Za.SSO_SILENT_START,cr.Silent,n),this.canUseNative(n)?o=this.acquireTokenNative(n,sr.ssoSilent).catch((function(e){if(e instanceof ks&&e.isFatal())return a.nativeExtensionProvider=void 0,a.createSilentIframeClient(n.correlationId).acquireToken(n);throw e})):(i=this.createSilentIframeClient(n.correlationId),o=i.acquireToken(n)),[2,o.then((function(e){return a.eventHandler.emitEvent(Za.SSO_SILENT_SUCCESS,cr.Silent,e),r.endMeasurement({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length}),r.flushMeasurement(),e})).catch((function(e){throw a.eventHandler.emitEvent(Za.SSO_SILENT_FAILURE,cr.Silent,null,e),r.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),r.flushMeasurement(),e}))]}))}))},e.prototype.acquireTokenByCode=function(e){return un(this,void 0,void 0,(function(){var t,n,r,o,i=this;return ln(this,(function(a){t=this.getRequestCorrelationId(e),this.preflightBrowserEnvironmentCheck(cr.Silent),this.logger.trace("acquireTokenByCode called",t),this.eventHandler.emitEvent(Za.ACQUIRE_TOKEN_BY_CODE_START,cr.Silent,e),n=this.performanceClient.startMeasurement(an.AcquireTokenByCode,e.correlationId);try{if(e.code)return r=e.code,(o=this.hybridAuthCodeResponses.get(r))?(this.logger.verbose("Existing acquireTokenByCode request found",e.correlationId),n.endMeasurement({success:!0}),n.discardMeasurement()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync(cn(cn({},e),{correlationId:t})).then((function(e){return i.eventHandler.emitEvent(Za.ACQUIRE_TOKEN_BY_CODE_SUCCESS,cr.Silent,e),i.hybridAuthCodeResponses.delete(r),n.endMeasurement({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,isNativeBroker:e.fromNativeBroker}),n.flushMeasurement(),e})).catch((function(e){throw i.hybridAuthCodeResponses.delete(r),i.eventHandler.emitEvent(Za.ACQUIRE_TOKEN_BY_CODE_FAILURE,cr.Silent,null,e),n.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),n.flushMeasurement(),e})),this.hybridAuthCodeResponses.set(r,o)),[2,o];if(e.nativeAccountId){if(this.canUseNative(e,e.nativeAccountId))return[2,this.acquireTokenNative(e,sr.acquireTokenByCode,e.nativeAccountId).catch((function(e){throw e instanceof ks&&e.isFatal()&&(i.nativeExtensionProvider=void 0),e}))];throw vi.createUnableToAcquireTokenFromNativePlatformError()}throw vi.createAuthCodeOrNativeAccountIdRequiredError()}catch(s){throw this.eventHandler.emitEvent(Za.ACQUIRE_TOKEN_BY_CODE_FAILURE,cr.Silent,null,s),n.endMeasurement({errorCode:s instanceof Ir&&s.errorCode||void 0,subErrorCode:s instanceof Ir&&s.subError||void 0,success:!1}),s}return[2]}))}))},e.prototype.acquireTokenByCodeAsync=function(e){return un(this,void 0,void 0,(function(){return ln(this,(function(t){switch(t.label){case 0:return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),[4,this.createSilentAuthCodeClient(e.correlationId).acquireToken(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.acquireTokenByRefreshToken=function(e){return un(this,void 0,void 0,(function(){var t,n=this;return ln(this,(function(r){return Ja.blockReloadInHiddenIframes(),t=this.performanceClient.startMeasurement(an.AcquireTokenByRefreshToken,e.correlationId),this.eventHandler.emitEvent(Za.ACQUIRE_TOKEN_NETWORK_START,cr.Silent,e),[2,this.createSilentRefreshClient(e.correlationId).acquireToken(e).then((function(e){return t.endMeasurement({success:!0,fromCache:e.fromCache,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length}),e})).catch((function(r){var o=r instanceof qi,i=r instanceof Di,a=r.errorCode===lr;if(o&&a&&!i)return n.logger.verbose("Refresh token expired or invalid, attempting acquire token by iframe",e.correlationId),n.createSilentIframeClient(e.correlationId).acquireToken(e).then((function(e){return t.endMeasurement({success:!0,fromCache:e.fromCache,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length}),e})).catch((function(e){throw t.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e}));throw t.endMeasurement({success:!1}),r}))]}))}))},e.prototype.logout=function(e){return un(this,void 0,void 0,(function(){var t;return ln(this,(function(n){return t=this.getRequestCorrelationId(e),this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),[2,this.logoutRedirect(cn({correlationId:t},e))]}))}))},e.prototype.logoutRedirect=function(e){return un(this,void 0,void 0,(function(){var t;return ln(this,(function(n){return t=this.getRequestCorrelationId(e),this.preflightBrowserEnvironmentCheck(cr.Redirect),[2,this.createRedirectClient(t).logout(e)]}))}))},e.prototype.logoutPopup=function(e){try{var t=this.getRequestCorrelationId(e);return this.preflightBrowserEnvironmentCheck(cr.Popup),this.createPopupClient(t).logout(e)}catch(n){return Promise.reject(n)}},e.prototype.getAllAccounts=function(){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts():[]},e.prototype.getAccountByUsername=function(e){var t=this.getAllAccounts();return!Io.isEmpty(e)&&t&&t.length?(this.logger.verbose("Account matching username found, returning"),this.logger.verbosePii("Returning signed-in accounts matching username: "+e),t.filter((function(t){return t.username.toLowerCase()===e.toLowerCase()}))[0]||null):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)},e.prototype.getAccountByHomeId=function(e){var t=this.getAllAccounts();return!Io.isEmpty(e)&&t&&t.length?(this.logger.verbose("Account matching homeAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching homeAccountId: "+e),t.filter((function(t){return t.homeAccountId===e}))[0]||null):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)},e.prototype.getAccountByLocalId=function(e){var t=this.getAllAccounts();return!Io.isEmpty(e)&&t&&t.length?(this.logger.verbose("Account matching localAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching localAccountId: "+e),t.filter((function(t){return t.localAccountId===e}))[0]||null):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)},e.prototype.setActiveAccount=function(e){this.browserStorage.setActiveAccount(e)},e.prototype.getActiveAccount=function(){return this.browserStorage.getActiveAccount()},e.prototype.preflightBrowserEnvironmentCheck=function(e,t){if(void 0===t&&(t=!0),this.logger.verbose("preflightBrowserEnvironmentCheck started"),Ja.blockNonBrowserEnvironment(this.isBrowserEnvironment),Ja.blockRedirectInIframe(e,this.config.system.allowRedirectInIframe),Ja.blockReloadInHiddenIframes(),Ja.blockAcquireTokenInPopups(),Ja.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),e===cr.Redirect&&this.config.cache.cacheLocation===rr.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw xa.createInMemoryRedirectUnavailableError();e!==cr.Redirect&&e!==cr.Popup||this.preflightInteractiveRequest(t)},e.prototype.preflightInteractiveRequest=function(e){this.logger.verbose("preflightInteractiveRequest called, validating app environment"),Ja.blockReloadInHiddenIframes(),e&&this.browserStorage.setInteractionInProgress(!0)},e.prototype.acquireTokenNative=function(e,t,n){return un(this,void 0,void 0,(function(){return ln(this,(function(r){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw vi.createNativeConnectionNotEstablishedError();return[2,new Ns(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)]}))}))},e.prototype.canUseNative=function(e,t){if(this.logger.trace("canUseNative called"),!Os.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case An.NONE:case An.CONSENT:case An.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace("canUseNative: prompt = "+e.prompt+" is not compatible with native flow, returning false"),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1)},e.prototype.getNativeAccountId=function(e){var t=e.account||this.browserStorage.getAccountInfoByHints(e.loginHint,e.sid)||this.getActiveAccount();return t&&t.nativeAccountId||""},e.prototype.createPopupClient=function(e){return new xs(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)},e.prototype.createRedirectClient=function(e){return new Ls(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)},e.prototype.createSilentIframeClient=function(e){return new qs(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,sr.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)},e.prototype.createSilentCacheClient=function(e){return new Ps(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)},e.prototype.createSilentRefreshClient=function(e){return new Hs(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)},e.prototype.createSilentAuthCodeClient=function(e){return new js(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,sr.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)},e.prototype.addEventCallback=function(e){return this.eventHandler.addEventCallback(e)},e.prototype.removeEventCallback=function(e){this.eventHandler.removeEventCallback(e)},e.prototype.addPerformanceCallback=function(e){return this.performanceClient.addPerformanceCallback(e)},e.prototype.removePerformanceCallback=function(e){return this.performanceClient.removePerformanceCallback(e)},e.prototype.enableAccountStorageEvents=function(){this.eventHandler.enableAccountStorageEvents()},e.prototype.disableAccountStorageEvents=function(){this.eventHandler.disableAccountStorageEvents()},e.prototype.getTokenCache=function(){return this.tokenCache},e.prototype.getLogger=function(){return this.logger},e.prototype.setLogger=function(e){this.logger=e},e.prototype.initializeWrapperLibrary=function(e,t){this.browserStorage.setWrapperMetadata(e,t)},e.prototype.setNavigationClient=function(e){this.navigationClient=e},e.prototype.getConfiguration=function(){return this.config},e.prototype.getRequestCorrelationId=function(e){return(null===e||void 0===e?void 0:e.correlationId)?e.correlationId:this.isBrowserEnvironment?this.browserCrypto.createNewGuid():Sn.EMPTY_STRING},e}(),Ws=function(e){function t(t){var n=e.call(this,t)||this;return n.activeSilentTokenRequests=new Map,n}return on(t,e),t.prototype.loginRedirect=function(e){return un(this,void 0,void 0,(function(){var t;return ln(this,(function(n){return t=this.getRequestCorrelationId(e),this.logger.verbose("loginRedirect called",t),[2,this.acquireTokenRedirect(cn({correlationId:t},e||wr))]}))}))},t.prototype.loginPopup=function(e){var t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup(cn({correlationId:t},e||wr))},t.prototype.acquireTokenSilent=function(e){return un(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c=this;return ln(this,(function(u){if(t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(an.AcquireTokenSilent,t),this.preflightBrowserEnvironmentCheck(cr.Silent),this.logger.verbose("acquireTokenSilent called",t),!(r=e.account||this.getActiveAccount()))throw vi.createNoAccountError();return o={clientId:this.config.auth.clientId,authority:e.authority||Sn.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:r.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},i=JSON.stringify(o),"undefined"===typeof(a=this.activeSilentTokenRequests.get(i))?(this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t),s=this.acquireTokenSilentAsync(cn(cn({},e),{correlationId:t}),r).then((function(e){return c.activeSilentTokenRequests.delete(i),n.endMeasurement({success:!0,fromCache:e.fromCache,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,isNativeBroker:e.fromNativeBroker}),n.flushMeasurement(),e})).catch((function(e){throw c.activeSilentTokenRequests.delete(i),n.endMeasurement({success:!1}),n.flushMeasurement(),e})),this.activeSilentTokenRequests.set(i,s),[2,s]):(this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),n.endMeasurement({success:!0}),n.discardMeasurement(),[2,a])}))}))},t.prototype.acquireTokenSilentAsync=function(e,t){return un(this,void 0,void 0,(function(){var n,r,o,i,a,s=this;return ln(this,(function(c){switch(c.label){case 0:return this.eventHandler.emitEvent(Za.ACQUIRE_TOKEN_START,cr.Silent,e),n=this.performanceClient.startMeasurement(an.AcquireTokenSilentAsync,e.correlationId),Os.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&t.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),o=cn(cn({},e),{account:t}),r=this.acquireTokenNative(o,sr.acquireTokenSilent_silentFlow).catch((function(t){return un(s,void 0,void 0,(function(){return ln(this,(function(n){if(t instanceof ks&&t.isFatal())return this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,[2,this.createSilentIframeClient(e.correlationId).acquireToken(e)];throw t}))}))})),[3,3]):[3,1];case 1:return this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),[4,(i=this.createSilentCacheClient(e.correlationId)).initializeSilentRequest(e,t)];case 2:a=c.sent(),r=i.acquireToken(a).catch((function(){return un(s,void 0,void 0,(function(){return ln(this,(function(e){return[2,this.acquireTokenByRefreshToken(a)]}))}))})),c.label=3;case 3:return[2,r.then((function(e){return s.eventHandler.emitEvent(Za.ACQUIRE_TOKEN_SUCCESS,cr.Silent,e),n.endMeasurement({success:!0,fromCache:e.fromCache,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,isNativeBroker:e.fromNativeBroker}),e})).catch((function(e){throw s.eventHandler.emitEvent(Za.ACQUIRE_TOKEN_FAILURE,cr.Silent,null,e),n.endMeasurement({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e}))]}}))}))},t}(Gs);function Vs(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ys={initialize:function(){return Promise.reject(xa.createStubPcaInstanceCalledError())},acquireTokenPopup:function(){return Promise.reject(xa.createStubPcaInstanceCalledError())},acquireTokenRedirect:function(){return Promise.reject(xa.createStubPcaInstanceCalledError())},acquireTokenSilent:function(){return Promise.reject(xa.createStubPcaInstanceCalledError())},acquireTokenByCode:function(){return Promise.reject(xa.createStubPcaInstanceCalledError())},getAllAccounts:function(){return[]},getAccountByHomeId:function(){return null},getAccountByUsername:function(){return null},getAccountByLocalId:function(){return null},handleRedirectPromise:function(){return Promise.reject(xa.createStubPcaInstanceCalledError())},loginPopup:function(){return Promise.reject(xa.createStubPcaInstanceCalledError())},loginRedirect:function(){return Promise.reject(xa.createStubPcaInstanceCalledError())},logout:function(){return Promise.reject(xa.createStubPcaInstanceCalledError())},logoutRedirect:function(){return Promise.reject(xa.createStubPcaInstanceCalledError())},logoutPopup:function(){return Promise.reject(xa.createStubPcaInstanceCalledError())},ssoSilent:function(){return Promise.reject(xa.createStubPcaInstanceCalledError())},addEventCallback:function(){return null},removeEventCallback:function(){},addPerformanceCallback:function(){return""},removePerformanceCallback:function(){return!1},enableAccountStorageEvents:function(){},disableAccountStorageEvents:function(){},getTokenCache:function(){throw xa.createStubPcaInstanceCalledError()},getLogger:function(){throw xa.createStubPcaInstanceCalledError()},setLogger:function(){},setActiveAccount:function(){},getActiveAccount:function(){return null},initializeWrapperLibrary:function(){},setNavigationClient:function(){},getConfiguration:function(){throw xa.createStubPcaInstanceCalledError()}},Qs=function(){function e(){}return e.getInteractionStatusFromEvent=function(e,t){switch(e.eventType){case Za.LOGIN_START:return ur.Login;case Za.SSO_SILENT_START:return ur.SsoSilent;case Za.ACQUIRE_TOKEN_START:if(e.interactionType===cr.Redirect||e.interactionType===cr.Popup)return ur.AcquireToken;break;case Za.HANDLE_REDIRECT_START:return ur.HandleRedirect;case Za.LOGOUT_START:return ur.Logout;case Za.SSO_SILENT_SUCCESS:case Za.SSO_SILENT_FAILURE:if(t&&t!==ur.SsoSilent)break;return ur.None;case Za.LOGOUT_END:if(t&&t!==ur.Logout)break;return ur.None;case Za.HANDLE_REDIRECT_END:if(t&&t!==ur.HandleRedirect)break;return ur.None;case Za.LOGIN_SUCCESS:case Za.LOGIN_FAILURE:case Za.ACQUIRE_TOKEN_SUCCESS:case Za.ACQUIRE_TOKEN_FAILURE:if(e.interactionType===cr.Redirect||e.interactionType===cr.Popup){if(t&&t!==ur.Login&&t!==ur.AcquireToken)break;return ur.None}}return null},e}(),Js={instance:Ys,inProgress:ur.None,accounts:[],logger:new Ai({})},$s=(0,e.createContext)(Js);$s.Consumer;function Xs(e,t){if(e.length!==t.length)return!1;var n=Vs(t);return e.every((function(e){var t=n.shift();return!(!e||!t)&&(e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username)}))}var Zs,ec="1.4.5";!function(e){e.UNBLOCK_INPROGRESS="UNBLOCK_INPROGRESS",e.EVENT="EVENT"}(Zs||(Zs={}));var tc=function(e,t){var n=t.type,r=t.payload,o=e.inProgress;switch(n){case Zs.UNBLOCK_INPROGRESS:e.inProgress===ur.Startup&&(o=ur.None,r.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case Zs.EVENT:var i=r.message,a=Qs.getInteractionStatusFromEvent(i,e.inProgress);a&&(r.logger.info("MsalProvider - ".concat(i.eventType," results in setting inProgress from ").concat(e.inProgress," to ").concat(a)),o=a);break;default:throw new Error("Unknown action type: ".concat(n))}var s=r.instance.getAllAccounts();return o===e.inProgress||Xs(s,e.accounts)?o!==e.inProgress?pt(pt({},e),{},{inProgress:o}):Xs(s,e.accounts)?e:pt(pt({},e),{},{accounts:s}):pt(pt({},e),{},{inProgress:o,accounts:s})};function nc(t){var n=t.instance,r=t.children;(0,e.useEffect)((function(){n.initializeWrapperLibrary(br.React,ec)}),[n]);var o=(0,e.useMemo)((function(){return n.getLogger().clone("@azure/msal-react",ec)}),[n]),i=k((0,e.useReducer)(tc,void 0,(function(){return{inProgress:ur.Startup,accounts:n.getAllAccounts()}})),2),a=i[0],s=i[1];(0,e.useEffect)((function(){var e=n.addEventCallback((function(e){s({payload:{instance:n,logger:o,message:e},type:Zs.EVENT})}));return o.verbose("MsalProvider - Registered event callback with id: ".concat(e)),n.initialize().then((function(){n.handleRedirectPromise().catch((function(){})).finally((function(){s({payload:{instance:n,logger:o},type:Zs.UNBLOCK_INPROGRESS})}))})),function(){e&&(o.verbose("MsalProvider - Removing event callback ".concat(e)),n.removeEventCallback(e))}}),[n,o]);var c={instance:n,inProgress:a.inProgress,accounts:a.accounts,logger:o};return e.createElement($s.Provider,{value:c},r)}console.log("Client id: ","27b80cca-d3c9-4ace-903c-2622533b11d9");var rc={auth:{clientId:"27b80cca-d3c9-4ace-903c-2622533b11d9",authority:"https://login.microsoftonline.com/".concat("f8cdef31-a31e-4b4a-93e4-5f571e91255a"),redirectUri:"http://localhost:3000/dashboard"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1}},oc=function(e){var t,n=qt(),r=e||{},o=r.reducer,i=void 0===o?void 0:o,a=r.middleware,s=void 0===a?n():a,c=r.devTools,u=void 0===c||c,l=r.preloadedState,d=void 0===l?void 0:l,h=r.enhancers,p=void 0===h?void 0:h;if("function"===typeof i)t=i;else{if(!Ut(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=wt(i)}var f=s;"function"===typeof f&&(f=f(n));var g=Ct.apply(void 0,f),m=Et;u&&(m=xt(Mt({trace:!1},"object"===typeof u&&u)));var v=[g];return Array.isArray(p)?v=kt([g],p):"function"===typeof p&&(v=p(v)),bt(t,d,m.apply(void 0,v))}({reducer:{user:Vt}});console.log("Client id: ",{NODE_ENV:"production",PUBLIC_URL:"/anandureghu/microsoft-login",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLIENT_ID:"27b80cca-d3c9-4ace-903c-2622533b11d9",REACT_APP_AUTHORITY_CLOUD_INSTANCE:"https://login.microsoftonline.com/common",REACT_APP_AUTHORITY_TENANT_INFO:"f8cdef31-a31e-4b4a-93e4-5f571e91255a",REACT_APP_REDIRECT_URI:"http://localhost:3000/dashboard"}.CLIENT_ID);var ic=new Ws(rc);t.createRoot(document.getElementById("root")).render((0,Yt.jsx)(e.StrictMode,{children:(0,Yt.jsx)(nc,{instance:ic,children:(0,Yt.jsx)(y,{store:oc,children:(0,Yt.jsx)(nn,{})})})}))}()}();
//# sourceMappingURL=main.11ef2775.js.map